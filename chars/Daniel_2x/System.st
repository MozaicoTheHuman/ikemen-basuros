; ADD004 BASIC PIEs ReBuilded CNS (3/15/2015)
;==============================================
; This file is Made by PIE.
; there is a backup of this file in the same folder, named "<samename>.a4bk".
; use assist tool, or delete this file, then remove ".a4bk" from the neme of backup to Restore.
;==============================================

;Ideas list:
;George can die in a hole


; Lose by Time Over
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170,VarSet]
type = VarRandom
trigger1 = Time = 0
v = 5
range = 0, 29

[State 170, 2] ;Peace
type = ChangeState
trigger1 = Var(5) = [0,9]
trigger1 = Time = 0
value = 171

[State 170, 2] ;Peace
type = ChangeState
trigger1 = Var(5) = [10,19]
trigger1 = Time = 0
value = 172

[State 170, 2] ;Peace
type = ChangeState
trigger1 = Var(5) = [20,29]
trigger1 = Time = 0
value = 173

[State 170, 1]
type = NotHitBy
trigger1 = time < 60
value = SCA
time = 1

[State 171, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = roundnotover

; Lose by Time Over 2
[Statedef 171]
type = S
ctrl = 0
anim = 5500
velset = 0,0

[State 171, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nomusic

[State 5500, GameOver]
type = PlaySnd
trigger1 = Time = 1
value = 5500, 1+random%3

; Lose by Time Over 3
[Statedef 172]
type = S
ctrl = 0
anim = 172
velset = 0,0

[State 171, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nomusic

[State 171, AssertSpecial]
type = AssertSpecial
trigger1 = time < 600
flag = roundnotover

[State 172, GameOver]
type = PlaySnd
trigger1 = Time = 0
value = 188, 5

; Lose by Time Over 3 - FUCKING DIZZY BITCH
[Statedef 173]
type = S
ctrl = 0
anim = 175
velset = 0,0

[State 173, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nomusic

[State 173, RANT]
type = PlaySnd
trigger1 = Time = 0
value = 175, 0

[State 173, AssertSpecial]
type = AssertSpecial
trigger1 = time < 360
flag = roundnotover

[State 173, ChangeAnim]
type = ChangeAnim
trigger1 = Time=265
value = 176

[State 173, ChangeAnim]
type = PlaySnd
trigger1 = Time=265
value = 2435,0

[State 173, 6]
type = PlaySnd
trigger1 = AnimElem=3
trigger1 = Anim=176
value = F7, 2

[State 173, 6]
type = PlaySnd
trigger1 = AnimElem=3
trigger1 = Anim=176
value = 2435, 2

[State 173, 6]
type = PlaySnd
trigger1 = Time=245
value = 9021, 0

[State 173, 7]
type = GameMakeAnim
trigger1 = AnimElem=3
trigger1 = Anim=176
value = 62
pos = 0, 0
under = 0

[State 173, RANT]
type = PlaySnd
trigger1 = AnimElem=3
trigger1 = Anim=176
value = 204, 0

[State 173, Helper]
type = Helper
trigger1 = Time=0
helpertype = normal
name = "Cherry"
ID = 173
stateno = 96900
pos = 28,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

; Lose by Time Over 3 - FUCKING DIZZY BITCH
[Statedef 96900]
type = S
ctrl = 0
anim = 96900
velset = 0,0
sprpriority=4

[State 173, ChangeAnim]
type = ChangeAnim
trigger1 = Time=265
value = 96901

;===========================
;EXTRA INTROS
;========================
;Sup, uncel FUUUUUUUUUUUK
[Statedef 1900]
type = S
ctrl=0
anim=9741

[State Sup, uncel scroodge]
type = PlaySnd
trigger1 = Time%120=0 && time<600
value = S1999,4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time=497
value = 54199

[State Danil stop]
type = Explod
trigger1 = Time=0
anim = 1900
ID = 1900
pos = 0,-92
postype = p1
facing = 1
bindtime = -1
removetime = 600
pausemovetime = 0
scale = 6,6
ontop = 1
ownpal = 1
removeongethit = 0

[State FUCK OFF]
type = PlaySnd
trigger1 = Time=600
value = S20,37
[State MUGEN FAGGOT]
type = PlaySnd
trigger1 = Time=600
value = S1999,6

[State crash fais]
type = ModifyExplod
trigger1 = Time=[0,550]
scale = 6*(1-time/600.0),6*(1-time/600.0)

[State Danil stop]
type = Explod
trigger1 = Time=600
anim = 1900
ID = 1900
pos = 0,-45
postype = p1
facing = 1
bindtime = 1
removetime = 35
pausemovetime = 0
scale = 0.5,0.5
vel=12,-6
accel=1,0.5
ontop = 1
ownpal = 1
removeongethit = 0

[State 187, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = intro
flag2 = nomusic

[State DED]
type = ChangeState
trigger1 = Anim=54199 && AnimTime=0
value = 0
ctrl = 0

[Statedef 1902]
type = S
ctrl=0
anim=1902

[State I are god]
type = PlaySnd
trigger1 = Time=0
value= S1999,2
channel=0
[State QUIET]
type = PlaySnd
trigger1 = AnimElem=3
value= S853,13
[State WHOA]
type = EnvShake
trigger1 = AnimElem=3
time = 16
freq = 195
ampl = -4

[State Danil stop]
type = Explod
trigger1 = Time=0
anim = 1903
ID = 1903
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = 0.5,0.5
ontop = 1
ownpal = 1
removeongethit = 0

[State Danil stop]
type = Explod
trigger1 = Time=561
anim = 1904
ID = 1903
pos = 0,0
postype = p1
facing = 1
removetime = 45
pausemovetime = 0
scale = 0.5,0.5
accel= 0,0.5
ontop = 1
ownpal = 1
removeongethit = 0

[State 187, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = intro
[State 187, AssertSpecial]
type = AssertSpecial
trigger1 = AnimElemTime(3)>=0
flag = nomusic

[State DED]
type = ChangeState
trigger1 = AnimTime=0
value = 0
ctrl = 0

;BOOMERANG...?
[Statedef 1904]
type = S
ctrl=0
anim=0

[State TV FLASH]
type = EnvColor
trigger1 = Time=0
value = 255,255,255
time = 15
under = 0

[State K]
type = BGPalFX
trigger1 = Time<429
time = 1
add = -100-ceil(200*sin(time/8.0)),-100-ceil(200*sin(time/8.0)),-200-ceil(200*sin(time/8.0))
mul = 256,256,256
invertall = 0
color = 256

[State Epic Jingle]
type = PlaySnd
trigger1 = Time=0
value= S1999,5
channel=0

[State Danil stop]
type = Explod
trigger1 = Time%10=0 && Time<429
anim = 200+(random%6)*10
ID = 1904
pos = 160,120
random = 320,240
postype = back
facing = 1
bindtime = -1
removetime = 100
pausemovetime = 0
scale = 0.5,0.5
ontop = 1
ownpal = 1
removeongethit = 0

[State FUCK]
type = RemoveExplod
trigger1 = Time=429
id = 1904

[State QUIET]
type = PlaySnd
trigger1 = Time=429
value= S853,13
[State QUIET]
type = PlaySnd
trigger1 = Time=429
value= S3800,1
[State WHOA]
type = EnvShake
trigger1 = Time=429
time = 25
freq = 195
ampl = -8

[State Gore]
type = EnvColor
trigger1 = Time=429 || Time=432  || Time=435
value = 255,0,0
time = 2
under = 0

[State BLOOD]
type = Explod
triggerall = Roundstate>2 && Time=[429,444]
trigger1 = Time%4=0
anim = F10
pos = 8,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 1,1
ontop = 1
ownpal = 1
removeongethit = 0
vel=4,-5
accel=0,0.4
[State BLOOD]
type = Explod
triggerall = Roundstate>2 && Time=[429,444]
trigger1 = Time%4=0
anim = F10
pos = -8,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 1,1
ontop = 1
ownpal = 1
removeongethit = 0
vel=-4,-5
accel=0,0.4

[State K]
type = BGPalFX
trigger1 =  Roundstate>2 && Time>=429
time = 1
add = 100,-256,-256
mul = 256,256,256
invertall = 0
color = 169

[State BLOOD BIGGER]
type = Explod
triggerall = Roundstate>2 && Time=[429,444]
trigger1 = Time%4=0
anim = F11
pos = 12,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 1.3,1.3
ontop = 1
ownpal = 1
removeongethit = 0
vel=7,-6
accel=0,0.4
[State BLOOD]
type = Explod
triggerall = Roundstate>2 && Time=[429,444]
trigger1 = Time%4=0
anim = F11
pos = -12,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 1.3,1.3
ontop = 1
ownpal = 1
removeongethit = 0
vel=-7,-6
accel=0,0.4

[State BLOOD HOLY SHIT HEMORRAGIA]
type = Explod
triggerall = Roundstate>2 && Time=[429,444]
trigger1 = Time%4=0
anim = F12
pos = 24,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 1.6,1.6
ontop = 1
ownpal = 1
removeongethit = 0
vel=8,-7
accel=0,0.4
[State BLOOD]
type = Explod
triggerall = Roundstate>2 && Time=[429,444]
trigger1 = Time%4=0
anim = F11
pos = -24,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = 1.6,1.6
ontop = 1
ownpal = 1
removeongethit = 0
vel=-8,-7
accel=0,0.4

[State Spoderman]
type = AssertSpecial
trigger1 =  Time<429 && roundstate<2
trigger2 =  Time>429 && roundstate>2
flag = invisible

[State 187, AssertSpecial]
type = AssertSpecial
trigger1 = roundstate<2
flag = intro
[State 187, AssertSpecial]
type = AssertSpecial
trigger1 = roundstate>2 && Time<=600
flag = roundnotover
[State 187, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State DED]
type = ChangeState
triggerall = roundstate<2
trigger1 = Time>600
value = 0
ctrl = 0

;Unfunny
[Statedef 1905]
type = S
ctrl=0
anim=1905

[State I are god]
type = PlaySnd
triggerall = Anim=1905
trigger1 = AnimElem=6
value= S1999,13-Var(2)
channel=0

[State I are god]
type = PlaySnd
triggerall = Anim=1905
trigger1 = AnimElem=5
value= S1,5
channel=0
[State QUIET]
type = PlaySnd
triggerall = Anim=1905
trigger1 = AnimElem=7
value= S853,13
[State WHOA]
type = EnvShake
triggerall = Anim=1905
trigger1 = AnimElem=7
time = 25
freq = 195
ampl = -4

[State 187, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = intro
flag2 = nomusic

[State Ass]
type = ChangeAnim
trigger1 = Time=245 && Var(2) = 13
value = 1902
elem = 4
[State Ass]
type = ChangeAnim
trigger1 = Time=245 && Var(2) = 12
value = 1111
elem = 8

[State DED]
type = ChangeState
trigger1 = AnimTime=0
value = 0
ctrl = 0

;You.........
[Statedef 1909]
type = S
ctrl=0
anim=1909

[State YOU]
type = PlaySnd
trigger1 = AnimElem=5
value= S1999,13
channel=0

[State I are god]
type = PlaySnd
trigger1 = AnimElem=3
value= S1,5
channel=0
[State QUIET]
type = PlaySnd
trigger1 = AnimElem=4
value= S853,13
[State WHOA]
type = EnvShake
trigger1 = AnimElem=4
time = 25
freq = 195
ampl = -4

[State 187, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = intro
flag2 = nomusic

[State DED]
type = ChangeState
trigger1 = AnimTime=0
value = 0
ctrl = 0

;Reese Worthington is a goddamn boss.
[Statedef 1910]
type = S
ctrl=0
anim=1910

[State Bat]
type = Helper
trigger1 = Time=0
helpertype = normal
name = "Camera"
ID = 1913
stateno = 1912
pos = 0,0
postype = p1
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0
[State lal]
type = VarSet
trigger1 = Time=0
v = 2
value = Pos x
[State lal]
type = VarSet
trigger1 = Time=1
v = 5
value = -240

[State BendToCamera]
type = PosSet
trigger1 = Time=1
x = var(5)
[State Do not cockblock]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[State Reese Theme]
type = PlaySnd
trigger1 = Time=0
value = S1910,5
abspan=0
volume=255
[State QUITIT]
type = AssertSpecial
trigger1 = 1
flag = intro
flag2 = nomusic

[State Bend 1]
type = PlaySnd
triggerall = Anim = 1910
trigger1 = AnimElem=3
value = S1910,3
volume=255

[State In the middle]
type = PosAdd
triggerall = Anim = 1910
trigger1 = AnimElem=5
x = (var(2) - var(5))/2.0
[State Appear]
type = PosSet
triggerall = Anim = 1910
trigger1 = AnimElem=6
x = var(2)
[State BUT]
type = PosSet
triggerall = Anim = 1910
trigger1 = AnimElem=6
trigger1 = Pos X != helper(1913),Pos X
x =  helper(1913),Pos X

[State STRETCH]
type = AngleDraw
triggerall = Anim = 1910
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6)<0
scale = (var(2) - var(5))/60.0,1

[State Bend 1]
type = PlaySnd
triggerall = Anim = 1910
trigger1 = AnimElem=3
value = S1910,3
volume=255
[State MOVE IT!]
type = PlaySnd
triggerall = Anim = 1910
trigger1 = AnimElem=5
value = S1910,2
volume=255
[State NAIL IT BRO]
type = PlaySnd
trigger1 = AnimElem=8 && Anim = 1910
trigger2 = AnimElem=3 && Anim = 1911
value = S1910,4
volume=255
[State Sound Stolen From WlanmaniaX]
type = PlaySnd
triggerall = Anim = 1910
trigger1 = AnimElem=11
value = S1910,6
volume=255
[State WHIFFANDWHIFFANDWHIFF]
type = PlaySnd
triggerall = Anim = 1910
trigger1 = AnimElem=13||AnimElem=17||AnimElem=21||AnimElem=25||AnimElem=29
value = S1910,0
volume=255
[State WHIFFANDWHIFFANDWHIFF]
type = PlaySnd
triggerall = Anim = 1910
trigger1 = AnimElem=32
value = S1910,0
volume=255
Persistent=2

[State BOOM!]
type = ChangeAnim
trigger1 =  Time>=480  && Anim = 1910
value = 1911
[State OUT OF THE HAND]
type = PlaySnd
trigger1 = Anim=1911 && AnimElem=1
value = S22000,1
volume = 255
[State Bat]
type = Helper
trigger1 = Anim=1911 && AnimElem=1
helpertype = normal
name = "Daniel's Bat"
ID = 1912
stateno = 1911
pos = 46,-65
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.5
size.yscale = 0.5

[State Ded]
type = ChangeState
trigger1 = Anim=1911 && AnimTime=0
value = 0
ctrl = 0

[Statedef 1911]
type = A
physics = N
ctrl=0
anim=1912
velset = -10, -10

[State Anvil]
type = PlaySnd
trigger1 = Time=0
value = S1910,8

[State Angle]
type = AngleDraw
trigger1 = 1
value = time*-10
[State Fall]
type = VelAdd
trigger1 = Time
y = 0.5

[State 3015, Helper]
type = Helper
trigger1 = Pos Y >= 0 && Vel Y > 0
helpertype = normal
name = "Dead Bait"
ID = 54192
pos = 0,0
stateno = 22002
postype = back
ownpal = 1
supermovetime = 9999
size.xscale=1
size.yscale=1
[State OUCH!]
type = EnvShake
trigger1 = Pos Y >= 0 && Vel Y > 0
time = 36
freq = 175
ampl = -20
phase = 90
[State Anvil]
type = PlaySnd
trigger1 = Pos Y >= 0 && Vel Y > 0
value = S1910,7
volume=255
[State Pos Y]
type = DestroySelf
trigger1 = Pos Y >= 0 && Vel Y > 0

[Statedef 1912]
type = A
physics = N
ctrl=0
anim=9741
velset = 0,0

[State Camera]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0

[State Ded]
type = DestroySelf
trigger1 = root,stateno!=1910

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 180]
type = S

[State Life]
type = PlaySnd
triggerall=!(prevstateno=184)
trigger1 = Time=0
value = S910,(0+(var(30)>=(lifemax*0.5))+(var(30)>=(lifemax*0.75))+(var(30)>=lifemax))
volume = 555
abspan=0

[State FAKKU]
type = AssertSpecial
trigger1 = 1
flag = nostandguard
flag2 = nocrouchguard
flag3 = nowalk

[State 180, winRRDA]
type=changestate
trigger1=prevstateno=4502
trigger2=prevstateno=184
value=184

[State 0, VarRandom]
type = VarRandom
trigger1 = Time=0
v = 5
range = 0,109;0,99


[State 180, 2] ;Peace
type = ChangeState
trigger1 = time = 0
trigger1 = Var(5) = [50,59]
value = 188
ctrl=0

[State Meow] ;Peace
type = ChangeState
trigger1 = matchover=1 && random<=250
value = 43906
ctrl=0

[State LOL] ;Peace
type = ChangeState
trigger1 = Var(5) = [80,89]
value = 176
ctrl=0
 
[State hardocar BAESZ DOWNZ] ;Peace
type = ChangeState
trigger1 = Var(5) = [90,99]
value = 178
ctrl=0

[State 180, 2] ;Peace
type = ChangeState
trigger1 = Var(5) = [0,9]
trigger2 = Var(5) = [40,49]
value = 181
ctrl=0

[State 180, 2] ;Peace
type = ChangeState
trigger1 = Var(5) = [10,19]
trigger2 = Var(5) = [60,69]
value = 182
ctrl=0

[State 180, 2] ;Peace
type = ChangeState
trigger1 = Var(5) = [20,29]
value = 183
ctrl=0

[State 180, 2] ;Peace
type = ChangeState
trigger1 = Var(5) = [30,39]
value = 185
ctrl=0

[State 180, 2] ;Peace
type = ChangeState
trigger1 = Var(5) = [70,79]
value = 54189
ctrl=0

[State 180, 2] ;Peace
type = ChangeState
trigger1 = Var(5) = [100,109]
value = 1904
ctrl=0

;Clarice
[Statedef 176]
type = S
ctrl = 0
velset = 0,0
anim=188

[State 1362, PlaySnd]
type = PlaySnd
trigger1 = Time=0
value = S100,1+random%3

[State BOOM]
type = Helper
trigger1 = Time=36
id = 22770
name = "Arcana Heart Clarice"
pos = 0,0
postype = P1
stateno = 22770
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime=99999999
pausemovetime=99999999
persistent=0

[State Shut Up]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State NOT DONE]
type = AssertSpecial
trigger1 = Time < 400
flag = roundnotover

;OH SHIT
[Statedef 178]
type = S
ctrl = 0
velset = 0,0
anim=178

[State EErrrrr]
type = AngleDraw
trigger1 = AnimElemTime(9)>=0
value = random%360
scale = 1+(25-random%50)/50.0,1+(25-random%50)/50.0


[State DIZCO DOWNZ]
type = AllPalFX
triggerall = AnimElemTime(9)>=0
trigger1 = AnimElemTime(9)%999=0
time = 999
add = -100,0,18
mul = 256,256,256
sinadd = 200,-36,100,56
invertall = 0
color = 255

[State Ha]
type = PosAdd
trigger1 = AnimElemTime(9)=0
y = -40


[State HARDCORE]
type = PlaySnd
trigger1 = AnimElemTime(9)=0
value = S17777,2
volume=255
abspan=0
loop=1
persistent=0
[State PUMP]
type = PlaySnd
trigger1 = AnimElemTime(9)=0
value = S17777,1
volume=255
abspan=0
loop=1
persistent=0

[State Shut Up]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State NOT DONE]
type = AssertSpecial
trigger1 = Time < 400
flag = roundnotover

;----FUCK YOU MOM----
[Statedef 43906]
type = S
ctrl = 0
velset = 0,0
anim=43906

[State Scary]
type = PlaySnd
trigger1 = Time=0
value = S5004,3
abspan=0

[State WOOSH]
type = PlaySnd
trigger1 = AnImElEm= 3
value = S1,5

[State meow.png]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG
flag3 = nomusic

[State NO ESCAPE]
type = AssertSpecial
trigger1 = Time<999
flag = roundnotover
flag2 = noshadow

[State BOO!B]
type = PlaySnd
trigger1 = Time=999
value = S66666,0
volume=999

[State BOO!B]
type = PlaySnd
trigger1 = Time=999
value = S66666,0
volume=999

[State BOO!B]
type = PlaySnd
trigger1 = Time=999
value = S66666,0
volume=999

[State BOO!B]
type = PlaySnd
trigger1 = Time=999
value = S695,0
volume=999

[State BOO!B]
type = PlaySnd
trigger1 = Time=999
value = S66666,0
volume=999

[State 0, PosSet]
type = PosAdd
trigger1 = AnimElem=8
y = -64

[State Fade in]
type = AllPalFX
trigger1 = AnimElemTime(8)>=0
time = 1
mul = 256-256*(AnimElemTime(8)/500.0),256-256*(AnimElemTime(8)/500.0),256-256*(AnimElemTime(8)/500.0)

[State EXTREME CLOSEUP!!!!!]
type = AngleDraw
trigger1 = AnimElemTime(8)>=0
scale = 1+(AnimElemTime(8)/30.0),1+(AnimElemTime(8)/30.0)
value=0

;---------------------------------------------------------------------------
; Win pose 1 - Peace? Symbol
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 181]
type = S
ctrl = 0
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time=0 && Var(5) = [0,9]
trigger2 = Time=60 && Var(5) = [40,49]
value = 181

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=4 && Var(5) = [40,49]
value = S237,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=60 && Var(5) = [40,49]
value = S22000,1
channel=2

[State 0, EnvShake]
type = EnvShake
trigger1 = Time=60 && Var(5) = [40,49]
time = 15
freq = 60
ampl = -4
phase = 90

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time=0 && Var(5) = [40,49]
value = 867
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time=60 && Var(5) = [40,49]
value = 2752
[State 0, ScreenBound]
type = ScreenBound
trigger1 = Time>=60 && Var(5) = [40,49]
value = 0
[State hours]
type = VelSet
trigger1 = Time>=60 && Var(5) = [40,49]
x = 18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=100 && Var(5) = [40,49]
value = S20,36

[State 0, EnvShake]
type = EnvShake
trigger1 = Time=100  && Var(5) = [40,49]
time = 19
freq = 90
ampl = -9
phase = 90

[State 0, PlaySnd]
type = PlaySnd
triggerall = Var(5) = [0,9]
trigger1 = Time=0
value = S2191,WinPerfect

[State 0, PlaySnd]
type = PlaySnd
triggerall = Var(5) = [40,49]
trigger1 = Time=0
value = S185,2+WinPerfect
channel=2

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Var(5) = [40,49]
flag = nomusic

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = Time<250+((Var(5)=[40,49])*285)
flag = roundnotover

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

;---------------------------------------------------------------------------
; YUME NIKKI!!!11gty4et43tgedsra

[Statedef 54189]
type = S
ctrl = 0
anim = 54189
velset = 0,0
sprpriority=1

[State 188, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5010,100+random%3
channel = 1
abspan=0
loop=1

[State 0, PalFXWiz]
type = BGPalFX
trigger1 = (Time%30)=0
time = 30
add = random%256,random%256,random%256
mul = random%256,random%256,random%256
sinadd = 245,55,110,8
invertall = 1
color = 32

[State 0, StopSnd]
type = StopSnd
triggerall = matchover
trigger1 = time=350
channel = -1

[State 0, Helper]
type = Helper
triggerall = Time>=60
trigger1 = (Time%30)=0
helpertype = normal ;player
name = "Random"
ID = 55555
stateno = 55555
pos = -200+random%400,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
triggerall = Time>=540
trigger1 = (Time%30)=0
helpertype = normal ;player
name = "Random"
ID = 65004
stateno = 65010
pos = -180,-120
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = Time=540
helpertype = normal ;player
name = "Random"
ID = 4900
stateno = 4901
pos = 25,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Helper]
type = Helper
trigger1 = Time=750
helpertype = normal ;player
name = "Random"
ID = 4900
stateno = 4901
pos = 25,0
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 188, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 188, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 900
flag = roundnotover

[State 188, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic

;Koa Dancing
[Statedef 55555]
type = S
ctrl = 0
anim = 55555+random%6
velset = 0,0
sprpriority=2

[State 0, EnvColor]
type = EnvColor
trigger1 = Time=0
value = random%255,random%255,random%255
time=4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = anim=55556
scale = 0.5,0.5
ignorehitpause=1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=0
value = S500,3
volume = -60

[State 0, Explod]
type = Explod
trigger1 = Time=0
anim = 2000
ID = 2000
pos = 0,-35
postype = p1
facing = 1
ontop=1
removetime = -2

[State 0, Explod]
type = Explod
trigger1 = Time=0
anim = 2001
ID = 2000
pos = 0,-35
postype = p1
facing = 1
ontop=1
removetime = -2

[State 0, Explod]
type = Explod
trigger1 = Time=0
anim = 2002
ID = 2000
pos = 0,-35
postype = p1
facing = 1
ontop=1
removetime = -2

;---------------------------------------------------------------------------
; Win pose I forgot how many winposes he has - "Water Sucks!"
; CNS difficulty: basic
; FUCK THIS SHIT LET'S GET OUTTA HERE
[Statedef 188]
type = S
ctrl = 0
anim = 23650
velset = 0,0

[State REPICK]
type = VarRandom
trigger1 = Time=0
v = 5
range = 0,2

[State 188, EnvColor]
type = EnvColor
trigger1 = 1
value = 0,0,0
under = time<400+(var(5)=2)*215

[State 188, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5004,3
channel = 0
abspan=0

[State 188, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5004,4
channel = 1
volume = -120
abspan=0
loop=1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(5)!=2
trigger1 = time=170
value = S5004,13
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(5)!=2
trigger1 = Time=170
value = 188

[State Self Made Joke]
type = PlaySnd
triggerall = var(5)=2
trigger1 = time=230
value = S1999,12

[State LAUGH TRACK]
type = PlaySnd
triggerall = var(5)=2
trigger1 = time=365
value = S1999,11

[State JOEK WAS OWN MAID] ;Sakuya
type = PlaySnd
triggerall = var(5)=2
trigger1 = time=365
value = S1999,10
channel = 0

[State Disk Scratch]
type = PlaySnd
triggerall = var(5)=2
trigger1 = time = 170
value = S54191,0
abspan = 0
channel = 1

[State U SHUDDUP]
type = PlaySnd
triggerall = var(5)=2
trigger1 = time=475
value = S1999,8
channel = 0
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(5)=2
trigger1 = Time=230
value = 1908

[State NEECK]
type = Explod
triggerall = var(5)=2
trigger1 = time=500
anim = 1907
ID = 999
pos = 160,240
postype = back
facing=1
bindtime = -1
removetime = 115
pausemovetime = 0
scale = .5,.5
ontop = 1
ownpal = 1
removeongethit = 0

[State 80010, Nick]
type = Helper
trigger1 = Time=120
helpertype = normal
name = "Epic dude that flies called Nick"
ID = 50188+(var(5)=2)
stateno = 50188
pos = 45,-52
postype = front
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 0.35
size.yscale = 0.35

[State -2, WARNING SIGN]
type = Helper
trigger1 = Time=125
id = 133801
name = "WARNING"
pos = 0,0
postype = back
stateno = 133801
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 80010, BOOM]
type = Helper
trigger1 = Time=272 && var(5)!=2
helpertype = normal
name = "BOOM"
ID = 4446
stateno = 4446
pos = 160,-45
postype = left
facing = 1
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 6
size.yscale = 6

[State 0, Explod]
type = Explod
trigger1 = Time=272 && var(5)!=2
anim = 4447
ID = 22650
pos = 0,-40
random = 40,100
postype = p1
facing = 1
bindtime = -1
removetime = -2
ontop = 1
shadow = 0,0,0
scale=9,9
ownpal = 1
removeongethit = 0
supermovetime = 999999
pausemovetime = 999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=272 && var(5)!=2
value = S5,13

[State 0, Explod]
type = Explod
trigger1 = Time=272 && var(5)!=2
anim = 4446
ID = 22650
pos = 0,-40
random = 40,100
postype = p1
facing = 1
bindtime = -1
removetime = -2
ontop = 1
shadow = 0,0,0
scale=9,9
ownpal = 1
removeongethit = 0
supermovetime = 999999
pausemovetime = 999999

[State 80010, Utsuho]
type = Helper
trigger1 = Time=194 && var(5)!=2
helpertype = normal
name = "Utsuho Reiuyi"
ID = 80011
stateno = 80011
pos = -40,0
postype = front
facing = -1
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = 1
size.yscale = 1

[State FUCK IT'S ELSA! SUE ME!]
type = PlaySnd
trigger1 = Time=335
trigger1 = var(5)=1
value = S969,0
volume=500

[State Wikia in Nutshell]
type = PlaySnd
trigger1 = Time=335
trigger1 = var(5)=0
value = S66666,1
volume=500

[State FUCK IT'S ELSA! SUE ME!]
type = PlaySnd
trigger1 = Time=335
trigger1 = var(5)=1
value = S969,0
volume=500

[State Wikia in Nutshell]
type = PlaySnd
trigger1 = Time=335
trigger1 = var(5)=0
value = S66666,1
volume=500

[State Elsa]
type = Explod
triggerall = var(5)!=2
trigger1 = Time=320
anim = ifelse(var(5)=0,22340,969)
ID = 969
pos = 160,120
postype = left
facing = 1
vfacing = 1
bindtime = 1
removetime = 80
scale = 0.00,0.00
sprpriority = -3
ontop = 0
ownpal = 1
trans = addalpha
alpha = 0,256

[State ELSA GROW]
type = ModifyExplod
trigger1 = Time>=320 && NumExplod(969)
ID = 969
scale = ((Time-320)/33.0),((Time-320)/33.0)
trans=addalpha
alpha=ifelse(Time>400,256,256*((Time-320)/80.0)),256-ifelse(Time>400,256,256*((Time-320)/80.0))
sprpriority=ifelse(Time>360,5,-3)

[State Stop]
type = StopSnd
trigger1 = Time=400+(var(5)=2)*215
channel = -1

[State 4th Wall Breaking]
type = PlaySnd
trigger1 = Time=400+(var(5)=2)*215
value = S1346,0

[State 4th Wall Breaking]
type = PlaySnd
trigger1 = Time=400+(var(5)=2)*215
value = S667,1

[State 4th Wall Breaking]
type = PlaySnd
trigger1 = Time=400+(var(5)=2)*215
value = S667,2

[State 4th Wall Breaking]
type = PlaySnd
trigger1 = Time=400+(var(5)=2)*215
value = S5,9

[State EARTHQUAKE]
type = EnvShake
trigger1 = Time=400+(var(5)=2)*215
time = 18
freq = 194
ampl = -9

[State BOOM]
type = Explod
trigger1 = Time=400+(var(5)=2)*215
anim = F3
ID = 11385
pos = 160,120
postype = back
removetime = -2
scale = 3,3
ontop = 1
ownpal = 0

[State BOOM2]
type = Explod
trigger1 = Time=400+(var(5)=2)*215
anim = F3
ID = 11385
pos = 130,67
postype = back
removetime = -2
scale = 4.3,4.3
ontop = 1
ownpal = 0

[State BOOM3]
type = Explod
trigger1 = Time=400+(var(5)=2)*215
anim = F3
ID = 11385
pos = 250,170
postype = back
removetime = -2
scale = 6,6
ontop = 1
ownpal = 0

[State 188, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 188, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 400+(var(5)=2)*215
flag = roundnotover

[State 188, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic

;STOP LAUGHING SO HARD
[Statedef 50188]
type = A
movetype=I
physics=N
ctrl = 0
anim = 50188
velset = -12,-8
sprpriority=-3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = time

[State 0, PlaySnd]
type = PlaySnd
triggerall = IsHelper(50188)
trigger1 = time=0
value = S5004,12
[State 0, PlaySnd]
type = PlaySnd
triggerall = !IsHelper(50188)
trigger1 = time=0
value = S1999,9

[State 50188, VelMul]
type = VelMul
trigger1 = 1
y = 0.82

;---------------------------------------------------------------------------
; Win pose I forgot how many winposes he has - WTF?
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 189]
type = S
ctrl = 0
velset = 0,0

[State 189, ChangeAnim]
type = ChangeAnim
trigger1 = Anim != 0
value = 0

[State 189, PlaySnd]
type = PlaySnd
trigger1 = Time = 119
value = S11,0
channel = 0

[State 189, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 189, LifeSet]
type = LifeSet
trigger1 = Time = 119
value = 1

[State 189, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = roundnotover

[State 189, ChangeState]
type = ChangeState
trigger1 = Time = 119
value = 6345
ctrl = 0

[Statedef 6345]
type = A
movetype = I
Physics = N
ctrl = 0
anim = 5050
velset = 0,0

[State 189, AssertSpecial]
type = AssertSpecial
trigger1 = Time > 22
flag = nobardisplay

[State 189, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = roundnotover

[State 6345, Gravity]
type = Gravity
trigger1 = 1

[State 6345, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 6345, ChangeState]
type = ChangeState
trigger1 = Pos Y >= 12 && Vel Y > 0
value = 6346
ctrl = 0

[Statedef 6346]
type = L
movetype = I
Physics = N
ctrl = 0
anim = 5150
velset = 0,0

[State 6346, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 6346, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S20,36
channel = -1

[State 6346, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 6346, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

[State 6346, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 40
flag = roundnotover

;---------------------------------------------------------------------------
; Explosion Moment Win pose 1 - Middle Finger
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 10181]
type = S
ctrl = 0
anim = 10181
velset = 0,0

[State 10181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 10181, Glow]
type = Helper
trigger1 = (Time % 45 = 0) && Time != 0
helpertype = normal
name = "Glow"
ID = 100000
stateno = 100000
pos = -3,-45
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 10181, EnvShake]
type = EnvShake
trigger1 = Time = 1
time = 32
freq = 250
ampl = -5
phase = 90

[State 10181, Shupa Ping!]
type = PlaySnd
trigger1 = Time = 1
value = S23650, 2
abspan = 0

[State 10181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = NoFG
flag3 = NoBG

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,200]
flag = roundnotover

[Statedef 100000]
type = S
ctrl = 0
anim = 100000
velset = 0,0

;Generated by Fighter Factory PalFX Editor
[State 100000, Roooojoooo!]
type = PalFX
trigger1 = Time = 0
time = 45
add = 128,0,0
mul = 255,0,0
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 100000, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = (time+4)*0.25,(time+4)*0.25

[State 100000, Trans]
type = Trans
trigger1 = Time <= 45
trans = addalpha
alpha = ceil(256-time*5.6),256

[State 100000, DestroySelf]
type = DestroySelf
trigger1 = Time >= 45

;---------------------------------------------------------------------------
; Explosion Moment Win pose 2 - I'm Evil, Don't Deny It!
; This one is Based on Pac-Man Zeta's Win Pose!
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 10182]
type = S
ctrl = 0
anim = 10182
velset = 0,0

[State 10182, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = -1 ;Everybody Quiet!

[State 10182, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 10182, Shupa Ping Again]
type = PlaySnd
trigger1 = Time = 0
value = S23650, 2
channel = 0
abspan = 0

[State 10182, Scary]
type = PlaySnd
trigger1 = Time%30=0 && Time < 300
value = S10182, 0
channel = 1+(ceil((Time+30)/30))
volume = 255-(ceil((Time+30)/30)*25)
abspan = 0

[State 10182, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = NoFG
flag3 = NoBG

[State 10182, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
flag2 = globalnoshadow

[State 10182, Invisible]
type = AssertSpecial
trigger1 = Time < 7
flag = invisible

[State 10182, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,500]
flag = roundnotover

;---------------------------------------------------------------------------
; Win pose 3 - SGS
; This state was borrowed from Wickydoo's Yukari just to see how Custom winposes
; are made! >_<
; CNS difficulty: basic
; CNS レベル: 基本
; WIN by S.G.S.
[Statedef 183]
type = S
sprpriority = 2
anim = 182

[State 0, VarRandom]
type = VarRandom
trigger1 = Time=0 && !fvar(6)
v = 5
range = 0,2

[State 0, VarRandom]
type = VarRandom
trigger1 = Time=0 && fvar(6)
v = 5
range = 0,1

[State 183, EnvColor]
type = EnvColor
trigger1 = Time=40
value = 255,255,255
time = 3
under = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=40
value = S22777,1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time>=40 && (anim=[183,184])
value=0
scale = 2,2
ignorehitpause=1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time=40
value = 183+var(5)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time < 250
flag = roundnotover

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = Time >40
flag=nomusic

[State 183, Explod]
type = Null;Explod
trigger1 = Time=150
anim = 20
ID = 183
pos = -100,0
vel=3,0
postype = p1
facing = 1
removetime = -1
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
removeongethit = 0
trans=addalpha
alpha=30,226

;---------------------------------------------------------------------------
[Statedef 184]
type = S
sprpriority = 2

[State 184, WRYYYYYYYYYYYYYYYYYYYY]
type = PlaySnd
trigger1 = !time && prevstateno = 4502
value = 96666, 0

[State 184, anim]
type = ChangeAnim
trigger1 = !time && prevstateno = 4502
value = 10299

[State 184, win]
type=ChangeState
trigger1=prevstateno=4502&&time>50
value=180
ctrl=1

[State -3, HERP]
type = Helper
trigger1 = time=60 && PrevStateno=180
helpertype = normal
name = "FAIL AT ZOOMING"
ID = 22338
stateno = 22338
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

; Win pose 2 - "I told you!"
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, PlaySnd]
type = PlaySnd
trigger1 = Time = 4 && (Var(5) != [60,69])
value = 181, random%7

[State 182, PlaySnd]
type = PlaySnd
trigger1 = Time = 4 && (Var(5) = [60,69])
value = 181, 7
abspan=0
volume=255

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time=0 && var(5) = [60,69]
value = 2750
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 2750 && Time=200
value = 2751

[State 0, AngleDraw]
type = AngleDraw
triggerall = anim=2751
trigger1 = AnimElemTime(1) >= 1 && AnimElemTime(2)<0
value = 90*(AnimElemTime(1)/60.0)
ignorehitpause = 1

[State 23653, Saying]
type = PlaySnd
triggerall = anim=2751
trigger1 = AnimElemTime(2)=0
value = S22000, 0

[State 23653, Saying]
type = PlaySnd
triggerall = anim=2751
trigger1 = AnimElemTime(1)=0
value = S2435, 0

[State 23653, Saying]
type = PlaySnd
triggerall = anim=2751
trigger1 = AnimElemTime(2)=0
value = S2435, 2

[State 0, PosAdd]
type = PosAdd
triggerall = anim=2751
trigger1 = AnimElemTime(2)=0
x = Const(size.mid.pos.y)
[State DED]
type = ScreenBound
triggerall = anim=2751
trigger1 = AnimElemTime(2)>=0
value = 0
movecamera = 1,1



[State 5110, 7]
type = GameMakeAnim
triggerall = anim=2751
trigger1 = AnimElemTime(2)=0
value = 62
pos = Const(size.mid.pos.y), 0
under = 0


[State 0, EnvShake]
type = EnvShake
triggerall = anim=2751
trigger1 = AnimElemTime(2)=0
time = 6
freq = 200
ampl = -4
phase = 90

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = (Var(5) = [60,69])
flag = nomusic

[State 0, ChangeState]
type = ChangeState
triggerall=!NumHelper(14000)
triggerall = (Var(5) != [60,69])
trigger1 = (random = [0,200]) && Time= 200
value = 173
ctrl = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 182, AssertSpecial]
type = AssertSpecial
trigger1 = Time<=200+((Var(5) = [60,69])*120)
flag = roundnotover

[State 182, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay

; Win pose - Kasdeya
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 185]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 185, Helper]
type = Helper
trigger1 = Time=0
helpertype = normal
name = "Kasdeya"
ID = 185
stateno = 9185
pos = -30,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 185, AssertSpecial]
type = AssertSpecial
trigger1 = Time>=89
flag = nomusic

[State 185, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 185, 0
volume = 255
channel=0

[State 185, PlaySnd]
type = PlaySnd
trigger1 = Time=89
value = 54191, 0
volume = 255
channel=1

[State 0, ChangeState]
type = ChangeAnim
trigger1 = Time=89
value = 186

[State 185, PlaySnd]
type = PlaySnd
trigger1 = Time = 89
value = 185, 1
volume = 255
channel=0

[State 185, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 182, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,240]
flag = roundnotover

[Statedef 9185]
type = S
ctrl = 0
anim = 9741
velset = 0,0
sprpriority =5

[State 4901, Explod]
type = Explod
trigger1 = Time=0
anim = 333894
ID = 333894
pos = 0,0
postype = p1
facing = 1
bindtime = -1
removetime = -1
scale = 1,1

[State 4901, ModifyExplod]
type = ModifyExplod
trigger1 = Time < 30
ID = 333894
trans=addalpha
alpha = ((Time)/30.000)*256,256-((Time)/30.000)*256
scale = 0.45,((Time)/30.000)

[State 4901, ModifyExplod]
type = ModifyExplod
trigger1 = Time >= 30
ID = 333894
trans=addalpha
alpha = 256,0
scale = 0.45,1

[State 9185, ChangeAnim]
type = ChangeAnim
trigger1 = Time=50
value = 333896

[State 9185, ChangeAnim]
type = ChangeAnim
trigger1 = Anim=333896 && AnimTime=0
value = 333895

[State 9185, ChangeState]
type = ChangeState
trigger1 = Time >=50
trigger1 = Anim=333895
trigger1 = root,stateno!=[180,189]
trigger1 = !(root,stateno = 195 && root,movetype=I)
value = 9186
ctrl = 0

[Statedef 9186]
type = S
ctrl = 0
anim = 333897
velset = 0,0
sprpriority =5

[State 4901, ModifyExplod]
type = ModifyExplod
trigger1 = Time < 30
ID = 333894
trans=addalpha
alpha = 256-((Time)/30.000)*256,((Time)/30.000)*256
scale = 0.45,1-((Time)/30.000)

[State 4901, ModifyExplod]
type = RemoveExplod
trigger1 = Time = 30
ID = 333894

[State 9185, ChangeState]
type = DestroySelf
trigger1 = time>=30

; Win pose 3 - Crap at newspaper
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 186]
type = S
ctrl = 0
anim =  3075
velset = 0,0

[State 186, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S36500, 1

[State 186, Null Sound]
type = PlaySnd
trigger1 = Time = 0
value = S9021, 0

[State 186, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 186, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State 186, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,180]
flag = roundnotover

; HHK WINPOSE
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 187]
type = S
ctrl = 0
velset = 0,0

[State 0, StopSnd]
type = StopSnd
trigger1 = Time=0
channel = -1

[State 187, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 187, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nomusic

[State 187, PlaySnd]
type = PlaySnd
trigger1 = Time=0
value = S96000,1
volume=255
channel = 2
abspan = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = (anim=[183,184])
value=0
scale = 2,2
ignorehitpause=1

[State 187, Cherry]
type = Explod
trigger1 = Time=0
anim = 10011
ID = 189
pos = -20,0
postype = back
bindtime = -1
removetime = -1
scale = 0.5,0.5
ontop = 1
ownpal = 1
removeongethit = 0

[State 187, Kasdeya]
type = Null;Explod
trigger1 = Time=0
anim = 10012
ID = 188
pos = 00,40
postype = back
bindtime = -1
removetime = -1
scale = 0.5,0.5
ontop = 1
ownpal = 1
removeongethit = 0

[State 187, Daniel]
type = Explod
trigger1 = Time=0
anim = 10010
ID = 188
pos = 20,0
postype = back
bindtime = -1
removetime = -1
scale = 0.5,0.5
ontop = 1
ownpal = 1
removeongethit = 0

[State 187, Win Quote]
type = Explod
trigger1 = Time=0
anim = 10020+random%5
ID = 1189
pos = 160,20
postype = left
facing = 1
bindtime = -1
removetime = -1
scale = 0.5,0.00001
ontop = 1
ownpal = 1
removeongethit = 0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = Time < 50
ID = 1189
scale = 0.5,(((Time)/50.000)*0.5)

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = Time >= 50
ID = 1189
scale = 0.5,0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=90
value = S195,2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time<255
time = 1
add = -time,-time,-time

[State 0, BGPalFX]
type = BGPalFX
trigger1 = Time>=255
time = 1
add = -255,-255,-255

[State 187, AssertSpecial]
type = AssertSpecial
trigger1 = Time = [0,600]
flag = roundnotover

;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191, LUCAS]
type = ChangeState
trigger1 = p2name = "Cookies DUDE" || p4name = "Cookies DUDE"
value = 54170
ctrl = 0

[State 191, My Reaction d:]
type = ChangeState
trigger1 = p2name="Most_Mysterious" || p4name = "Most_Mysterious"
value = 0
ctrl = 0

[State 191, CHAN CHAN CHAN CHAN WTF]
type = ChangeState
trigger1 = p2name = "Cirno" || p4name = "Cirno"
trigger2 = p2name = "Chirno" || p4name = "Chirno"
value = 54196

[State 191, Koakuma cosplay]
type = ChangeState
trigger1 = p2name = "Glaugan_Koa" || p4name = "Glaugan_Koa"
trigger2 = p2name = "Clarice Di Lanza" || p4name = "Clarice Di Lanza"
trigger3 = p2name = "Sherisernes Zarbach" || p4name = "Sherisernes Zarbach"
value = 54194

[State 191, Koakuma cosplay]
type = ChangeState
trigger1 = p2name = "koakuma" || p4name = "koakuma"
value = 1909

[State 191, Random Set]
type = VarRandom
trigger1 = Time = 0
v = 2
range = 2,14 ;1,5

[State 204, Elfen Lied Intro]
type = ChangeState
triggerall = Time = 0
trigger1 = p2name = "Lucy Diclonius by Crucifix" || p4name = "Lucy Diclonius by Crucifix"
value = 204
ctrl = 0

[State 191, STUPID LIST]
type = ChangeState
triggerall = Time = 0
trigger1 = p2name = "Tendril" || p4name = "Tendril"
trigger2 = p2name = "Plok" || p4name = "Plok"
trigger3 = p2name = "I-NO" || p4name = "I-NO"
trigger4 = p2name = "Neo Sephiroth" || p4name = "Neo Sephiroth"
trigger5 = p2name = "Shaia" || p4name = "Shaia"
trigger6 = p2name = "Kuromaru" || p4name = "Kuromaru"
trigger7 = p2name = "Slime_plus" || p4name = "Slime_plus"
trigger8 = p2name = "Kan Cho Man" || p4name = "Kan Cho Man"
trigger9 = p2name = "TheIranSonic" || p4name = "TheIranSonic"
trigger10 = p2name = "TIS" || p4name = "TIS"
trigger11 = p2name = "Iran Soto" || p4name = "Iran Soto"
trigger12 = enemy(0),authorname="TheIransonic"||(NumEnemy>1 && enemy(1),authorname="TheIransonic") ;stalker fan who is paranoid of what people think of him.
trigger13 = enemy(0),authorname="jenngra505"||(NumEnemy>1 && enemy(1),authorname="jenngra505") ;dat bewthert keed
trigger14 = enemy(0),authorname="EvilSlayerX5"||(NumEnemy>1 && enemy(1),authorname="EvilSlayerX5") ;y'all know why he's here.
trigger15 = p2name = "Dan" || p4name = "Dan" ;Hey, it's funny to autocriticize :333
trigger16 = enemy(0),authorname="Place mario(AKA Felix2011)"||(NumEnemy>1 && enemy(1),authorname="Place mario(AKA Felix2011)") ;Bashing people because of his characters getting criticized??? Hmmm, I'm beginning to see a pattern.
trigger17 = enemy(0),authorname="Mugenfan"||(NumEnemy>1 && enemy(1),authorname="Mugenfan") ;lol swapper
trigger18 = enemy(0),authorname="WlanmaniaX"||(NumEnemy>1 && enemy(1),authorname="WlanmaniaX") ;TOTALLY AWESOME CHARACTERSS!!!111111
trigger19 = enemy(0),authorname="DiegoJoseXL"||(NumEnemy>1 && enemy(1),authorname="DiegoJoseXL") ;Recolors
trigger20 = enemy(0),authorname="Christiandel42008"||(NumEnemy>1 && enemy(1),authorname="Christiandel42008")
trigger21 = enemy(0),authorname="ChristianDel42008"||(NumEnemy>1 && enemy(1),authorname="ChristianDel42008")
value = 194
ctrl = 0

[State 191, Sexy Shock!!]
type = null;ChangeState
triggerall = random < 165 && Time = 0
trigger1 = p2name = "Haruhi Suzumiya" || p4name = "Haruhi Suzumiya"
trigger2 = p2name = "cvschunli" || p4name = "cvschunli"
trigger3 = p2name = "kula_new" || p4name = "kula_new"
trigger4 = p2name = "Shermie" || p4name = "Shermie"
trigger5 = p2name = "morrigan" || p4name = "morrigan"
trigger6 = p2name = "morrigan by ryokucha" || p4name = "morrigan by ryokucha"
trigger7 = P2name = "Sailor Mars" || p4name = "Sailor Mars"
trigger8 = P2name = "felicia" || p4name = "felicia"
trigger9 = P2Name = "psylocke by Qkrtkf!" || P4Name = "psylocke by Qkrtkf!"
trigger10 = P2Name = "psylocke" || P4Name = "psylocke"
trigger11 = P2Name = "viuda negra" || P4Name = "viuda negra"
trigger12 = P2Name = "chun li" || P4Name = "chun li"
trigger13 = P2Name = "elastigirl" || P4Name = "elastigirl"
trigger14 = p2name = "cammy" || p4name = "cammy"
trigger15 = P2name = "Sakura Kasugano" || p4name = "Sakura Kasugano"
trigger16 = p2name = "R.mika" || p4name = "R.mika"
trigger17 = P2name = "Karin Kanzuki" || p4name =  "Karin Kanzuki"
trigger18 = p2name = "juli" || p4name = "juli"
trigger19 = p2name = "juni" || p4name = "juni"
trigger20 = p2name = "rose" || p4name = "rose"
trigger21 = p2name = "Chunli" || p4name = "Chunli"
trigger22 = p2name = "Chun-Li" || p4name = "Chun-Li"
trigger23 = p2name = "Mika"   || p4name = "Mika"
trigger24 = P2name = "SF3 Chun Li" || p4name = "SF3 Chun Li"
trigger25 = P2Name = "SSF2Cammy" || P4Name = "SSF2Cammy"
trigger26 = P2Name = "cvscammy" || P4Name = "cvscammy"
trigger27 = P2Name = "J_Rose" || P4Name = "J_Rose"
trigger28 = P2Name = "sakura" || P4Name = "sakura"
trigger29 = P2name = "Morrigan Aensland" || p4name = "Morrigan Aensland"
trigger30 = p2name = "Lilith" || p4name = "Lilith"
trigger31 = P2name = "Hinata Wakaba" || p4name = "Hinata Wakaba"
trigger32 = P2name = "Mariah" || p4name = "Mariah"
trigger33 = p2name = "MIDLER"   || p4name = "MIDLER"
trigger34 = P2name = "Mai" || p4name = "Mai"
trigger35 = P2Name = "svcathena" || P4Name = "svcathena"
trigger36 = p2name = "cvsathena"   || p4name = "cvsathena"
trigger37 = p2name = "cvsvice" || p4name = "cvsvice"
trigger38 = P2name = "B.Jenet" || p4name = "B.Jenet"
trigger39 = P2name = "ARINA" || p4name = "ARINA"
trigger40 = p2name = "Hikari Reiko" || p4name = "Hikari Reiko"
trigger41 = p2name = "Yuki Morikawa" || p4name = "Yuki Morikawa"
trigger42 = P2Name = "dizzy" || P4Name = "dizzy"
trigger43 = P2name = "Raiya Mikazuchi" || p4name = "Raiya Mikazuchi"
trigger44 = P2name = "MysP" || p4name = "MysP"
trigger45 = P2name = "roomi" || p4name = "roomi"
trigger46 = p2name = "Blue Mary" || p4name = "Blue Mary"
trigger47 = p2name = "Mai Shiranui" || p4name = "Mai Shiranui"
trigger48 = p2name = "cvsfelicia" || p4name = "cvsfelicia"
trigger49 = p2name = "Nanashi Kimura" || p4name = "Nanashi Kimura"
trigger50 = p2name = "Wonder Woman Reloaded" || p4name = "Wonder Woman Reloaded"
trigger51 = p2name = "Felicia MvC2 Style by MGBenz" || p4name = "Felicia MvC2 Style by MGBenz"
trigger52 = p2name = "SHIRANUI MAI" || p4name = "SHIRANUI MAI"
trigger53 = p2name = "She-ra"  || p4name = "She-ra"
trigger54 = p2name = "Cammy_MVC2" || p4name = "Cammy_MVC2"
trigger55 = p2name = "Red Snake" || p4name = "Red Snake"
trigger56 = p2name = "Blair Dame" || p4name = "Blair Dame"
trigger57 = p2name = "Blair Dame MvsC" || p4name = "Blair Dame MvsC"
trigger58 = p2name = "athena-rkn" || p4name = "athena-rkn"
trigger59 = p2name = "Kelly Blender(Elektra) by AHRIMANES" || p4name = "Kelly Blender(Elektra) by AHRIMANES"
trigger60 = p2name = "B.ORCHID BY AHRIMANES"  || p4name = "B.ORCHID BY AHRIMANES"
trigger61 = p2name = "Tiazinha"  || p4name = "Tiazinha"
trigger62 = p2name = "Sailor Jupiter"  || p4name = "Sailor Jupiter"
trigger63 = p2name = "Maxine" || p4name = "Maxine"
trigger64 = p2name = "cvsyoko" || p4name = "cvsyoko"
trigger65 = p2name = "ingrid SFA3" || p4name = "ingrid SFA3"
trigger66 = enemy,animexist(8055000) ;To just end it up...
trigger66 = enemy,animexist(8055999)
trigger66 = enemy,animexist(8055002)
trigger67 = p2name = "Kohaku" || p4name = "Kohaku"
trigger68 = p2name = "Kagura" || p4name = "Kagura"
trigger69 = p2name = "Tomo Takino" || p4name = "Tomo Takino"
trigger70 = p2name = "Ryoko Asakura" || p4name = "Ryoko Asakura"
trigger71 = p2name = "Sakaki" || p4name = "Sakaki"
trigger72 = p2name = "Mikuru Asahina" || p4name = "Mikuru Asahina"
trigger73 = p2name = "Sailor Mercury" || p4name = "Sailor Mercury"
trigger74 = p2name = "Kohaku" || p4name = "Kohaku"
trigger75 = p2name = "Hisui" || p4name = "Hisui"
trigger76 = p2name = "Sailor Mercury" || p4name = "Sailor Mercury"
trigger77 = p2name = "Ayumu Kasuga" || p4name = "Ayumu Kasuga"
trigger78 = p2name = "Osaka" || p4name = "Osaka"
trigger79 = p2name = "Chiyo Mihama" || p4name = "Chiyo Mihama"
trigger80 = p2name = "Lucy Diclonius by Crucifix" || p4name = "Lucy Diclonius by Crucifix"
trigger81 = p2name = "Sailor Mercury" || p4name = "Sailor Mercury"
trigger82 = p2name = "Nyamo" || p4name = "Nyamo"
trigger83 = p2name = "ranoh" || p4name = "ranoh"
trigger84 = p2name = "Kagura" || p4name = "Kagura"
trigger85 = p2name = "Akiko Minase" || p4name = "Akiko Minase"
trigger86 = p2name = "BATTLE MAHORO" || p4name = "BATTLE MAHORO"
trigger87 = p2name = "Konlin" || p4name = "Konlin" ;In case she's made someday! :D
value = 1111162
ctrl = 0

;Continue With this intro or leave it...
[State 191, Party]
type = ChangeState
trigger1 = Var(2) = 2 && Time = 0
trigger2 = var(38)
value = 198

;Same Goes here...
[State 191, TAKE IT EASYYYYYYY]
type = ChangeState
trigger1 = (Var(2) = [3,4]) && Time = 0
value = 54190

[State 191, CHAN CHAN CHAN CHAN NORMAL]
type = ChangeState
trigger1 = Var(2) = 5 && Time = 0
value = 54196

[State 191, CHAN CHAN CHAN CHAN NORMAL]
type = ChangeState
trigger1 = Var(2) = 6 && Time = 0
value = 54199

[State 191, Quiet]
type = ChangeState
trigger1 = (Var(2) = 7) && Time = 0
value = 192

[State 191, Quiet]
type = ChangeState
trigger1 = Var(2) = 8 && Time = 0
value = 1111162

[State Sup uncel scroodge]
type = ChangeState
trigger1 = Var(2) = 9 && Time = 0
value = 1900

[State Gay Self]
type = ChangeState
trigger1 = Var(2) = 10 && Time = 0
value = 1902

[State DANIL TV BUMPER]
type = ChangeState
trigger1 = Var(2) = 11 && Time = 0
value = 1904

[State DANIL TV BUMPER]
type = ChangeState
trigger1 = (Var(2) = [12,13]) && Time = 0
value = 1905

[State DANIL TV BUMPER]
type = ChangeState
trigger1 = Var(2) = 14 && Time = 0
value = 1910

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------
; KASDEYA'S RAGE (?)
;---------------

; Introduction
[Statedef 1111162]
type = A
ctrl = 0
anim = 19055
velset = 0,0

[State 190, AngleDraw]
type = AngleDraw
trigger1 = AnimElemTime(77)<0
value = 0
scale = 2,2

[State 190, EnvShake]
type = EnvShake
triggerall = AnimElemTime(77)<0
trigger1 = gametime%10 = 0
time = 4
freq = 170
ampl = -4
phase = 90

[State 0, BGPalFX]
type = BGPalFX
trigger1 = AnimElemTime(77)<0
time = 1
add = (-128+64*sin(time/5.000)),(-128+64*sin(time/5.000)),(-128+64*sin(time/5.000))

[State 192]
type = AssertSpecial
trigger1 = 1
flag = Intro

[state ]
type=assertspecial
trigger1=time<390
flag=noshadow

[State ]
type = Explod
triggerall = AnimElemTime(77)<0
trigger1 = gametime%9 = 0
anim = 10019
ID = 10019
pos = 15,0
ownpal = 1
bindtime = -1
sprpriority = 0
scale = .8,.2
pausemovetime = 2000000000
supermovetime = 2000000000

[State ]
type = Explod
triggerall = AnimElemTime(77)<0
trigger1 = gametime%3 = 0
id = 11100
anim = 11100
pos = 15,-25
random = 120,90
facing = 1 - 2*(random%2)
vfacing = 1 - 2*(random%2)
ownpal = 1
vel = 0.01*(random%20)*(1 - 2*(random%2)),-1.6 - 0.01*(random%40)
sprpriority = 0 + 4*(random < 500)
scale = 0.01*(40 + random%20),0.01*(40 + random%20)
pausemovetime = 2000000000
supermovetime = 2000000000

[State 9002]
type = Explod
triggerall = AnimElemTime(77)<0
trigger1 = gametime%1 = 0
id = 3023
anim = 11002
pos = 15,0
random = 120,0
ownpal = 1
sprpriority = 0 + 4*(random < 500)
vel = -0.5 + (random%2),-2.5 - (random%3)
scale = 0.25,0.25
pausemovetime = 2000000000
supermovetime = 2000000000

[State 9002]
type = Explod
triggerall = AnimElemTime(77)<0
trigger1 = gametime%1 = 0
id = 3023
anim = 11002
pos = 15,0
random = 120,0
ownpal = 1
sprpriority = 0 + 4*(random < 500)
vel = -0.5 + (random%2),-1.5 - (random%3)
scale = 0.15,0.15
pausemovetime = 2000000000
supermovetime = 2000000000

[State 9002]
type = Explod
triggerall = AnimElemTime(77)<0
trigger1 = gametime%1 = 0
id = 3023
anim = 11002
pos = 15,0
random = 120,0
ownpal = 1
sprpriority = 0 + 4*(random < 500)
vel = -0.5 + (random%2),-3.5 - (random%3)
scale = 0.1,0.1
pausemovetime = 2000000000
supermovetime = 2000000000

[State 9002]
type = Explod
triggerall = AnimElemTime(77)<0
trigger1 = gametime%1 = 0
id = 3023
anim = 11002
pos = 15,0
random = 120,0
ownpal = 1
sprpriority = 0 + 4*(random < 500)
vel = -0.5 + (random%2),-4.5 - (random%3)
scale = 0.35,0.35
pausemovetime = 2000000000
supermovetime = 2000000000

[State 190, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(77)=0
id = 3023

[State 190, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(77)=0
id = 10019

[State 190, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElemTime(77)=0
id = 11100

[State 0, Explod]
type = Explod
trigger1 = AnimElemTime(77)=0
anim = 12101
ID = 12101
pos = 0,0
postype = p1
facing = 1
bindtime = 1
vel = -8,-8
accel = -0.5,0.5
removetime = 40
scale = 1,1
sprpriority = -4
ontop = 0
ownpal = 1
removeongethit = 0

[State 190, What you Hear b4 u dai]
type = PlaySnd
trigger1 = time = 8
value = S9844,0
channel=1

[State 190, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(77)=0
value = S22000,1
channel=1

[State 190, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(85)=0
value = S204,0

[State 190, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(85)=0
value = S22000,0

[State 5110, 7]
type = GameMakeAnim
trigger1 = AnimElemTime(85)=0
value = 62
pos = 0, 0
under = 0

[State 190, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 0

;---------------------------------------------------------------------------
; Introduction Against Special Characters
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 192]
type = S
ctrl = 0
anim = 0
velset = 0,0

[State 0, EnvColor]
type = EnvColor
trigger1 = 1
value = 0,0,0

[State 192, StopSnd]
type = StopSnd
trigger1 = Time=0
channel = -1

[State 0, VarRandom]
type = VarRandom
trigger1 = Time=0
v = 2
range = 0,2

[State 192, Switch]
type = PlaySnd
trigger1 = Time=0
value = S5004,1+((var(2)=1)*5)
channel=1
[State 192, Switch]
type = PlaySnd
triggerall = var(2)=2
trigger1 = Time=110
value = S1999,7
channel=1

[State EXHIBIT A]
type = Explod
trigger1 = Time=573 && Var(2)=0
anim = 22665
ID = 22665
pos = 160,120
postype = back
facing = 1
removetime = 1
scale = (1+(random%65/65.0)),(1+(random%65/65.0))
ontop = 1
ownpal = 1

[State 192, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nomusic
flag3 = nobardisplay

[State 192, Switch]
type = PlaySnd
trigger1 = Time=(620-((var(2)=1)*440))
value = S23650,5
channel=1-(var(2)=1)
[State 192, Switch]
type = PlaySnd
triggerall = Var(2)=2
trigger1 = Time=150
value = S23650,5
channel=1

[State Nah] ;Change to stand state when done
type = ChangeState
triggerall = var(2)=2
trigger1 = Time >= 144
value = 54191

[State 192, 3] ;Change to stand state when done
type = ChangeState
trigger1 = Time >= (620-((var(2)=1)*440))
value = 0

;---------------------------------------------------------------------------
; Introduction: Chile's Anthem

[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0

[State 193, Anthem]
type = PlaySnd
trigger1 = !Time
value = S193,0
volume = 520
abspan = 0
channel = 6

[State 193, Slap]
type = PlaySnd
trigger1 = AnimElemTime(2) = 0
trigger2 = AnimElemTime(7) = 0
value = S5,9
channel = 6

[State 193, Voice 1]
type = PlaySnd
triggerall = !var(38)
trigger1 = AnimElemTime(2) = 0
value = S193,1
channel = 0

[State 193, Voice 2]
type = PlaySnd
triggerall = !var(38)
trigger1 = AnimElemTime(6) = 0
value = S193,2
channel = 0

[State 193, Helper]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Dante"
ID = 193
stateno = 62000
pos = 15,0
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0

[State 193, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nomusic

[State 193, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction Against VERY Special Characters
; CNS difficulty: basic
; FAIL ON A STICK
[Statedef 194]
type = S
ctrl = 0
anim = 1111
velset = 0,0
poweradd=ifelse(p2name="Dan"||p4name="Dan",0,4000)

[State 0, Helper]
type = Helper
triggerall = Time=0
trigger1 = enemy(0),authorname="jenngra505"||(NumEnemy>1 && enemy(1),authorname="jenngra505")
helpertype = normal
name = "LOLJENNGRAUMAD?"
ID = 22334
stateno = 22334
pos = 160,-240
postype = left
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 0, PlaySnd]
type = PlaySnd
triggerall = Anim=1111
trigger1 = AnimElem = 6
value = S1,4

[State 194, 1]
type = PlaySnd
triggerall = Anim=1111
trigger1 = AnimElem = 7
value = 1111, 0
channel=0

[State 194, 1]
type = PlaySnd
triggerall = Anim=1112
trigger1 = AnimElem = 2
value = 40, 0

[State 194, 1]
type = PlaySnd
triggerall = Anim=1112
trigger1 = AnimElem = 6
value = 54191, 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = p2name="Dan"||p4name="Dan"
trigger1 = Time=320
value = S1111,1
channel=0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = p2name="Dan"||p4name="Dan"
trigger1 = Time=320
value = 1112

[State 194, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = NoMusic
flag2 = Intro

[State 194, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[StateDef 22334]
type = A
movetype= I
physics = N
ctrl = 0
anim = 22334
sprpriority = 3

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -10
ignorehitpause=1

[State 0, ChangeState]
type = ChangeState
trigger1 = Pos Y > 5 && Vel Y > 0
value = 22335
ctrl = 0

[Statedef 22335]
type = S
ctrl = 0
velset = 0,0

[State 0, Explod]
type = Explod
trigger1 = Time=0
anim = F61
pos = 0,0
postype = p1
facing = 1
bindtime = 1
removetime = -2
scale = 2.6,1
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = Time=0
time = 20
freq = 160
ampl = -7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=0
value = S500,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=0
value = S20,33

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=0
value = S20,36

[State 0, PosSet]
type = PosSet
trigger1 = Time=0
y = 0

[State 0, Trans]
type = Trans
trigger1 = Time>60
trans = addalpha
alpha = 256-256*((time-60)/60.0),256*((time-60)/60.0)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time > 120

[Statedef 54190]
type = S
ctrl = 0
anim = 54190
velset = 0,0

[State 54190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nomusic

[State 54190, TAKE IT EASYYY... or Action 52 songs]
type = PlaySnd
trigger1 = !Time
value = S54190,random%3
volume = 520
abspan = 0
channel = 0

[State 54190, 3] ;Change to stand state when done
type = ChangeState
trigger1 = Time>249
value = 54191

[Statedef 54191]
type = S
ctrl = 0
anim = ifelse((prevstateno=54190)||(prevstateno=192),1906,54191)
velset = 0,0

[State 54190, Disk Scratch]
type = PlaySnd
trigger1 = !Time
value = S54191,0
abspan = 0
channel = 2

[State 54190, Disk Scratch]
type = PlaySnd
trigger1 = !Time
value = S853,13
abspan = 0
channel = 1
[State 0, EnvShake]
type = EnvShake
trigger1 = !Time
time = 18
freq = 189
ampl = -8

[State FUCK]
type = PosAdd
triggerall = Anim = 1906
trigger1 = Time=0
y = -71
[State 0, AssertSpecial]
type = AssertSpecial
triggerall = Anim = 1906
trigger1 = AnimElemTime(2)<0
flag = noshadow
[State MOO]
type = AngleDraw
triggerall = Anim = 1906
trigger1 = AnimElemTime(2)<0
scale = 5,5
[State 0, PosAdd]
type = PosAdd
triggerall = Anim = 1906
trigger1 = AnimElem=2
y = 71

[State 54190, Disk Scratch]
type = PlaySnd
trigger1 = !Time
value = S54191,1
abspan = 0
channel = 0

[State 54190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nomusic

[State 54190, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime=0
value = 0

[Statedef 54170]
type = S
ctrl = 0
anim = 0
velset = 0,0

[State 0, Helper]
type = Helper
trigger1 = Time=0
helpertype = normal
name = "Surprise Cherry"
ID = 54171
stateno = 54171
pos = 24,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999999
pausemovetime = 9999999

[State 190, What you Hear b4 u dai]
type = PlaySnd
trigger1 = time = 30
value = S9844,0
channel=1

[State 0, StopSnd]
type = StopSnd
trigger1 = Time=201
channel = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = Time>=400
value = 0
ctrl = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time=36
value = 54170

[State 54190, Disk Scratch]
type = PlaySnd
trigger1 = Time=36
value = S54191,0
abspan = 0
channel = 2

[State 54190, Disk Scratch]
type = PlaySnd
trigger1 = Time=36
value = S54191,1
abspan = 0
channel = 0

[State 54190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

;==============INVINCIBILITY!!!==============

[Statedef 54192]
type = S
ctrl = 0
anim = 54192
velset = 0,0

[State 54192, Dash]
type = PlaySnd
trigger1 = AnimElem=2
value = S100,1

[State 54192, BOOM]
type = PlaySnd
trigger1 = Time=0
value = S250,2

[State 54192, BOOM]
type = PlaySnd
trigger1 = Time=35
value = S237,1

[State 54192, FFFFFUUUUUUUUUUUUU]
type = PlaySnd
trigger1 = Time=0
value = S54192,1
channel=3
volume=-100

[State 54192, FFFFFUUUUUUUUUUUUU]
type = StopSnd
trigger1 = AnimElem=2
channel=3

[State 54192, Disk Scratch]
type = PlaySnd
trigger1 = Time=0
value = S54192,2
channel = 1
volume=555

[State 54192, EnvShake]
type = EnvShake
trigger1 = Time%20=0
trigger1 = AnimElemTime(2)<0
time = 20
freq = 200
ampl = -50
phase=90

[State 54192, Disk Scratch]
type = PlaySnd
trigger1 = AnimElem = 2
value = S54191,0
abspan = 0
channel = 0

[State 54192, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nomusic

[State 54192, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime=0
value = 0

[Statedef 54194]
type = S
ctrl = 0
anim = 66660
velset = 0,0

[State 54194, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = intro

[State 191, Wood 1]
type = Explod
trigger1 = AnimTime=-48
persistent = 0
anim = 55190
ID = 55190
postype = p1
pos = 208, -80
velocity = -4.2, -7
accel = 0, .32
removetime = 48
scale=0.5,0.5
trans=addalpha
alpha=0,256

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = NumExplod(55190)
trigger1=AnimTime>=-48
ID = 55190
trans=addalpha
alpha=((48+AnimTime)/48.0)*256,((abs(AnimTime))/48.0)*256

[State 191, Snd 2]
type = PlaySnd
trigger1 = AnimTime=0
value = S250,2

[State 54194, EnvShake]
type = EnvShake
trigger1 = AnimTime=0
time = 8
freq = 350
ampl = -7
phase = 90

[State 54194, PlaySnd]
type = PlaySnd
trigger1 = AnimTime=0
value = S22777,1

[State 54194, EnvColor]
type = EnvColor
trigger1 = AnimTime=0
value = 255,255,255
time = 3
under = 0

[State 54194, ChangeState]
type = ChangeState
trigger1 = AnimTime=0
value = 54191

;========CHAN CHAN CHAN CHAN!===========
[Statedef 54196]
type = S
ctrl = 0
anim = 54196
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = Time<5
v = 2
value = 54198

[State 0, VarSet]
type = VarSet
triggerall = Time<5
trigger1 = p2name="Cirno"||p4name="Cirno"
trigger2 = p2name="Chirno"||p4name="Chirno"
v = 2
value = 54197

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem=2
value = S1362,0

[State 0, EnvColor]
type = EnvColor
trigger1 = AnimElem=2
value = 255,0,0
time = 3
under = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = AnimTime=0
value = 54197
ctrl = 0

[Statedef 54197]
type = S
ctrl = 0
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=0
value = S4222,0

[State 0, EnvColor]
type = EnvColor
trigger1 = Anim=54196
value = 255,0,0
time = 1
under = 0
ignorehitpause=1

[State 0, Explod]
type = Explod
trigger1 = Time=0
trigger2 = Time=27
trigger3 = Time=54
trigger4 = Time=82
anim = var(2)
ID = 54197
pos = 160,120
postype = left
facing = 1
bindtime = -1
removetime = 27
scale = (((Time+6)/82.0)*0.76),(((Time+6)/82.0)*0.76)
ontop = 1
ownpal = 1
removeongethit = 0

[State 0, WTF]
type = Helper
trigger1 = Time=109
helpertype = normal ;player
name = "FAIL"
ID = 54198
stateno = 54198
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time=109
value = 23651
elem = 5

[State 0, ChangeState]
type = ChangeState
trigger1 = Anim=23651 && AniMTime=0
value = 0
ctrl = 0

[Statedef 54198]
type = S
ctrl = 0
anim = 9741
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = Time=0
v = 2
value = root,var(2)

[State 0, Explod]
type = Explod
trigger1 = Time=0
anim = var(2)
ID = 54197
pos = 160,120
postype = left
accel=0,0.69
facing = 1
removetime = 35
scale = ((88.0/82.0)*0.76),((88.0/82.0)*0.76)
ontop = 1
ownpal = 1
removeongethit = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = Time=195
time = 25
freq = 100
ampl = -25
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=195
value = S250,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=195
value = S20,33

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time>=195

;========WTF DAN===========
[Statedef 54199, KOA TRAITOR]
type = S
ctrl = 0
anim = 54199
velset = 0,0

[State 54192, Slide]
type = PlaySnd
triggerall = Anim=54199
trigger1 = AnimElem = 12
value = S237,2
channel=1

[State 54192, Slide]
type = PlaySnd
triggerall = Anim=54199
trigger1 = AnimElem = 2
value = S5007,1+random%2
channel=0

[State 54199, Explod]
type = Explod
trigger1 = Time=0
anim = 333888
ID = 54199
pos = 0,0
postype = p1
facing = 1
removetime = 104
scale = 1,1
ontop = 0
sprpriority=2
ownpal = 1
removeongethit = 0

[State 54199, Explod]
type = Explod
triggerall = Anim=54199
trigger1 = AnimElemTime(13)=1
anim = 333889
ID = 54199
pos = 0,0
vel=12,0
accel=0.9,0
postype = p1
facing = 1
removetime = 15
scale = 1,1
ontop = 0
sprpriority=2
ownpal = 1
removeongethit = 0

[State 54199, Explod]
type = Explod
triggerall = Anim=54199
trigger1 = AnimElemTime(13)=1
anim = 7930+random%8
ID = 54199
pos = 7,-46
postype = p1
facing = 1
removetime = -2
scale = 1,1
ontop = 1
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = Anim=54199
trigger1 = AnimElemTime(13)=1
value = S5,6

[State 0, PlaySnd]
type = PlaySnd
triggerall = Anim=54199
trigger1 = AnimElemTime(13)=1
value = S22000,0

[State 0, PlaySnd]
type = PlaySnd
triggerall = Anim=54199
trigger1 = AnimElemTime(13)=1
value = S22000,0

[State 0, EnvShake]
type = EnvShake
triggerall = Anim=54199
trigger1 = AnimElemTime(13)=1
time = 8
freq = 120
ampl = -5
phase = 90

[State This is not what you planned]
type = ChangeAnim
triggerall = Anim=54199
trigger1 = AnimElemTime(13)=1
value = 22661

[State ASDF]
type = AngleDraw
triggerall = Anim=22661
trigger1 = AnimElemTime(1) >= 1 && AnimElemTime(2)<0
value = 90*(time/6.0)
ignorehitpause = 1

[State FAG]
type = PlaySnd
triggerall = Anim=22661
trigger1 = AnimElemTime(2)=0
value = S22000, 0

[State FAG]
type = GameMakeAnim
triggerall = Anim=22661
trigger1 = AnimElemTime(2)=0
value = 62
pos = -50, 0
under = 0

[State 23653, Saying]
type = PlaySnd
triggerall = Anim=22661
trigger1 = AnimElemTime(1)=0
value = S2435, 0

[State 23653, Saying]
type = PlaySnd
triggerall = Anim=22661
trigger1 = AnimElemTime(2)=0
value = S2435, 2

[State 0, EnvShake]
type = EnvShake
triggerall = Anim=22661
trigger1 = AnimElemTime(2)=0
time = 6
freq = 200
ampl = -4
phase = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=119
value = S20,36

[State 0, EnvShake]
type = EnvShake
trigger1 = Time=119
time = 19
freq = 90
ampl = -9
phase = 90

[State AASSSSSSSSSSSS]
type = ChangeAnim
triggerall = Anim=22661
trigger1 = Time>150
value = 5120

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 0, ChangeState]
type = ChangeState
triggerall = Anim=5120
trigger1 = AniMTime=0
value = 0
ctrl = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191, 1] ; YESSSSSSHHHHHHHHHHHHHHHHH
type = PlaySnd
trigger1 = Time = 45
value = 191, 0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 198]
type = S
ctrl = 0
velset = 0,0

[State 198, ChangeAnim]
type = ChangeAnim
trigger1 = Time=0
value = 54199
elem = 2

[State 198, Player push]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time=0
value = S2435,1
channel=0

[State 198, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 198, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimElemTime(19)=3
value = 199

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 199]
type = S
ctrl = 0
anim = 195
velset = 0,0

[State 198, Player push]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = Time=0
channel = 0

[State 199, 1] ; YESSSSSSHHHHHHHHHHHHHHHHH
type = PlaySnd
trigger1 = AnimElemTime(7)=0
value = S237, 0

[State 199, 1] ; YESSSSSSHHHHHHHHHHHHHHHHH
type = PlaySnd
triggerall = !var(38)
trigger1 = AnimElemTime(19)=0
value = 95000, 1

[State 199, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = intro

[State 199, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Taunt
[Statedef 195]
type = S
ctrl = 0
velset = 0,0
movetype = I
physics = S
sprpriority = 2
poweradd = 0 ;LOLOLOLOLOLOLOLOLOLOLOLOLOL!

[State 195, VarSet]
type = VarSet
trigger1 = Time=0
var(5) = random%2

[State 195, ChangeAnim]
type = ChangeAnim
trigger1 = Time=0
value = 195+Var(5)

[State 195, HI] ;YESHHHHHHHHHHHHHHHHHHHHHHHHH!!!
type = PlaySnd
triggerall = anim=195
trigger1 = AnimElemTime(7)=0
value = S237, 0

[State 195, HI] ;YESHHHHHHHHHHHHHHHHHHHHHHHHH!!!
type = PlaySnd
triggerall = anim=195
trigger1 = AnimElemTime(19)=0
value = S2000, 2

[State 195, Taunt 2] ;Presumption
type = PlaySnd
triggerall = anim=196
trigger1 = Time=4
value = S195, random%2

[State 195, STAY THERE...]
type = ChangeAnim
triggerall = anim=196
triggerall = AnimElemTime(2)>=0 && AnimElemTime(3)<0
trigger1 = Time < 100
trigger2 = command = "hold_s"
value = 196
elem = 2

[State 195, GTFO]
type = ChangeAnim
triggerall = var(5)
triggerall = anim=196
triggerall = AnimElemTime(2)>=0 && AnimElemTime(3)<0
triggerall = Time >= 100
trigger1 = command != "hold_s"
value = 196
elem = 3

[State 195, Thanks for letting me laugh at your bum :3]
type = PowerAdd
trigger1 = AnimTime=0
value = 100

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; DEAD Taunt?
[Statedef 5195]
type = L
ctrl = 0
anim = 5195
velset = 0,0
movetype = H
physics = N
sprpriority = 2
poweradd = 0 ;LOLOLOLOLOLOLOLOLOLOLOLOLOL!

[State 5195, HI] ;YESHHHHHHHHHHHHHHHHHHHHHHHHH
type = PlaySnd
trigger1 = Time = 1
value = 2000, 2

[State 5195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 5150
ctrl = 0

;-------------------------------------------------------------------------
;YOU GAIN 4000 POWER

[Statedef 196]
type = S
ctrl = 0
anim = 196
velset = 0,0

[State 196, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(7) = 0
value = S20025,3
volume = 255
channel = 6

[State 196, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(90) = 0
value = S20025,1
volume = 255
channel = 6

[State 196, PlaySnd]
type = PlaySnd
trigger1 = AnimElemTime(93) = 0
value = S20025,0
volume = 255
channel = 6

[State 196, YOUPLAINSUCK]
type = PlaySnd
trigger1 = AnimElemTime(118) = 0
value = S20025,2
volume = 255
channel = 6

[State 196, GAIN4000SOUND]
type = PlaySnd
trigger1 = AnimElemTime(136) = 0
value = S23650,2
volume = 255
channel = 6

[State 196, GAIN4000SHAKE]
type = EnvShake
trigger1 = AnimElemTime(136) = 0
time = 75
freq = 6886
ampl = -58
phase = 90

[State 196, GAIN4000EnvColor]
type = EnvColor
trigger1 = AnimElemTime(136) = 0
value = 0,0,0
time = 90
under = 1
;ignorehitpause =
;persistent =

;Generated by Fighter Factory PalFX Editor
[State 196, PalFXWiz]
type = AllPalFX
trigger1 = AnimElemTime(136) = 0
time = 90
add = 7,-200,-200
mul = 256,256,256
sinadd = 30,30,0,10
invertall = 1
color = 0
;ignorehitpause = 0
;persistent = 1

[State 196, GAIN4000LifeSet]
type = LifeSet
trigger1 = AnimElemTime(136) = 0
value = 9999

[State 196, GAIN4000Power]
type = PowerSet
trigger1 = AnimElemTime(136) = 0
value = 4000

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[Statedef 197]
type = S
ctrl = 0
anim = 11621
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = (Var(24)>0 && Var(28)=1) && Time=0
value = 11354

[State 197, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S22000,3
channel = 0

[State 197, PlaySnd]
type = PlaySnd
triggerall=power
trigger1 = Time % 2 = 0
value = S385,7
channel = 1+(time%5)
abspan=0
volume=-255+200*(power/3000.000)
freqmul=ifelse(((power/1000.0000)<=1),(power/1000.0000),((power-250)/750.000))
freq=ifelse(((power/1000.0000)<=1),(power/1000.0000),((power-250)/750.000))

[State 197, New Power Add]
type = poweradd
triggerall = !(Var(24)>0 && Var(28)=1)
trigger1 = power < 3000 || time < 60
value = floor(1.12*(6+(time/18.0)))

[State 197, Explosion Moment Power Add]
type = poweradd
triggerall = Var(24)>0 && Var(28)=1
trigger1 = power < powermax
value = 22

[State 197, New Power Add]
type = poweradd
triggerall = !(Var(24)>0 && Var(28)=1)
trigger1 = power >= 3000 && time >= 60
value = 15

;STOLEN... I mean borrowed straight from PotS
[State 740, FX]
type=helper
trigger1= anim=11621||anim=11354
trigger1= !numhelper(7240)
helpertype=normal
stateno=7240
pos = 0,0
ID=7240
name="Power Charge"
postype=p1
pausemovetime=65535
supermovetime=65535
ownpal=1
[State 740, FX]
type=helper
trigger1= anim=11621||anim=11354
trigger1= !numhelper(7243)
helpertype=normal
stateno=7243
ID=7243
name="Particles"
postype=p1
pos = 12,0
pausemovetime=65535
supermovetime=65535
ownpal=1

[State SUPER CHARGE]
type = PlaySnd
trigger1 = power>=powermax
value = S66666,2
persistent=1

[State MORE POWER (Burst)]
type = PlaySnd
triggerall = Var(24)>0 && Var(28)=1
trigger1 = Time = 0
value = S197,3
channel = -1
volume=999

[State SUPER CHARGE]
type = PlaySnd
trigger1 = power>=powermax
value = S197,0
persistent=1

[State 197, 2]
type = ChangeState
trigger1 = (command != "holdy" && command != "holdb") && var(45) = 0
trigger2 = power >= powermax
trigger3 = var(45)!=0 && ((p2bodydist X = [-60,80]) || p2movetype=A || enemynear,numproj!=0)
value = 202
ctrl = 0

[Statedef 202]
type = S
ctrl = 0
anim = 11621
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 202, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 5

[State 202, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 0

[State 202, 2]
type = ChangeState
trigger1 = Time >= 5
value = 0
ctrl = 1

;Burst mode counter!
[Statedef 69696]
type = S
movetype = I
physics = N
anim=11111
sprpriority = 99

[State 6000, VarSet]
type = VarSet
trigger1 = Time=0
fvar(11) = root,var(24)
ignorehitpause=1

[State CAAAAAAAAAAAAAAAAAAAAAT]
type = Explod
trigger1 = !NumExplod(3555)
anim = 6567
ID = 3555
pos = 160,120
postype = back
facing = 1
bindtime = -1
removetime = -1
supermovetime = 99999999
pausemovetime = 99999999
scale = 0.065,0.42
sprpriority = -3
ownpal = 1
removeongethit = 0

[State CAAAAAAAAAAAAAAAAAAAAAT 2]
type = Explod
trigger1 = !NumExplod(3556)
anim = 6567
ID = 3556
pos = 160,120
postype = back
facing = 1
bindtime = -1
removetime = -1
supermovetime = 99999999
pausemovetime = 99999999
scale = 0.605,0.42
alpha=100,256
sprpriority = -4
ownpal = 1
removeongethit = 0

[State gooby]
type = ModifyExplod
trigger1 = NumExplod(3555)
ID = 3555
scale=1*(root,var(24)/fvar(11))*cos(time*pi/60.0),0.42
ignorehitpause=1
[State k lol]
type = ModifyExplod
trigger1 = NumExplod(3556)
ID = 3556
scale=1*(root,var(24)/fvar(11))*sin(time*pi/60.0),0.42*sin(time*pi/60.0)
alpha=100,256
ignorehitpause=1

[State LOL BGM :D]
type = PlaySnd
triggerall = (root,var(24)>(420)) && (root,var(28)=1)
trigger1 = Time=0 && root,var(56)
value = S32000,0+((root,palno=11))
volume = 255
channel = 7
freqmul = 1.0
loop = 1
abspan=0
[State HARDCOAR FOR SPED UP]
type = PlaySnd
triggerall = (root,var(24)<=(420)) && (root,var(28)=1)
trigger1 = Time=0 && root,var(56)
value = S17777,2
volume = 255
channel = 7
freqmul = 1.0
loop = 1
abspan=0

[State BGM]
type = AssertSpecial
trigger1 = root,var(56)
flag = nomusic

[State 32000, VarSet]
type = VarSet
trigger1 = 1
fvar(0) = (pi/40.0)*time

[State 32000, PalFXWiz]
type = BGPalFX
trigger1 = 1
time = 1
add = -256+256*abs(sin(fvar(0))),-256+256*abs(sin(fvar(0))),-256+256*abs(sin(fvar(0)))
mul = 256,256,256
invertall = 0
color = 256

[State 32000, PlaySnd]
type = PlaySnd
trigger1 = !(root,var(24)>0&&root,var(28)=1)
value = S54191,0
channel=7

[State Cat 1 chao]
type = RemoveExplod
trigger1 = !(root,var(24)>0&&root,var(28)=1)
id = 3555
[State Cat 2 chao]
type = RemoveExplod
trigger1 = !(root,var(24)>0&&root,var(28)=1)
id = 3556

[State 32000, DestroySelf]
type = DestroySelf
trigger1 = !(root,var(24)>0&&root,var(28)=1)

;---------------------------------------------------------------------------
; Stand Parry
[Statedef 8000]
type = S
movetype = I
physics = N
ctrl = 0
anim = 8000
velset = 0,0,0

[State 8000, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SA,AA,AP
time = 10

[State 8000, Pause]
type = Pause
trigger1 = time = 0
time = 10
movetime = 10

[State 8000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8000,0

[State 8000, Explod]
type = Explod
trigger1 = time = 0
anim = 8005
ID = 8005
pos = 25,-39
postype = p1
facing = 1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
pausemovetime = 20

[State 8000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0 && Pos Y < 0
value = 50
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0 && Pos Y >= 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouch Parry
[Statedef 8001]
type = C
movetype = I
physics = N
ctrl = 0
anim = 8001
velset = 0,0,0

[State 8000, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SA,AA,AP
time = 10

[State 8000, Pause]
type = Pause
trigger1 = time = 0
time = 10
movetime = 10

[State 8000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8000,0

[State 8000, Explod]
type = Explod
trigger1 = time = 0
anim = 8005
ID = 8005
pos = 28,-31
postype = p1
facing = 1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
pausemovetime = 20

[State 8000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0 && Pos Y < 0
value = 50
ctrl = 1

[State 8000, ChangeState]
type = ChangeState
trigger1 = AnimTime = 0 && Pos Y >= 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Air Parry
[Statedef 8002]
type = A
movetype = I
physics = N
ctrl = 0
anim = 8002
velset = 0,0,0

[State 8000, NotHitBy]
type = NotHitBy
trigger1 = time = 0
value = SA,AA,AP
time = 10

[State 8000, Pause]
type = Pause
trigger1 = time = 0
time = 10
movetime = 10

[State 8000, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8000,0

[State 8000, Explod]
type = Explod
trigger1 = time = 0
anim = 8005
ID = 8005
pos = 50,-56
postype = p1
facing = 1
bindtime = 1
removetime = -2
scale = 0.5,0.5
sprpriority = 2
ownpal = 1
pausemovetime = 20

[State 8002, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
physics = A

[State 8002, CtrlSet]
type = CtrlSet
trigger1 = time = 10
value = 1

;------------------------------------------------------------------------------
; Reject Super (E.G. Rape Moves)
[Statedef 8036]
type = S
movetype = A
physics = N
ctrl = 0
velset = 0,0
poweradd = 1000
anim = 8036

[State 8036, Fuck]
type = HitDef
trigger1 = Time = 0
attr = S, HA
damage = 150, 150
animtype = Up
guardflag =
hitflag = MAFD
priority = 7, Hit
pausetime = 8, 8
sparkno = s7920+random%8
guard.sparkno = s7911
sparkxy = -10, -47
hitsound = s5, 9
guardsound = s6, 0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = 0,-25
airguard.velocity = 0,-25
hitonce = 1
kill = 1
fall = 1
fall.recover = 0
air.velocity = 0,-25
air.hittime = 12

[State 8036, End]
type = ChangeState
value = 52
ctrl = 0
trigger1 = AnimTime = 0

;----------------------------------------------------------------------
; Super Jump Hold

[Statedef 8999]
type = S
physics = S
velset = 0,0
ctrl = 0
anim = 11

[State 8999, PalFXWiz]
type = PalFX
trigger1 = Time = 60
time = 30
add = 0,0,200
mul = 256,256,256
sinadd = 0,0,200,10
invertall = 0
color = 255

[State 8999, PalFXWiz]
type = PalFX
trigger1 = Time = 90
time = 30
add = 0,0,200
mul = 256,256,256
sinadd = 0,0,200,7
invertall = 0
color = 255

[State 8999, PalFXWiz]
type = PalFX
trigger1 = Time = 120
time = 30
add = 0,0,200
mul = 256,256,256
sinadd = 0,0,200,5
invertall = 0
color = 255

[State 8999, PalFXWiz]
type = PalFX
trigger1 = Time = 150 && (Time % 30 = 0)
time = 30
add = 0,0,200
mul = 256,256,256
sinadd = 0,0,200,2
invertall = 0
color = 255

[State 8999, Go Upwards Time Reseter]
type = VarSet
trigger1 = Time = 0
var(6) = 0

[State 8999, Go Upwards]
type = VarAdd
trigger1 = Time >= 60
var(6) = 1

[State 8999, Up Button is Up Momentum A]
type = VarSet
trigger1 = !var(6)
fvar(7) = -13.0

[State 8999, Up Button is Up Momentum B]
type = VarSet
trigger1 = var(6) >= 1 && var(6) < 30
fvar(7) = -16.2

[State 8999, Up Button is Up Momentum C]
type = VarSet
trigger1 = var(6) >= 30 && var(6) < 60
fvar(7) = -21.5

[State 8999, Up Button is Up Momentum C]
type = VarSet
trigger1 = var(6) >= 60 && var(6) < 90
fvar(7) = -24.12

[State 8999, Up Button is Up Momentum C]
type = VarSet
trigger1 = var(6) >= 90
fvar(7) = -24.5

[State 8999, Up Button is Up AI Switch]
type = ChangeState
trigger1 = (var(45) != 0) && P2BodyDist X < 20
value = 9000
ctrl = 0

[State 8999, Up Button is Up Switch]
type = ChangeState
trigger1 = command != "holdup" && (var(45) = 0)
trigger2 = var(45) && (p2bodydist x < 20 || inguarddist)
value = 9000
ctrl = 0

;----------------------------------------------------------------------
; Super Jump
; Original Code by Lasher (Open Source), but I changed it to my liking!!!

[Statedef 9000]
type = A
physics = A
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Vel Y < -3
value = ,NA,NP

[State 9000, VelSet]
type = VelSet
trigger1 = Time = 0
y = fvar(7)

[State 9000, Var Reset]
type = VarSet
trigger1 = Time = 1
fvar(7) = 0

[State 9000, Animation For Super Jump]
type = ChangeAnim
trigger1 = Time = 0
value = 9001

[State 9000, Peak and Fall!]
type = ChangeAnim
trigger1 = Anim = 9001 && Vel Y > -2
value = 9000

[state 9000, CtrlSet]
type = CtrlSet
trigger1 = Time >= 10
value = 1

[State 9000, VelAddFwd]
type = VelAdd
trigger1 = command = "holdfwd"
x = .75

[State 9000, VelAddFwd]
type = VelAdd
trigger1 = command = "holdback"
x = -0.75

[state 9000, VelSetFwd]
type = VelSet
trigger1 = Vel X > 5
x = 5

[state 9000, VelSetBack]
type = VelSet
trigger1 = Vel X < -5
x = -5

[State 9000, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = 9000, 0

[State 3050, PlaySnd]
type = PlaySnd
trigger1 = Time=0
value = S5004,11
volume=100

[State 1050, AfterImage]
type = AfterImage
trigger1 = Time = 0
time = 50
TimeGap  = 1
FrameGap = 2
length = 30
palbright = 40,40,40
palcontrast = 220,220,220
palpostbright = 0,0,0
trans = add
paladd = 10,10,10
palmul = .65,.65,.65

[State 9000, AfterImageTime]
type = AfterImageTime
trigger1 = vel y >= 5
time = 0

[state 9000, End]
type = ChangeState
trigger1 = Pos Y >= 1 && Vel Y > 0
value = 52
ctrl = 1

;Zombie Queen Taunt
[Statedef 9099]
type = S
movetype = I
Physics = N
velset = 0,0
anim = 9099

[State 9099, Spawn The queen]
type = Helper
trigger1 = !Time
helpertype = normal
name = "Zombie Queen"
ID = 9100
stateno = 9100
pos = -60,-50
postype = back
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 9099, Turn When Required]
type = Turn
trigger1 = Time = 90
trigger2 = Time = 170

[State 9099, Change Animation]
type = ChangeAnim
trigger1 = Time = 90
value = 11621

[State 9099, Change Animation]
type = ChangeAnim
trigger1 = Time = 170
value = 100

[State 9099, VelSet]
type = VelSet
trigger1 = Time = 170
x = 2

[State 9099, VelSet]
type = AssertSpecial
trigger1 = Time <= 300
flag = roundnotover

[State 9099, VelMul]
type = VelMul
trigger1 = 1
x = 1.05

[State 9099, Hits Miss!!]
type = NotHitBy
trigger1 = 1
value = SCA

[State 9099, Push Is Off]
type = PlayerPush
trigger1 = 1
value = 0

[State 9099, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0

[Statedef 9100]
type = A
movetype = I
Physics = N
velset = 2,0
anim = 9100

[State 9100, Stop]
type = VelSet
trigger1 = Time = 60
x = 0

[State 9100, Continue On]
type = VelSet
trigger1 = Time = 180
x = 2

[State 9100, VelMul]
type = VelMul
trigger1 = Time >= 180
x = 1.05

[Statedef 11354] ;Explosion Moment
type = S
movetype = I
Physics = S
velset = 0,0
anim = 11354
ctrl = 0

[State 11354, KaBewm 1]
type = PlaySnd
trigger1 = Time = 0
value = S500,4
channel = -1

[State 11355, KaBewm 1]
type = PlaySnd
trigger1 = Time = 0
value = S500,4
channel = -1

[State 11354, ATK Factor]
type = AttackMulSet
trigger1 = Time = 0
value = 1.2

[State 11354, DFD Factor]
type = DefenceMulSet
trigger1 = Time = 0
value = 0.7

[State 11354, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Super"
ID = 7500
stateno = 7500
pos = 0,-55
postype = p1
ownpal = 1
supermovetime = 9999
persistent = 0

[State 11354, VarSet]
type = VarSet
trigger1 = time = 0
var(27) = 1

[State 11354, Super Resistance]
type = VarSet
trigger1 = time = 0
var(28) = 1

[State 11355, Level 2, I guess]
type = VarSet
trigger1 = time = 0
var(10) = 6

[State 11354, Super Pause]
type = SuperPause
trigger1 = Time = 0
time = 45
anim = -1
movetime = 45
sound = s7,0
unhittable = 1
;poweradd = -4000
darken = 0

[State 11354, PowerSet]
type = LifeAdd
trigger1 = Time = 0
value = -(ceil(life/2))
kill = 1
absolute = 1

[State 11354, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 52
ctrl = 0

;BURST MODE START
[Statedef 111354]
type = S
movetype = I
Physics = S
velset = 0,0
anim = 11354
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = Time=0
value = SCA
time = 76

[State 111354, KaBewm 1]
type = PlaySnd
trigger1 = Time = 0
value = S7,4
channel = -1
volume=999

[State 111354, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Super"
ID = 7500
stateno = 7500
pos = 0,-55
postype = p1
ownpal = 1
supermovetime = 9999
persistent = 0

[State 111354, VarSet]
type = VarSet
trigger1 = 1
var(24) = 900

[State 111354, WHOA!!]
type = VarSet
trigger1 = time = 0
var(7) = 1

[State 111354, Super Resistance]
type = VarSet
trigger1 = time = 0
var(28) = 1

[State 111354, VarSet]
type = VarSet
trigger1 = time = 0
var(9) = 45

[State 111354, VarSet]
type = VarSet
trigger1 = time = 0
var(10) = 6

[State 111354, Explod]
type = Explod
trigger1 = Time=0
anim = 1211
ID = 1211
pos = 0,0
postype = back  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = 76
supermovetime=999999
pausemovetime=999999
scale = 1,1
sprpriority = -7
ownpal = 1

[State 111354, Explod]
type = Explod
trigger1 = Time=0
anim = 28007
ID = 28007
pos = 0,75
postype = back  ;p2,front,back,left,right
facing = 1
bindtime = -1
removetime = -2
supermovetime=999999
pausemovetime=999999
scale = 1,1
sprpriority = -6
ownpal = 1

[State 111354, Super Pause]
type = SuperPause
trigger1 = Time = 0
time = 76
anim = -1
movetime = 76
sound = s7,4
unhittable = 1
darken = 0


[State DERP]
type = PowerSet
trigger1 = Time>=76
value = 0

[State 111354, End]
type = ChangeState
trigger1 = Time>=76
value = 0
ctrl = 1

[Statedef 11355] ;Explosion Moment Super (Super Instant Death)
type = S
movetype = I
Physics = S
velset = 0,0
anim = 11355
ctrl = 0

[State 11354, Thunder]
type = PlaySnd
trigger1 = AniMElemTime(2) = 0
value = S500,5
volume = 598
abspan = 0
channel = -1

[State 11355, KaBewm 1]
type = PlaySnd
trigger1 = Time = 0
value = S500,3
channel = -1

[State 11355, KaBewm 1]
type = PlaySnd
trigger1 = Time = 0
value = S500,4
channel = -1

[State 11355, ATK Factor]
type = AttackMulSet
trigger1 = Time = 0
value = 1

[State 11355, DFD Factor]
type = DefenceMulSet
trigger1 = Time = 0
value = 1

[State 11355, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Super"
ID = 7500
stateno = 7500
pos = 0,-55
postype = p1
ownpal = 1
supermovetime = 9999
persistent = 0

[State 11355, DIE]
type = Helper
trigger1 = animelemtime(2) = 0
helpertype = normal
name = "Instant Death"
ID = 11356
stateno = 11356
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999
persistent = 0

[State 11355, EnvColor]
type = EnvColor
trigger1 = animelemtime(2) = 0
value = 255,255,255
time = 3
under = 0

[State 11355, VarSet]
type = VarSet
trigger1 = time = 0
var(27) = 0

[State 11355, Super Resistance]
type = VarSet
trigger1 = time = 0
var(28) = -1

[State 11355, Level 4, I guess]
type = VarSet
trigger1 = time = 0
var(10) = 7

[State 11355, Super Pause]
type = SuperPause
trigger1 = Time = 0
time = 45
anim = -1
sound = s7,0
unhittable = 1
darken = 0

[State 11355, PowerSet]
type = PowerSet
trigger1 = Time = 0
value = 0

[State 11355, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 52
ctrl = 0

[Statedef 11356] ;Explosion Moment Super (DEATH)
type = S
movetype = A
Physics = S
velset = 0,0
anim = 11356
ctrl = 0

[State 11356, DIE AGAIN!]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Instant Death"
ID = 11357
stateno = 11357
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 9999
persistent = 0

[State 11356, FUCK]
type = HitDef
trigger1 = Time = 0
attr = S,HA
hitflag = MAFD
guardflag = L
getpower = 0,0
givepower = 0,0
affectteam = E
animtype = Up
priority = 7,Hit
damage = 500,5
pausetime = 0,60
guard.pausetime = 0, 0
sparkno = s7930+random%8
guard.sparkno = s7911
sparkxy = 0,-50
hitsound = s5,9
guardsound = s6,0
ground.type = High
fall = 1
fall.recover = 0
guard.kill = 0
yaccel = 0.5
ground.velocity = 0,-30
down.bounce = 1
kill = 1
guard.dist = 600
envshake.time = 25
envshake.freq = 180
envshake.ampl = 7

[State 11356, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0

[Statedef 11357] ;Explosion Moment Super (DEATH TO YOU)
type = S
movetype = A
Physics = S
velset = 0,0
anim = 11356
ctrl = 0

[State 11356, FUCK]
type = HitDef
trigger1 = Time = 0
attr = S,HA
hitflag = MAFD
guardflag =
getpower = 0,0
givepower = 0,0
affectteam = F
animtype = Up
priority = 7,Hit
damage = 499,499
pausetime = 0,60
guard.pausetime = 0, 0
sparkno = s7930+random%8
guard.sparkno = s7911
sparkxy = 0,-50
hitsound = s5,9
guardsound = s6,0
ground.type = High
fall = 1
fall.recover = 0
guard.kill = 0
yaccel = 0.5
ground.velocity = 0,-30
down.bounce = 1
kill = 1
envshake.time = 25
envshake.freq = 180
envshake.ampl = 7

[State 11356, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0

[Statedef 204]
type = S
ctrl = 0
anim = 204
velset = 0,0

[State 204, 1]
type = PlaySnd
trigger1 = AnimElem = 22
value = S204, 3
channel = 0

[State 204, 1]
type = PlaySnd
trigger1 = AnimElem = 51
value = S204, 1
channel = 0

[State 204, 1]
type = PlaySnd
trigger1 = AnimElem = 78
value = S204, 2
channel = 0

[State 204, 1]
type = PlaySnd
trigger1 = AnimElem = 105
value = S204, 0
channel = 0

[State 204, 1]
type = PlaySnd
trigger1 = AnimElem = 106
value = S5, 12

[State 204, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nomusic

[State 204, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Anti var override
[Statedef 767676]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 9741
sprpriority = 4

[State 767676, VarSet]
type = VarSet
trigger1 = Time = 0
var(27) = root,var(27)
ignorehitpause = 1
persistent = 1

[State 767676, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 27
value = var(27)
ignorehitpause  = 1
persistent = 1

[State 767676, VarSet]
type = VarSet
trigger1 = Time = 0
v = 45 ;Save AntiCheap
value = root,var(45)
ignorehitpause = 1
persistent = 1

[State 767676, ParentVarSet]
type = ParentVarSet
trigger1 = 1
v = 45
value = var(45)
ignorehitpause  = 1
persistent = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = root, Pos X
y = root, Pos Y
ignorehitpause  = 1

[Statedef 9896666]
type    = A
movetype= H
physics = N
velset = 0,0
anim = 0
sprpriority = 4

[State 0, LifeAdd]
type = Varset
trigger1 = 1
var(27) = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = 1
value = lifemax
kill = 0
absolute = 1
ignorehitpause = 1
persistent = 1

[State 0, LifeSet]
type = LifeSet
trigger1 = 1
value = lifemax
ignorehitpause = 1
persistent = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
ignorehitpause = 1
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
flag2 = timerfreeze
ignorehitpause = 1
persistent = 1

;--------------------------------------------------------------------------
;Greetings to Kanakofanboy24000! :3 Thanks ^^

[statedef 851111]
type = S
movetype = A
physics = S
anim = 10298
velset = 0,0
sprpriority = 1
ctrl = 0

[State 851111]
type = ReversalDef
triggerall = !ishelper
trigger1 = alive
reversal.attr = SCA,AA,AT,AP
priority = 7, Hit
pausetime = 0,0
hitsound = S16000,0
ignorehitpause = 1

[state 851111]
type = targetstate
triggerall = !ishelper&&numenemy
triggerall = roundstate = 2
trigger1 = numtarget
value = 30101
ignorehitpause = 1


[statedef 30100]
type = U
movetype = U
physics = U
anim = 30100 ;Huge CLNS1
velset = 0,0
sprpriority = 1
ctrl = 0

[State 30100]
type = NotHitBy
trigger1 = time < 2
value = SCA
time = 1
ignorehitpause = 1

[State 30100]
type = Projectile
trigger1 = ishelper
trigger1 = time >= 1
projid = 30100
projanim = 30110
projremove = 0
projremovetime = 5
projhits = 1000
projmisstime = 1
projpriority = 4
postype = p1
velset = 0
velmul = 0,0
attr = SCA,NA
hitflag = MAFD
guardflag =
p2stateno = 30101
sparkno = -1
affectteam = f
persistent = 1

[statedef 30101]
type = S
movetype = H
physics = N
velset = 0,0
ctrl = 0

[State 30101]
type = posset
trigger1 = ishelper
x = 0
y = 999999999
ignorehitpause = 1

[State 30101]
type = AssertSpecial
trigger1 = ishelper
flag = invisible
ignorehitpause = 1

[State 30101]
type = Projectile
triggerall = ishelper
triggerall = root,name = "F1"
trigger1 = 1
attr = C,HP
hitflag = MAFD
projanim = 1000
projhitanim = -1
projid = 250340
projpriority = 999999999
projsprpriority = 999999999
projremove = 0
projremovetime = 10
projhits = 1000000
getpower = 10
p1stateno = 9997
ignorehitpause = 1

[State 30101]
type = Projectile
triggerall = ishelper
triggerall = root,name = ""
trigger1 = 1
attr = C,HP
hitflag = MAFD
projanim = 1000
projhitanim = -1
projid = 250340
projpriority = 999999999
projsprpriority = 999999999
projremove = 0
projremovetime = 10
projhits = 1000000
getpower = 10
p1stateno = 944
ignorehitpause = 1

[State 30101]
type = Projectile
triggerall = ishelper
triggerall = root,name = "Abomb Mk-2"
trigger1 = 1
attr = C,HP
hitflag = MAFD
projanim = 2
projhitanim = -1
projid = 250340
projpriority = 999999999
projsprpriority = 999999999
projremove = 0
projremovetime = 10
projhits = 1000000
getpower = 10
p1stateno = 944
ignorehitpause = 1

[State 50340]
type = Projectile
triggerall = ishelper
triggerall = root,name = "MUAHAHAHAHAHAHAHAHA"
trigger1 = 1
attr = C,HP
hitflag = MAFD
projanim = 2
projhitanim = -1
projid = 250340
projpriority = 999999999
projsprpriority = 999999999
projremove = 0
projremovetime = 10
projhits = 1000000
getpower = 10
p1stateno = 944
ignorehitpause = 1

[state 30101]
type = destroyself
triggerall = ishelper
trigger1 = 1
ignorehitpause = 1

[Statedef 80026];Dizzy is not a common state, but still...
type = A
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 9000

[State 80026, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.5

[State 0, ChangeState]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 10
value = 80027
ctrl = 0

[Statedef 80027]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0
anim = 80027

[State 80027, PlaySnd]
type = PlaySnd
trigger1 = Time=0
value = S5300,1
channel=0

[State 0, PosSet]
type = PosSet
trigger1 = Time=0
y = 0

[State 80008, Back to Main Game]
type = ChangeState
trigger1 = Time >= 540
value = 0
ctrl = 1

[Statedef 80028]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = Time<=60
value = 450

[State 80028, PosSet]
type = PosSet
trigger1 = Time=0
y = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 80008, Back to Main Game]
type = ChangeState
trigger1 = command="FUX" && Time<=60
value = 5050

[State 80008, Back to Main Game]
type = ChangeState
trigger1 = AnimElemTime(10)>=0
value = 80029

[Statedef 80029]
type = S
movetype = I
physics = N
ctrl = 0
velset = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 80008, CRASH IT]
type = ChangeState
trigger1 = 1
value = 80029
ignorehitpause=1

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[Statedef -2]

;#ADD004BASIC PIEs#
;//==========================
;// add004 supplementary sctrls v1.103
;//==========================
;//==========================
;// init_mode_tag first player
;// ??????????????
[state 0]
	type=varset
	triggerall=!ishelper
	trigger1=stateno=5900 && !time && numpartner
	trigger1=id<(partner,id)
	trigger2=sysfvar(4)>99
	sysfvar(4)=2

;// partner jump-out
;// ???????
[state 0]
	type=selfstate
	trigger1=!ishelper && roundstate=2 && numpartner
	trigger1=sysfvar(0)>0 && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900)
	trigger1=(sysfvar(4)<1) && (gethitvar(isbound)=0) && (hitpausetime=0) ;;op;; && (movetype!=h)
	trigger1=(stateno!=[190190,190199]) && (stateno<600) ;; 1000
	trigger1=(stateno!=var(59)) || (!var(59)) || ctrl
	value=190190
	ctrl=0
	ignorehitpause=1

;// change
;// ??
[state 0]
	type=varset
	triggerall=!ishelper && roundstate=2 && numpartner
	triggerall=(sysfvar(4)>0) && (movetype!=h) && (gethitvar(isbound)=0)
	triggerall=(pos y>=0) && (ctrl || (stateno=[0,40]))
	trigger1=(partner,sysfvar(4)>0) && (id<partner,id) && (partner,alive)
	trigger2=(partner,stateno=[190191,190192])
	trigger2=(sysfvar(0)>0) && playeridexist(floor(sysfvar(0)))
	trigger2=(playerid(floor(sysfvar(0))),var(0)=90900)
	trigger2=(command="y"&&command="a")&&(command="holdfwd"||command="holdback")||(playerid(floor(sysfvar(0))),var(51)>0&&life<partner,life&&(random%50=0)&&random<(partner,life-life)*100)
	sysfvar(4)=0

;// striker-call / summon
;// ????????
[state 0]
	type=varset
	triggerall=!ishelper && roundstate=2 && numpartner
	triggerall=(sysfvar(4)>0) && (movetype!=h) && (gethitvar(isbound)=0)
	triggerall=(stateno!=[190190,190199]) && (partner,stateno=190192)
	triggerall=(sysfvar(0)>0) && playeridexist(floor(sysfvar(0)))
	triggerall=(playerid(floor(sysfvar(0))),var(0)=90900)
	trigger1=(playerid(floor(sysfvar(0))),var(51)<1) && (command="y") && (command="a")
	trigger2=(playerid(floor(sysfvar(0))),var(51)>0) && (random%180=0) && (random>(partner,life-life)*100)
	sysfvar(4)=101

;//==========================
;// edited life & power bar
[state 0]
	type=helper
	triggerall=!ishelper && !numhelper(90900)
	trigger1=numpartner
	trigger1=id<(partner,id)
	trigger2=!numpartner
	id=90900
	stateno=90900
	helpertype=normal
	ownpal=0
	size.height=0 ;; 1;; <<-powerbar off mode
	ignorehitpause=1
	supermovetime=88888
	pausemovetime=88888
	;---
	pos=0,88888
[state 0] ; for_safety
	type=destroyself
	trigger1=ishelper(90900) && (stateno=0)
	ignorehitpause=1
	supermovetime=-1
	pausemovetime=-1
;//---
;// input players id
[state 0]
	type=varset
	trigger1=!ishelper && numhelper(90900)
	trigger1=(helper(90900),var(0)=90900) && (sysfvar(0)!=helper(90900),id)
	sysfvar(0)=helper(90900),id
[state 0]
	type=varset
	trigger1=!ishelper && numpartner
	trigger1=!numhelper(90900) && (partner,numhelper(90900)) && (sysfvar(0)!=partner,sysfvar(0))
	sysfvar(0)=partner,sysfvar(0)

;//==========================
;// bk/jd system helper set
[state 0]
	type=helper
	triggerall=!ishelper && numhelper(90900) && !numhelper(99997)
	triggerall=(helper(90900),var(0)=90900) && (helper(90900),var(22)=[2,3])
	triggerall=(stateno!=[100,101]) && (stateno!=195500) && (movetype!=a) && (movetype!=h) && ctrl
	trigger1=((helper(90900),var(22)=2)&&(command="holdfwd")) || ((helper(90900),var(22)=3)&&(command="holdback"))
	trigger2=(helper(90900),var(51)>0) && random<(roundno+matchno+(helper(90900),var(51)))*10
	id=99997
	stateno=99997
	helpertype=normal
	keyctrl=0
	ownpal=0
	size.ground.front=8888
	size.height=2+(helper(90900),var(22)=3) ;;<-type
	ignorehitpause=1
	supermovetime=88888
	pausemovetime=88888
;//--- bk/jd succeeded!
[state 0]
	type=changestate
	trigger1=!ishelper && numhelper(99997) && stateno!=195500 && ctrl
	trigger1=(helper(99997),stateno=99996) && (helper(99997),time=0)
	value=195500
	ctrl=0
	ignorehitpause=1
;//--- muteki
[state 0]
	type=hitby
	trigger1=!ishelper && numhelper(99997)
	trigger1=(helper(99997),stateno=[99996,99997])
	value=sca,nt,st,ht
	time=2 ;;<<-plus 1 frame
	ignorehitpause=1

;//==========================
;; face / portrait
;; ?
[state 0]
	type=explod
	trigger1=(!ishelper) && (roundstate=2) && (numpartner) && (!numhelper(90900)) && (alive)
	trigger1=!numexplod(490600) && selfanimexist(909002) && (sysfvar(0)>id) && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900) && (playerid(floor(sysfvar(0))),var(9)&4)
	id=490600
	anim=909002
	space=screen
	postype=left
	facing=ifelse(teamside=1,1,-1)
	ownpal=1
	bindtime=-1
	removetime=-1
	ignorehitpause=1
	supermovetime=-1
	pausemovetime=-1

[state 0] ;; player is NOT in a custom state (*1
	type=modifyexplod
	trigger1=numexplod(490600) && (sysfvar(0)>id) && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900)
	trigger1=(movetype!=h) || (stateno=[120,159]) || (stateno=[5000,5199])
	id=490600
	scale=(playerid(floor(sysfvar(0))),fvar(32)), (playerid(floor(sysfvar(0))),fvar(33))
	ignorehitpause=1
	supermovetime=-1
	pausemovetime=-1

[state 0]
	type=modifyexplod
	trigger1=numexplod(490600) && (sysfvar(0)>id) && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900)
	id=490600
	space=screen
	postype=left
	pos=floor(const240p(playerid(floor(sysfvar(0))),fvar(30))), floor(const240p(playerid(floor(sysfvar(0))),fvar(31))) -88888*(roundstate!=2)

;;(*1	scale=(playerid(floor(sysfvar(0))),fvar(32)), (playerid(floor(sysfvar(0))),fvar(33))
;;(*1 if the player has been placed in a custom state, the result of "scale" is affected" by the different player's local coordinate space.

	sprpriority=floor(playerid(floor(sysfvar(0))),fvar(36))
	trans=addalpha
	alpha=floor(playerid(floor(sysfvar(0))),fvar(34)), floor(playerid(floor(sysfvar(0))),fvar(35))
	ignorehitpause=1
	supermovetime=-1
	pausemovetime=-1

;//==========================
;; optional settings
;;---
;; guard crush
;; ????????
[state 0]
	type=palfx
	trigger1=(stateno=150 || stateno=152) && alive && !ishelper && (gametime%5=0) && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900) && (playerid(floor(sysfvar(0))),var(36)>=40)
	time=2
	add=200,0,0
[state 0]
	type=changestate
	trigger1=(stateno=150 || stateno=152) && alive && !ishelper && sysfvar(0)>id && playeridexist(floor(sysfvar(0)))
	trigger1=(playerid(floor(sysfvar(0))),var(0)=90900) && (playerid(floor(sysfvar(0))),var(36)>=50)
	value=190010
	ignorehitpause=1
;;---
;; dizzy
;; ??
[state 0]
	type=changestate
	trigger1=(stateno=5120) && (animtime=0) && !ishelper && numhelper(403000) ;;<-dizzy birds
	value=190116 ;;<- goto dizzy/stun state
;;---
;; fadeout when KOed
;; KO????
[state 0]
	type=assertspecial
	trigger1=stateno=5150 && alive=0 && !ishelper && numpartner && (((time=[80,150])&&(time%10<5))||(time>150))
	trigger1=(partner,stateno!=stateno)||((partner,stateno=stateno)&&(partner,time<time))
	flag=invisible
	flag2=noshadow
[state 0]
	type=posset
	trigger1=stateno=5150 && alive=0 && !ishelper && numpartner && (time>150)
	trigger1=(partner,stateno!=stateno)||((partner,stateno=stateno)&&(partner,time<time))
	y=-3
;---
;//==========================
;//==========================



[State Blafgh]
type = VarSet
trigger1 = 1
var(46) = 1
ignorehitpause=1

;=====COMBO SHIT (Taken from a MvC2 Template)=====
[State -2, VS_Combo]
type = VarSet
trigger1 = var(48) >= 3
var(49) = 1+(var(48)>=4)+(var(48)>=5)+(var(48)>=6)+(var(48)>=7)+(var(48)>=8)+(var(48)>=9)+(var(48)>=10)+(var(48)>=11)+(var(48)>=12)+(var(48)>=17)
ignorehitpause = 1

[State -1, DisplayHelperCall]
type = Helper
trigger1 = !NumHelper(6000) && (var(24)>0&&var(28)=1)
helpertype = normal
name = "Status Bars"
ID = 6000
stateno = 69696
pos = 25, -150
postype = left   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermove=1
pausemove=1
size.xscale = .5
size.yscale = .5

[State -2, Combo Sound]
type = PlaySnd
trigger1 = NumExplod(8701) = 0
trigger1 = var(48)=0 && var(49)!=0
persistent = 0;1
value = 920,var(49)
volume=555
ignorehitpause = 1
abspan=0

[State -2, Left]
type = explod
trigger1 = var(48)=0 && var(49)!=0
triggerall = TeamSide = 1 && NumExplod(8701) = 0
anim = (18000 + var(49))
ID = 8701
postype = left
pos = 85,82
ontop = 1
bindtime = -1
removetime = -2
ownpal=1
supermovetime = 999
pausemovetime = 999
scale = 0.5,0.5
persistent = 0
ignorehitpause = 1

[State -2, Right]
type = explod
trigger1 = var(48)=0 && var(49)!=0
triggerall = TeamSide = 2 && NumExplod(8701) = 0
anim = (18000+ var(49))
ID = 8701
postype = right
pos = -90,82
ontop = 1
ownpal=1
bindtime = -1
removetime = 60
supermovetime = 60
pausemovetime = 60
scale = 0.5,0.5
persistent = 0;1
ignorehitpause = 1

[State -2, VS_Combo]
type = VarAdd
trigger1 = enemynear, time = 0
trigger1 = enemynear, Hitshakeover = 0
trigger1 = p2stateno = 6300 || p2stateno = [5000,5899]
var(48) = 1 + (var(48)=-1)
ignorehitpause = 1
[State -2, VS_Combo]
type = VarSet
trigger1 = var(48)>=99
var(48) = 99
ignorehitpause = 1

[State -2, VS_Combo]
type = VarSet
trigger1 = var(48)!=-1 && (p2movetype!=H || enemynear, ctrl)
var(48) = 0 - (roundstate<2)
ignorehitpause = 1

[State -2, RESET]
type = VarSet
triggerall = numexplod(8701)!=0
trigger1 = var(48)=0
var(49) = 0
ignorehitpause = 1

[State MoveHit TO ONE!]
type = VarSet
trigger1 = 1
var(8) = ifelse(movehit,1,0)

;============Limiter=============

[State Record Total Damage]
type = VarAdd
triggerall = numenemy
trigger1 = enemynear,gethitvar(damage)
var(14) = enemynear,gethitvar(damage)*enemynear, Const(data.defence)/100.0
ignorehitpause=1
[State Scythe Faggotry]
type = VarAdd
triggerall = numenemy
trigger1 = (time=[0,1]) && ((stateno=[500,504])||((stateno=[601,602])&&(prevstateno!=[601,602])))
trigger2 = (time=[0,1]) && (stateno=[600,660]) && (prevstateno!=[600,660]) && var(15)>=1
var(15) = 1
ignorehitpause=1
[State Just in Case....]
type = VarSet
trigger1 = 1
var(12) = 1+((enemynear,gethitvar(hitcount)>14||var(15)>1)+(enemynear,gethitvar(hitcount)>18||var(14)>380||var(15)>1)+(var(14)>400||var(15)>3)+(var(14)>500)+(var(14)>600)+100*(var(14)>=700))
ignorehitpause=1

[State NAs]
type = Varadd
triggerall = stateno = 531 || stateno=[200,501]
trigger1 = enemynear, time=0
trigger1 = enemynear, Hitshakeover=0
trigger1 = var(8)=0 && Movehit && !Moveguarded && !Movereversed
var(51) = var(12)*(4*(stateno=531||(stateno=[241,242]))+10*(stateno=450||(stateno=[500,501]))+2*(((stateno=[200,260])||(stateno=[400,440]))&&(stateno!=[241,243])))
ignorehitpause = 1
[State Air attacks]
type = Varadd
triggerall = stateno=[600,670]
trigger1 = enemynear, time=0
trigger1 = enemynear, Hitshakeover=0
trigger1 = var(8)=0 && Movehit && !Moveguarded && !Movereversed
var(51) = var(12)*(((stateno=600||stateno=630)+8*(stateno=650||stateno=660||stateno=670)+10*(stateno=601||stateno=602)+2*((stateno=610)||(stateno=640))))
ignorehitpause = 1
[State Special moves]
type = Varadd
triggerall = (stateno=[502,1795]) && (stateno!=[1436,1444])
trigger1 = enemynear, time=0
trigger1 = enemynear, Hitshakeover=0
trigger1 = var(8)=0 && Movehit && !Moveguarded && !Movereversed
var(51) = var(12)*(100*(stateno=1499)+10*(stateno=1435||(stateno=[1788,1789]))+13*(stateno=502||stateno=1434||(stateno=[1790,1791]))+16*(stateno=503||stateno=1433||(stateno=[1792,1793]))+20*(stateno=504||stateno=1534||(stateno=[1794,1795])))
ignorehitpause = 1
; [State Special moves]
; type = Varadd
; triggerall = (stateno=[1150,1165])
; trigger1 = enemynear, time=0
; trigger1 = enemynear, Hitshakeover=0
; trigger1 = var(8)=0 && Movehit && !Moveguarded && !Movereversed
; var(51) = var(12)*(10*(stateno=1150)+13*(stateno=1155)+16*(stateno=1160)+20*(stateno=1165))
ignorehitpause = 1
[State Pounce Surprise]
type = Varadd
triggerall = stateno=[1436,1444]
trigger1 = enemynear, time=0
trigger1 = enemynear, Hitshakeover=0
trigger1 = var(8)=0 && Movehit && !Moveguarded && !Movereversed
var(51) = var(12)*(10*(stateno=1436)+20*(stateno=1440||stateno=1441||stateno=1444))
ignorehitpause = 1
[State Supers]
type = Varadd
triggerall = Stateno!=3015&&Stateno != 4223 && (stateno!=[3150,3155]) && stateno!= 3167 && stateno=[3000,64999]
trigger1 = enemynear, time=0
trigger1 = enemynear, Hitshakeover=0
trigger1 = var(8)=0 && Movehit && !Moveguarded && !Movereversed
var(51) = 33 + 13*(stateno=4222)
ignorehitpause = 1
[State Other Super]
type = Varadd
triggerall = Time=1
trigger1 = stateno=3151
trigger2 = stateno=3050
trigger3 = stateno=4502
trigger4 = stateno=10370
var(51) = 33
ignorehitpause = 1
persistent=0
[State Misc]
type = Varadd
triggerall = Time=1
trigger1 = stateno=1021
trigger2 = stateno=2031
trigger3 = stateno=1101
var(51) = 20-5*(stateno=1021)
ignorehitpause = 1
persistent=0

[State Reset]
type=varset
trigger1= numenemy
trigger1= (enemynear,movetype!=H)
trigger2= !numenemy
var(51)= 0 && (var(14):=0) && (var(15):=0)
ignorehitpause=1

[State 0%]
type = Varset
trigger1 = var(51)<=0
trigger2 = roundstate>2
v = 51
value = 0
[State DO NOT HOG THE FUCKING MEMORY]
type = Varset
trigger1 = var(51)>=999;999999
v = 51
value = 999;999999

[State Limiter Full: General]
type = TargetState
triggerall = numtarget && var(51)>=100
triggerall = movehit && !moveguarded && !movereversed
triggerall = target(400),stateno!=130000 && (hitdefattr = SCA,NA,SA || (hitdefattr = SCA,HA && ((stateno = 1499) || (stateno=4222))))
triggerall = (stateno<3000 || stateno=4222) && numenemy
trigger1 = (enemy(0),gethitvar(ChainID)=400) && (enemy(0),Time = [0,1])
trigger2 = NumEnemy>1
trigger2 = (enemy(1),gethitvar(ChainID)=400) && (enemy(1),Time = [0,1])
value = 130000
ID = 400
ignorehitpause=1
[State Limiter Full: Push]
type = TargetState
triggerall = numtarget && var(51)>=100
triggerall = movehit && !moveguarded && !movereversed
triggerall = target(360),stateno!=130000 && hitdefattr = SCA,NA,SA
triggerall = stateno<3000 && numenemy
trigger1 = (enemy(0),gethitvar(ChainID)=360) && (enemy(0),Time = [0,1])
trigger2 = NumEnemy>1
trigger2 = (enemy(1),gethitvar(ChainID)=360) && (enemy(1),Time = [0,1])
value = 130000
ID = 360
ignorehitpause=1
[State Limiter Full: D,P]
type = TargetState
triggerall = numtarget && var(51)>=100
triggerall = movehit && !moveguarded && !movereversed
triggerall = target(602),stateno!=130000 && hitdefattr = SCA,NA,SA
triggerall = stateno<3000 && numenemy
trigger1 = (enemy(0),gethitvar(ChainID)=602) && (enemy(0),Time = [0,1])
trigger2 = NumEnemy>1
trigger2 = (enemy(1),gethitvar(ChainID)=602) && (enemy(1),Time = [0,1])
value = 130000
ID = 602
ignorehitpause=1
[State Limiter Full: Air Kick]
type = TargetState
triggerall = numtarget && var(51)>=100
triggerall = movehit && !moveguarded && !movereversed
triggerall = target(660),stateno!=130000 && hitdefattr = SCA,NA,SA
triggerall = !(stateno>=3000) && numenemy
trigger1 = (enemy(0),gethitvar(ChainID)=660) && (enemy(0),Time = [0,1])
trigger2 = NumEnemy>1
trigger2 = (enemy(1),gethitvar(ChainID)=660) && (enemy(1),Time = [0,1])
value = 130000
ID = 660
ignorehitpause=1
[State Limiter Full: Scythes]
type = TargetState
triggerall = numtarget && var(51)>=100
triggerall = movehit && !moveguarded && !movereversed
triggerall = target(501),stateno!=130000 && hitdefattr = SCA,NA,SA
triggerall = !(stateno>=3000) && numenemy
trigger1 = (enemy(0),gethitvar(ChainID)=501) && (enemy(0),Time = [0,1])
trigger2 = NumEnemy>1
trigger2 = (enemy(1),gethitvar(ChainID)=4920) && (enemy(1),Time = [0,1])
value = 130000
ID = 501
ignorehitpause=1
[State Limiter Full: Scythes]
type = TargetState
triggerall = numtarget && var(51)>=100
triggerall = movehit && !moveguarded && !movereversed
triggerall = target(501),stateno!=130000 && hitdefattr = SCA,NA,SA
triggerall = !(stateno>=3000) && numenemy
trigger1 = (enemy(0),gethitvar(ChainID)=4920) && (enemy(0),Time = [0,1])
trigger2 = NumEnemy>1
trigger2 = (enemy(0),gethitvar(ChainID)=4920) && (enemy(1),Time = [0,1])
value = 130000
ID = 4920
ignorehitpause=1

[State Fuck you]
type = Helper
triggerall = Var(51)>=100
triggerall = numenemy
triggerall = !NumHelper(130010)
trigger1 = (enemy(0),movetype=H)&&(Enemy(0),Time=1)
trigger1 = (enemy(0),stateno=130000||enemy(0),stateno=130001||enemy(0),stateno=130002) && (enemy(0),movetype=H)
helpertype = normal
name = "Magic Circle"
ID = 130010
stateno = 130010
pos = facing*ceil(enemy(0),pos X - pos X),ceil(enemy(0),pos Y - pos Y)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
ignorehitpause=1
[State Fuck you Too]
type = Helper
triggerall = Var(51)>=100
triggerall = numenemy > 1
triggerall = !NumHelper(130011)
trigger1 = (enemy(1),movetype=H)&&(Enemy(1),Time=1)
trigger1 = (enemy(1),stateno=130000||enemy(1),stateno=130001||enemy(1),stateno=130002) && (enemy(1),movetype=H)
helpertype = normal
name = "Magic Circle"
ID = 130011
stateno = 130010
pos = facing*ceil(enemy(1),pos X - pos X),ceil(enemy(1),pos Y - pos Y)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
ignorehitpause=1

[State Enough]
type = TargetDrop
trigger1 = numtarget && var(51)>=100
trigger1 = movehit && !moveguarded && !movereversed
trigger1 = (!(stateno>=3000) || stateno=4222) && numenemy
ignorehitpause=1

;===== End of Limiter ====

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 53
value = abs(var(51)-var(54));score-draw score
ignorehitpause=1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 52
value = (var(53)>3000)*1000+(var(53)=[1001,3000])*500+(var(53)=[501,1000])*100+(var(53)=[51,500])*50+(var(53)=[6,50])*5+(var(53)=[1,5])
ignorehitpause=1

[State 0, VarSet]
type = VarSet
trigger1 = var(51)=var(54)
v = 52
value = 0
ignorehitpause=1

[State 0, VarAdd]
type = VarAdd
trigger1 = gametime%3=0
v = 54
value = ifelse((var(51)-var(54))<0,-1,1)*var(52)
ignorehitpause=1

;============END COMBO SHIT=======

[State -2, Rolling Machine]
type = Helper
trigger1 = !NumHelper(80000); && P3Name != "Daniel"
helpertype = normal
name = "Slot Machine"
ID = 80000
stateno = 80000
pos = 25, -150
postype = left   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .5
size.yscale = .5

;======MACHINE STUFF======

;=LOLOLOLOLOLOL=
[State -2, GO FUCK YOURSELF (0,0,0)]
type = LifeAdd
triggerall= NumHelper(80000)
trigger1 = helper(80000),stateno=80020 && helper(80000),time=1
value = -150
kill = 0
absolute = 0
persistent=0
ignorehitpause=1

;=0,1,2=
[State -2, Gaining Life!! (0,1,2)]
type = LifeAdd
triggerall = Alive
triggerall=NumHelper(80000)
trigger1 = helper(80000),stateno=80001
trigger1 = helper(80000),time%2=0
value = 1
kill = 0
absolute = 0
persistent=0

;=1,1,1=
[State -2, BLINK (1,1,1)]
type = PalFX
triggerall=NumHelper(80000)
trigger1 = helper(80000),stateno=80002
trigger1 = (gameTime%4)=0 || helper(80000),time=0
time = 4
add = random%256,random%256,random%256
mul = random%256,random%256,random%256
sinadd = 245,55,110,4
invertall = 1
color = 52
ignorehitpause=1

[State -2, INVINCIBLE (1,1,1)]
type = NotHitBy
triggerall=NumHelper(80000)
trigger1 = helper(80000),stateno=80002
value = SCA
ignorehitpause=1

;=4,4,4=
[State -2, Explod]
type = Explod
triggerall=NumHelper(80000)
trigger1 = helper(80000),stateno=80005
triggerall = NumExplod(6160)<9
anim = 6160
ID = 6160
sprpriority = 0
postype = p1
vel = -.2,.75
pos = 0,-50
random = 30,75
removetime = -2
scale = .5,.5
ownpal = 1
ontop=1
supermovetime=9999999
pausemovetime=9999999

[State -2, Explod]
type = Explod
triggerall=NumHelper(80000)
trigger1 = helper(80000),stateno=80005
trigger1 = gameTime%34=0
anim = 6190
ID = 6190
ontop=1
sprpriority = 0
postype = p1
vel = -.2,.75
pos = 0,-50
random = 30,75
removetime = -2
scale = ((120-time)/120)*0.5,((120-time)/120)*0.5
ownpal = 1
supermovetime=9999999
pausemovetime=9999999

[State -2, IT'S COMBO]
type = Helper
trigger1 = !NumHelper(43333)
helpertype = normal
name = "Combo Bar"
ID = 43333
stateno = 43333
pos = 25, -150
postype = left   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .5
size.yscale = .5

[State -2, LOL HELPER/EXPLOD HEAVY]
type = Helper
trigger1 = !NumHelper(43334)&& P3Name != "Daniel"
helpertype = normal
name = "Score"
ID = 43334
stateno = 43334
pos = 25, -150
postype = left   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .5
size.yscale = .5

[State -2, Not really]
type = Helper
trigger1 = !NumHelper(4) && life<=lifemax*0.33
helpertype = normal
name = "Boner Inducing"
ID = 4
stateno = 12894
pos = -3,-27
postype = P1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale = .5
size.yscale = .5

[State -2, Parry, Don't walk!]
type = AssertSpecial
trigger1 = time <= 8
trigger1 = prevstateno = [8000,8002]
flag = nowalk

[State -2, HHK WIN - No MUSIC]
type = AssertSpecial
trigger1 = var(21)
flag = nomusic

 ;I found this on a EOH template and thought of adding it!
[State -2, Score] ;HAS MY OWN TWEAKS
type = Varadd
triggerall=NumHelper(80000)
trigger1 = helper(80000),stateno=80000 && (helper(80000),var(0)!=[1,119])
trigger1 = enemynear, time=0
trigger1 = enemynear, Hitshakeover=0
trigger1 = movehit
var(34) = 1
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
trigger1 = var(34)>99
v = 34
value = 99
ignorehitpause=1

[State -2, Shut Up!]
type = StopSnd
trigger1 = movetype = H
channel = 1

;Needs to fix the Wallbounce sound.
[State Prevent Wall Bounce sound being spammed the fuck out]
type = VarSet
trigger1 = 1
var(47) = 0
ignorehitpause=1

[State AND SO ON]
type = VarAdd
triggerall = numtarget
trigger1 = target,movetype=H
trigger1 = (target,stateno=367)||(target,stateno=605)||(target,stateno=4058)||(target,stateno=665)||(target,stateno=4851)||(target,stateno=1027)||(target,stateno=1127)
trigger1 = target,time=1
var(47) = 1
ignorehitpause=1
[State Timed Out]
type = VarSet
trigger1 = var(47)>=2
var(47) = 2
ignorehitpause=1

[State ParryStanding]
type = VarSet
triggerall = command = "fwd" && Statetype = S
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"  ^^ var(39):=0 ^^ var(22):=0
trigger1 = ctrl
v = 38
value = 8+(6*var(27))
[State Parry Crouch]
type = VarSet
triggerall = command = "down" && (Statetype = S || Statetype = C)
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holdfwd"  ^^ var(38):=0 ^^ var(22):=0
trigger1 = ctrl
v = 39
value = 8+(6*var(27))
[State Parry Air]
type = VarSet
triggerall = command = "fwd" && statetype=A
trigger1 = command != "holdback"
trigger1 = command != "holdup"
trigger1 = command != "holddown"   ^^ var(38):=0 ^^ var(39):=0
trigger1 = ctrl
v = 22
value = 8+(6*var(27))

[State sos]
type = VarAdd
trigger1 = var(38)
v = 38
value = -1
[State sos]
type = VarAdd
trigger1 = var(39)
v = 39
value = -1
[State sos]
type = VarAdd
trigger1 = var(22)
v = 22
value = -1

[State -2, Parry Stuff]
type = HitOverride
triggerall = var(38)
trigger1 = ctrl && stateno!=100&&stateno!=20
attr = SA,AA,AP
stateno = 8000
time = 1

[State -2, Parry Stuff]
type = HitOverride
triggerall = var(39)
trigger1 = ctrl && stateno!=100&&stateno!=20
attr = C,AA,AP
stateno = 8001
time = 8+(6*var(27))

[State -2, Parry Stuff]
type = HitOverride
triggerall = var(22)
trigger1 = ctrl && stateno!=99000
attr = SA,AA,AP
stateno = 8002
time = 8+(6*var(27))

[State -2, Disable Trip Var When Not Needed]
type = VarSet
trigger1 = (stateno != 5070 && stateno != 5071 && stateno != 5110) && var(6)
var(6) = 0


[State -2, No More Power (SMDM Fail)]
type = PowerSet
trigger1 = var(28) = -1
value = 0
ignorehitpause =  1

[State -2, Just in case]
type = RemoveExplod
trigger1 = NumExplod(197) && stateno != 197
id = 197
ignorehitpause=1

[State -2, Remove Cherry Devil]
type = RemoveExplod
trigger1 = NumExplod(4) && stateno != 0 && stateno != 11 && stateno!=10 && stateno!=12
id = 4
ignorehitpause=1

[State -2, Show Sum Variables]
type = DisplayToClipboard
trigger1 = 1
text="Combo Sodomize = %f, Stand Parry = %d, Crouch Parry = %d, Air Parry = %d"
params = (var(51)/100.0),var(38),Var(39),var(22)
ignorehitpause=1

[State Let me go you crazy faggot]
type = Selfstate
triggerall = p2name = "Rin Rin" || p4name = "Rin Rin"
trigger1 = roundstate = 2 && ctrl
value = 6666
ctrl=0

[State -2, SHIT]
type = PlaySnd
triggerall = !var(38)
trigger1 = (stateno=5000)||(stateno=5010)||(stateno =5020)||(stateno=5070)||(stateno=5110)
trigger1 = random<300
trigger1 = Time=0
value = S204,0
channel = 0
persistent=0

[State -2, SHIT]
type = PlaySnd
trigger1 = StateNo = 9000 || Stateno=701 ;Hard Hit
trigger1 = Time=1 ;Elem To Trigger
value = S22000,1

[State -2, SHIT]
type = PlaySnd
triggerall = (stateno=5000)||(stateno=5010)||(stateno =5020)||(stateno=5070)||(stateno=5110)
trigger1 = random=[300,666]
trigger1 = Time=0
value = S666, 0+random%3
channel = 0
persistent=0

[State -2, Duhg]
type = PlaySnd
triggerall = !var(38)
trigger1 = (stateno=5000)||(stateno=5010)||(stateno =5020)||(stateno=5070)||(stateno=5110)
trigger1 = Time=0
value = S26, 0+(random/250)
channel = 0
persistent=0

[State -2, Explosion Moment AfterImages]
type = AfterImage
trigger1 = var(24) && Time=0
palcontrast = 255, 15, 15
paladd = 255,0,0
palmul = .5, 0, 0
trans = add
time = -1
timegap = 2
framegap = 1
length = 20

;The following Damage Dampener code is by DarkCipherLucius!Thank you very much!

[State -2, Damage Dampener]
type = VarAdd
triggerall = (stateno != 1788) && (stateno != 1790) && (stateno != 1792) && (stateno != 1795) && (stateno != 1794)
trigger1 = (hitpausetime = 1) && (P2Movetype = H) && (MoveHit)
trigger2 = ProjHitTime(0) = 1
v = 44 ;(Variable used)
value = 1
ignorehitpause = 1

[State -2, VarSet]
type = VarSet
trigger1 = P2Movetype != H
v = 44 ;(same number of the Variable used)
value = 0

[State -2, attackvarbyhits]
type=varset
trigger1= numenemy
trigger1=stateno != [3000,999999]
fvar(10)= 0.88*ifelse(enemynear,gethitvar(hitcount)<2, 18, ifelse(enemynear,gethitvar(hitcount)>=18, 0.1, 20-enemynear,gethitvar(hitcount)))/20.0
ignorehitpause=1
[State -2, attackvarbyhitsreset]
type=varset
trigger1= numenemy
trigger1= (enemynear,movetype!=H)
trigger1=stateno!=[3000,999999]
trigger2= !numenemy
fvar(10)= .88
ignorehitpause=1

;-----------------------------------------------------------------------------
;Normal Damage (Hypers do -NO)
[State Hyper Limit]
type = Varset
triggerall=numenemy
triggerall = fvar(10)<.2
trigger1 = stateno = [3000,999999]
fvar(10)=0.2
ignorehitpause=1

[State -2, dampener]
type=attackmulset
trigger1= (Helper(80000),stateno!=80005)
value=(fvar(10)+(var(24)>0)*0.2)*((205-var(51))/200.0)
ignorehitpause=1

[State -2, dampener]
type=attackmulset
trigger1= (Helper(80000),stateno=80005)
value=(fvar(10)+(var(24)>0)*0.2)*((205-var(51))/200.0)*1.33
ignorehitpause=1

[State -2, StopSnd]
type = StopSnd
triggerall=(stateno=191)||(stateno=198)||(stateno=[54190,54199])
trigger1 = command="x"||command="y"||command="z"
trigger2 = command="a"||command="b"||command="c"
channel = -1

;------------------------
;DANGER
;------------------------

[State -2, WARNING SIGN]
type = Helper
triggerall=!numhelper(133801)
trigger1 = RoundState = 2
trigger1 = var(23) = 0
trigger1 = Life <= 0.33*LifeMax
id = 133801
name = "WARNING"
pos = 0,0
postype = back
stateno = 133801
helpertype = normal
keyctrl = 0
ownpal = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time=1
trigger1 = stateno=5120
trigger1 = (random%2)=1
value = S4,400+random%9
channel=0
volume=555

[State -2, Dangerous!]
type = VarSet
trigger1 = RoundState = 2
trigger1 = var(23) = 0
trigger1 = Life <= 0.33*LifeMax
var(23) = 1

[State -2, VarAdd]
type = VarAdd
trigger1 = var(28)=1
v = 24
value = -1
ignorehitpause =  1

[State -2, AfterImageTime]
type = AfterImageTime
trigger1 = var(28)=-1 && stateno!=1362 && (stateno!=[10350,10380])
time = 0

[State -2, NO POWAH]
type = VarSet
trigger1 = var(24)<0
v = 28
value = -1
ignorehitpause =  1

;====5,5,5===
[State -2, Parry Stuff]
type = HitOverride
triggerall = NumHelper(80000)
trigger1 = Helper(80000),stateno=80006
trigger1 = ctrl
trigger1 = statetype!=L
attr = SCA,AA,AP
stateno = 8000+(statetype=C)+(statetype=A)*2
slot=0
time=1
ignorehitpause=1

[State -2, Life]
type = VarSet
trigger1 = roundstate=2
v = 30
value = life

[State -2, Lie Down Snd]
type = PlaySnd
trigger1 = Time = 1
trigger1 = anim = 5300
value = S5300,(random%2)*2
channel = 0

[State 4920, Helper]
type = Helper
trigger1 = Anim !=221
trigger1 = NumExplod(221)
helpertype = normal
name = "Koakuma Bat"
ID = 4920
pos = 18,-41
stateno = 4922
postype = p1
ownpal = 1
size.xscale=1
size.yscale=1

[State 4920, RemoveExplod]
type = RemoveExplod
trigger1 = Anim !=221
trigger1 = NumExplod(221)
id = 221

;11th Pal

[State 0, VarSet]
type = VarSet
triggerall = name = "NesMario123" || palno=11
trigger1 = var(28):=1
v = 24
value = 5940
ignorehitpause=1

[State -2,Assertspecial]
type = VarSet
trigger1 = StateNo != 9999
var(11) = Life
ignorehitpause = 1


