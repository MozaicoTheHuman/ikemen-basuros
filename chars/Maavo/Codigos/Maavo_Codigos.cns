[Data]
life = 1000			
power = 3000		
attack = 100		
defence = 100		
fall.defence_up = 0	
liedown.time = 75		
airjuggle = 20		
sparkno = 2			
guard.sparkno = 40	
KO.echo = 0				
IntPersistIndex = 60	
FloatPersistIndex = 40 

[Size]
xscale = 0.4    
yscale = 0.4         
ground.back = 15     
ground.front = 16     
air.back = 12       
air.front = 12       
height = 68          
attack.dist = 160     
proj.attack.dist = 90  
proj.doscale = 0        
head.pos = 2, -86   
mid.pos = 2, -58     
shadowoffset = 0      
draw.offset = 0,0      

[Velocity]
walk.fwd  = 3.7		
walk.back = -3.7		
run.fwd  = 8.1, 2		
run.back = -8.1, 2	
jump.neu = 0,-9.4		
jump.back = -2.85		
jump.fwd = 2.85		
runjump.back = -5,-8.1
runjump.fwd = 5,-8.1		

[Movement]
yaccel = .55		
stand.friction = .85	
crouch.friction = .82	

[Quotes] ;Spanish
victory0 = "placeholder"
victory1 = "placeholder"
victory2 = "placeholder"
victory3 = "Y corte!"
victory4 = "Una victoria espectacular!"
victory5 = "placeholder"
victory6 = "placeholder"
victory7 = "placeholder"

;English
victory8 = "placeholder"
victory9 = "placeholder"
victory10 = "placeholder"
victory11 = "And scene!"
victory12 = "A spectacular victory!"
victory13 = "placeholder"
victory14 = "placeholder"
victory15 = "placeholder"

;Special Quotes (Spanish)
victory16 = "Nunca bajes la guardia, Oliver!" ;Oliver
victory17 = "A mi igual me gusta el rojo, pero cALMATE" ;Peketo
victory18 = "Me gusta tu estilo, pero el show me lo robo yo" ;Joker
victory19 = "placeholder" ;Martin
victory20 = "Cualquiera que robe el arte de los demas no merece ser llamado 'Artista'" ;Ladrones

;Special Quotes (English)
victory21 = "Never let your guard down, Oliver!" ;Oliver
victory22 = "I also like red, but cHILL OUT MAN" ;Peketo
victory23 = "You're stylish, but I stole this show" ;Joker
victory24 = "placeholder" ;Martin
victory25 = "Anyone who steals art from others is not worth to be called 'Artist'";Thieves

;---------------------- Integer variable list ----------------------

; var(0):= 2201, 2202, 2102, 87872
; var(1):= 2201, 2202, 2102, -1
; var(2):= 2102, -1
; var(4):= 40
; var(5):= 1301, 1321, -2, 3684
; var(6):= 8805, 8806, -2, 3684
; var(8):= 520, 920, 2212, 19000, 87871, 17000, 1210, -2
; var(9):= 2002, 19000, 190000, -1
;var(10):= 200, 210, 220, 230, 240, 250, 400, 410, 420, 430, 440, 450, 500, 510, 520, 600, 610, 620, 630, 640, 650, 900, 910, 920, 9902, 8902, 3742, 1402, 2210, 2211, 2212, 2102, 190001, 87872, 17001, -2
;var(11):= 200, 210, 220, 230, 240, 250, 400, 410, 420, 430, 440, 450, 500, 510, 520, 600, 610, 620, 630, 640, 650, 900, 910, 920, 9902, 8902, 3742, 1402, 2210, 2211, 2212, 2102, 190001, 19001, 87872, 17001, -2
;var(12):= 200, 210, 220, 230, 240, 250, 400, 410, 420, 430, 440, 450, 500, 510, 520, 600, 610, 620, 630, 640, 650, 900, 910, 920, 9902, 8902, 3742, 1402, 2210, 2211, 2212, 2102, 190001, 87872, 17001, -2
;var(13):= 3684, 5900
;var(14):= 3684, 5900
;var(15):= -2
;var(16):= 5900
;var(17):= 5900
;var(18):= 5900
;var(19):= 5900
;var(20):= 5900
;var(21):= 9902, 8902, 3742, 1402, 2102, 87872, -2
;var(22):= 2002, -2
;var(29):= 19001
;var(39):= 2002, 9902, 99011, 99045, 8902, 19001, 911
;var(40):= -2, 3684
;var(42):= -2
;var(43):= -2
;var(45):= 141002
;var(50):= 0
;var(52):= -2, 5900
;var(54):= 17201, 1721
;var(55):= 141002

;---------------------- Float variable list ----------------------

; fvar(0):= 911
; fvar(5):= 3684
; fvar(6):= 3684
; fvar(8):= -2
;fvar(10):= 3684, 5900
;fvar(11):= 87872, 17002, 140002, -2
;fvar(12):= -2


;---------------------------------------------------------------------------
; Lose by Time Over
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S170,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;Clap Animation [1280x720]
[Statedef 1701801]
physics=N
velset=0,0

[State 119904 , 1]
type = Explod
trigger1 = Time = 1
anim = 17583581
pos = 40, 194
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 35
scale = .235,.235

[State 119904 , 1]
type = Explod
trigger1 = Time = 1
anim = 17583582
pos = 40, 194
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 34
scale = .235,.235

;---------------------------------------------------------------------------
;Clap Animation [640x480]
[Statedef 1701802]
physics=N
velset=0,0

[State 119904 , 1]
type = Explod
trigger1 = Time = 1
anim = 17583581
pos = 40, 252
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 35
scale = .235,.235

[State 119904 , 1]
type = Explod
trigger1 = Time = 1
anim = 17583582
pos = 40, 252
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 34
scale = .235,.235

;---------------------------------------------------------------------------
; Win state decider
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = 180180+ (var(17) * 1)
;---------------------------------------------------------------------------
;Smash Bros. Win Screen confirm [1280x720] (This is for the characters that has the clap animation)
[Statedef 180180]
type = S
ctrl = 0

[State 0, All Out Attack]
type = ChangeState
trigger1 = var(45) = 1
value = 180140
ctrl = 0

[State 180180, 1]
type = ChangeState
trigger1 = Time = 1
value = 181

;---------------------------------------------------------------------------
;Smash Bros. Win Screen confirm [640x480] (This is for the characters that has the clap animation)
[Statedef 180181]
type = S
ctrl = 0

[State 0, All Out Attack]
type = ChangeState
trigger1 = var(45) = 1
value = 180140
ctrl = 0

[State 180180, 1]
type = ChangeState
trigger1 = Time = 1
value = 181

;---------------------------------------------------------------------------
;Win
[Statedef 181]
type = S
ctrl = 0

[State 180, Ganar por el Finisher]
type=changestate
trigger1=prevstateno=140005
value=180140

[State 0, Helper]
type = Helper
trigger1 = 1
helpertype = normal ;player
name = "Win Screen"
ID = 1810
stateno = 1810
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999
pausemovetime = 9999
persistent = 0

;---------------------------------------------------------------------------
; Win pose 1
[Statedef 1810]
type = S
ctrl = 0
anim = 180
velset = 0,0

[state turn]
type = turn
trigger1 = facing != 1
[State 181, 2]
type = PlaySnd
triggerall = root,var(52) = 22
trigger1 = time = 30
value = 888,0+random%2
loop = 1
[State 119904 , 1]
type = Explod
trigger1 = enemy, stateno = 1701801
anim = 17424342
pos = 0, 177
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 38
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
trigger1 = enemy, stateno = 1701802
anim = 17424342
pos = 0, 234
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 38
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
triggerall = enemy,ailevel = 0
trigger1 = enemy, stateno = 1701801
anim = ifelse(teamside=1,17323234,1732323)
pos = 0, 177
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 34
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
triggerall = enemy,ailevel = 0
trigger1 = enemy, stateno = 1701802
anim = ifelse(teamside=1,17323234,1732323)
pos = 0, 234
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 34
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
triggerall = enemy,ailevel = 1 || enemy,ailevel = 2 || enemy,ailevel = 3 || enemy,ailevel = 4 || enemy,ailevel = 5 || enemy,ailevel = 6 || enemy,ailevel = 7 || enemy,ailevel = 8
trigger1 = enemy, stateno = 1701801
anim = 16323234
pos = 0, 177
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 34
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
triggerall = enemy,ailevel = 1 || enemy,ailevel = 2 || enemy,ailevel = 3 || enemy,ailevel = 4 || enemy,ailevel = 5 || enemy,ailevel = 6 || enemy,ailevel = 7 || enemy,ailevel = 8
trigger1 = enemy, stateno = 1701802
anim = 16323234
pos = 0, 234
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 34
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
triggerall = enemy,ailevel = 0
trigger1 = enemy, stateno = 1701801
anim = ifelse(teamside=1,17323235,17323236)
pos = 0, 177
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 38
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
triggerall = enemy,ailevel = 0
trigger1 = enemy, stateno = 1701802
anim = ifelse(teamside=1,17323235,17323236)
pos = 0, 234
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 38
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
triggerall = enemy,ailevel = 1 || enemy,ailevel = 2 || enemy,ailevel = 3 || enemy,ailevel = 4 || enemy,ailevel = 5 || enemy,ailevel = 6 || enemy,ailevel = 7 || enemy,ailevel = 8
trigger1 = enemy, stateno = 1701801
anim = 16323236
pos = 0, 177
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 38
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
triggerall = enemy,ailevel = 1 || enemy,ailevel = 2 || enemy,ailevel = 3 || enemy,ailevel = 4 || enemy,ailevel = 5 || enemy,ailevel = 6 || enemy,ailevel = 7 || enemy,ailevel = 8
trigger1 = enemy, stateno = 1701802
anim = 16323236
pos = 0, 234
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 38
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
triggerall = enemy,ailevel = 0
trigger1 = enemy, stateno = 1701801
anim = ifelse(teamside=1,17323237,17323238)
pos = 0, 177
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 37
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
triggerall = enemy,ailevel = 0
trigger1 = enemy, stateno = 1701802
anim = ifelse(teamside=1,17323237,17323238)
pos = 0, 234
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 37
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
triggerall = enemy,ailevel = 1 || enemy,ailevel = 2 || enemy,ailevel = 3 || enemy,ailevel = 4 || enemy,ailevel = 5 || enemy,ailevel = 6 || enemy,ailevel = 7 || enemy,ailevel = 8
trigger1 = enemy, stateno = 1701801
anim = 16323238
pos = 0, 177
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 37
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
triggerall = enemy,ailevel = 1 || enemy,ailevel = 2 || enemy,ailevel = 3 || enemy,ailevel = 4 || enemy,ailevel = 5 || enemy,ailevel = 6 || enemy,ailevel = 7 || enemy,ailevel = 8
trigger1 = enemy, stateno = 1701802
anim = 16323238
pos = 0, 234
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 37
scale = .5,.5
persistent = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = -10

[State 911, 1]
type = Explod
trigger1 = Time = 1
id = 11911
anim = 11911 
pos = -25,0 
postype = back
sprpriority = 30
removeongethit = 1
removetime = 25
SuperMovetime = 9999
PauseMovetime = 9999
scale = .3,.5
bindtime = -1
ownpal = 1
removeongethit = 1

[State 911, 1]
type = Explod
trigger1 = Time = 16
id = 11912
anim = 11912 
pos = -25,0 
postype = back
sprpriority = 28
removeongethit = 1
removetime = 15
scale = 3,3
SuperMovetime = 9999
PauseMovetime = 9999
bindtime = -1
supermove = 1
ownpal = 1
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 16
id = 1801
anim = 1801
pos = 0+ (root,var(17) * -50),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 26
removeongethit = 1
removetime=-1
scale = .5+(root,var(17) * .2),.5+ (root,var(17) * .2)
OnTop = 0
supermovetime=999
bindtime=-1
supermovetime = -1
pausemovetime = -1
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 16
id = 1803
anim = 1803
pos = 0,0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 26
removeongethit = 1
removetime=-1
scale = .5,.5
supermovetime=999
bindtime=-1
supermovetime = -1
pausemovetime = -1
removeongethit = 1

[State 911, 1]
type = Explod
trigger1 = Time = 16
id = 11914
anim = 11914 
pos = 0,0 
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 8
removeongethit = 1
removetime = -1
pausemovetime = 0
scale = .7,.7
bindtime = -1
supermove = 1
ownpal = 1
removeongethit = 1
SuperMovetime = -1
PauseMovetime = -1

[State 19001, 1]
type = Explod
trigger1 = Time = 16
id = 1821
anim = 1821
pos = -25,-25
postype = back
sprpriority = 25
removeongethit = 1
removetime=-1
scale = 5,5
supermovetime=-1
bindtime=-1
supermovetime = -1
pausemovetime = -1
sprpriority=-7
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 16
id = 11917
anim = 11917
pos = -25,-25
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 29
removeongethit = 1
removetime=19
scale = 9,9
supermovetime=-1
bindtime=-1
supermovetime = -1
pausemovetime = -1
sprpriority=37
removeongethit = 1

[State Explod]
Type = Explod
triggerall = enemy, stateno = 1701801
Trigger1 = time = 121
Anim = 181
ID = 181
pos = 12,140+ (root,var(17) * 55)
PosType = Back
Facing = IfElse(Facing=-1,-1,1)
BindTime = -1
RemoveTime = -1
scale = .17,.17
OnTop = 1
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMove = -1
SuperMovetime = -1
PauseMovetime = -1

[State Explod]
Type = Explod
triggerall = enemy, stateno = 1701802
Trigger1 = time = 121
Anim = 181
ID = 181
pos = 12,140+ (root,var(17) * 55)
PosType = Back
Facing = IfElse(Facing=-1,-1,1)
BindTime = -1
RemoveTime = -1
scale = .17,.17
OnTop = 1
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMove = -1
SuperMovetime = -1
PauseMovetime = -1

[State Explod]
Type = Explod
triggerall = enemy, stateno != 1701801
triggerall = enemy, stateno != 1701802
Trigger1 = time = 121
Anim = 1811
ID = 1811
pos = 12,130+ (root,var(17) * 55)
PosType = Back
Facing = IfElse(Facing=-1,-1,1)
BindTime = -1
RemoveTime = -1
scale = .17,.17
OnTop = 1
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
SuperMove = -1
SuperMovetime = -1
PauseMovetime = -1

[State Explod]
Type = Explod
Trigger1 = time = 199
Anim = 184
ID = 184
pos = 0,0
PosType = Back
Facing = IfElse(Facing=-1,-1,1)
BindTime = -1
RemoveTime = -1
scale = .25,.25
OnTop = 1
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
PauseMovetime = -1

[State Explod]
Type = Explod
triggerall = root,ailevel = 0
Trigger1 = time = 199
Anim = ifelse(teamside=1,185,186)
ID = 185
pos = 0,0
PosType = Back
Facing = IfElse(Facing=-1,-1,1)
BindTime = -1
RemoveTime = -1
scale = .25,.25
OnTop = 1
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
PauseMovetime = -1
[State Explod]
Type = Explod
triggerall = root,ailevel = 1 || root,ailevel = 2 || root,ailevel = 3 || root,ailevel = 4 || root,ailevel = 5 || root,ailevel = 6 || root,ailevel = 7 || root,ailevel = 8
Trigger1 = time = 199
Anim = 187
ID = 187
pos = 0,0
PosType = Back
Facing = IfElse(Facing=-1,-1,1)
BindTime = -1
RemoveTime = -1
scale = .25,.25
OnTop = 1
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
PauseMovetime = -1
[State 19001, 1]
type = Explod
trigger1 = Time = 121
id = 1849
anim = 1849
pos = 0,0
postype = back
sprpriority = 30
removeongethit = 1
removetime=6
scale = .5,.5
supermovetime=85
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=70
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S50505,0

;This code was maded by Hypha
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(52) = 2
trigger1 = time = 25
value = S50505,17
channel = 10

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(52) = 2
trigger1 = time = 25
value = S50505,17
channel = 9

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(52) = 2
trigger1 = time = 317
value = S50505,8
loop = 1
channel = 10

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(52) = 2
trigger1 = time = 317
value = S50505,8
loop = 1
channel = 9

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(52) = 3
trigger1 = time = 25
value = S50505,10
loop = 1
channel = 9

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(52) = 3
trigger1 = time = 25
value = S50505,10
loop = 1
channel = 10

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(52) = 4
trigger1 = time = 25
value = S50505,7
loop = 1
channel = 9

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(52) = 5
trigger1 = time = 25
value = S50505,9
channel = 9

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(52) = 5
trigger1 = time = 33
value = S50505,5
loop = 1
channel = 9
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(52) = 5
trigger1 = time = 33
value = S50505,5
loop = 1
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(52) = 1
trigger1 = time = 25
value = S50505,14
channel = 8
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(52) = 1
trigger1 = time = 530
value = S50505,15
channel = 9
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(52) = 1
trigger1 = time = 540
value = S50505,16
loop = 1
channel = 9
;This code was maded by Hypha

[State 0, StopSnd]
type = StopSnd
trigger1 = palno = 6
channel = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S50505,1

[State 0, StopSnd]
type = StopSnd
trigger1 = root,life != lifemax
channel = 2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,life != lifemax
trigger1 = time = 30
value = S50505,2 + (root,var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,life != lifemax
triggerall = root, var(16) = 2
trigger1 = time = 30
value = S50505,10002

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,life != lifemax
triggerall = root, var(16) = 2
trigger1 = time = 30
value = S50505,10002

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,life != lifemax
triggerall = root, var(16) = 1
trigger1 = time = 30
value = S50505,10002

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,life != lifemax
triggerall = root, var(16) = 2
trigger1 = time = 30
value = S50505,10002

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,life != lifemax
trigger1 = time = 30
value = S50505,2 + (root,var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,life != lifemax
triggerall = root,var(16) = 2
trigger1 = time = 100
value = S50505,20003

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,life != lifemax
triggerall = root,var(16) = 2
trigger1 = time = 100
value = S50505,20003

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,life != lifemax
triggerall = root,var(16) = 1
trigger1 = time = 100
value = S50505,10003
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,life != lifemax
triggerall = root,var(16) = 1
trigger1 = time = 100
value = S50505,10003
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) != 20
triggerall = root,life = lifemax
trigger1 = time = 30
value = S50505,69 + (root,var(16) * 10000)
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) != 20
triggerall = root,life = lifemax
trigger1 = time = 30
value = S50505,69 + (root,var(16) * 10000)
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) != 20
trigger1 = time = 120
value = S50505,4

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 20
trigger1 = time = 120
value = S520,1

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 20
trigger1 = time = 120
value = S520,1

[State 0, PlaySnd]
triggerall = root,var(16) = 0
type = PlaySnd
trigger1 = time = 120
value = S50505,6

[State 0, PlaySnd]
triggerall = root,var(16) = 20
type = PlaySnd
trigger1 = time = 120
value = S1208,0
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 2
triggerall = root,life = lifemax
trigger1 = time = 30
value = S50505,10069
volumescale = 255

[State 0, PlaySnd]
type = PlaySnd
triggerall = life != lifemax
triggerall = root,var(16) = 0
trigger1 = time = 137
value = S50505,3

[State 0, PlaySnd]
type = PlaySnd
triggerall = life != lifemax
triggerall = root,var(16) = 0
trigger1 = time = 137
value = S50505,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 57
value = S50,0

[State 0, PlaySnd]
triggerall = root,var(16) = 20
type = PlaySnd
trigger1 = time = 120
value = S1208,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 85
value = S50,1

[State 0, SuperPause]
type = Pause
trigger1 = time = 0
time = 194
movetime = 194
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 20
triggerall = root,life = lifemax
trigger1 = time = 30
value = S1208,3
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 20
triggerall = root,life = lifemax
trigger1 = time = 30
value = S1208,3
[State 0, PlaySnd]
type = PlaySnd
triggerall = root,life != lifemax
triggerall = root,var(16) = 20
trigger1 = time = 30
value = S1208,1

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 20
triggerall = root,life != lifemax
trigger1 = time = 30
value = S1208,1

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 20
triggerall = root,life != lifemax
trigger1 = time = 137
value = S1208,2

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 20
triggerall = root,life != lifemax
trigger1 = time = 137
value = S1208,2

[State RoundNotOverYet]
type = AssertSpecial
trigger1 = root,ailevel = 0
trigger2 = time < 500
flag = Roundnotover

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = root,var(52)
flag = NoMusic
[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
[State 180180, 1]
type = ChangeState
triggerall = random <=1
trigger1 = time = 0
value = 888
[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 16
flag= noBG
flag2= noFG
[State RoundNotOverYet]
type = AssertSpecial
trigger1 = root,ailevel = 1
trigger1 = 1
flag = Roundnotover
[State dou]
type = StopSnd
trigger1 = Time = 0
channel = -1
persistent = 0
[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;Win (All-Out Attack)
[Statedef 180140]
type = S
anim = 616
[state turn]
type = turn
trigger1 = facing != 1

[State 0, Pause]
type = Pause
trigger1 = time > 1
time = 999
movetime = 999
[State 181, 2]
type = PlaySnd
triggerall = var(52) = 22
trigger1 = time = 50
value = 888,0+random%2
loop = 1
[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 999
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoMusic

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noFG

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoBG

[State RoundNotOverYet]
type = AssertSpecial
trigger1 = ailevel = 0
trigger2 = time < 335
flag = Roundnotover

[State RoundNotOverYet]
type = AssertSpecial
trigger1 = ailevel = 1
trigger1 = 1
flag = Roundnotover

[State Explod]
Type = Explod
Trigger1 = time = 20
Anim = 1811
ID = 1811
pos = 12,130+ (var(17) * 55)
PosType = Back
Facing = IfElse(Facing=-1,-1,1)
BindTime = -1
RemoveTime = 251
scale = .17,.17
OwnPal = 1
IgnoreHitPause = 1
sprpriority = 99
Persistent = 0
SuperMove = 9999
SuperMovetime = -1
PauseMovetime = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(52) != 0
triggerall = var(52) != [3,4]
trigger1 = time = 55
value = S50505,9
channel = 9

[State Explod]
Type = Explod
triggerall = var(52) != [3,4]
Trigger1 = time = 15
Anim = 7966
ID = 7966
pos = 80,150+(var(17) * 50)
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 100
removeongethit = 1
removetime=-1
scale = .5,.5
OnTop = 0
ownpal = 1
bindtime=-1
supermovetime = -1
pausemovetime = -1

[State Explod]
Type = Explod
triggerall = var(52) = 3
Trigger1 = time = 15
Anim = 7964
ID = 7966
pos = 80,150+(var(17) * 50)
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 100
removeongethit = 1
removetime=-1
scale = .5,.5
OnTop = 0
ownpal = 1
bindtime=-1
supermovetime = -1
pausemovetime = -1
[State 181, 2]
type = PlaySnd
triggerall = root,var(52) = 22
trigger1 = time = 30
value = 888,0+random%2
loop = 1
[State Explod]
Type = Explod
triggerall = var(52) = 4
Trigger1 = time = 15
Anim = 7965
ID = 7966
pos = 80,150+(var(17) * 50)
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 100
removeongethit = 1
removetime=-1
scale = .5,.5
OnTop = 0
ownpal = 1
bindtime=-1
supermovetime = -1
pausemovetime = -1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(52) != 0
triggerall = var(52) != [3,4]
trigger1 = time = 55
value = S50505,9
channel = 9

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(52) != 22
triggerall = var(52) != 0
triggerall = var(52) != [3,4]
trigger1 = time = 65
value = S50505,5
loop = 1
channel = 9

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(52) != 22
triggerall = var(52) != 0
triggerall = var(52) != [3,4]
trigger1 = time = 65
value = S50505,5
loop = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(52) = 3
trigger1 = time = 55
value = S50505,10
loop = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(52) = 3
trigger1 = time = 55
value = S50505,10
loop = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(52) = 4
trigger1 = time = 55
value = S50505,7
loop = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(52) = 4
trigger1 = time = 55
value = S50505,7
loop = 1
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S21931,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S21931,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S21931,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S21931,9

;---------------------------------------------------------------------------
; Intro
[Statedef 190]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 190, 0] ;V.S. Oliver
type = ChangeState
trigger1 = enemy, name = "Oliver Andersen" && EnemyNear,AuthorName = "Oliver As Latias"
value = 1951

[State 190, 4] ;Intro 1
type = ChangeState
trigger1 = time = 0
value = 191

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;Intro - Game Freeze
[Statedef 190190]
type = S
ctrl = 0
anim = 190190
velset = 0,0

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 190190

;---------------------------------------------------------------------------
;Intro 1
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 190, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;Intro (Special) - V.S. Oliver
[Statedef 1951]
type = S
ctrl = 0
anim = 1951
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1 
flag = nomusic

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 19513
anim = 19513+ (var(16) * 10000)
pos = 0+ (var(17) * -60),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 30
removeongethit = 1
removetime=650
ontop = 1
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
bindtime=-1
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = AnimElem = 30
id = 19514
anim = 19514
pos = 0,0
postype = p1
sprpriority = 3
removeongethit = 1
removetime= 999
scale = .4,.4
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 31
id = 19514
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 2
helpertype = normal
name = "Slow Motion Sound" 
ID = 19512
stateno = 19512+random%2
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sketchbook" 
ID = 19511
stateno = 19511
pos = -35,0
postype = p1 
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 16
value = S240,3
channel = 18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 20
value = S1920,1
channel = 18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 248
value = S190,0

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;Intro (Special) - V.S. Oliver - Sketchbook
[Statedef 19511]
type = S
ctrl = 0
anim = 19511
velset = 0,0

[State 19001, 1]
type = Explod
trigger1 = Time = 248
id = 29814
anim = 29814
pos = 0,0
postype = back
sprpriority = 40
removeongethit = 1
removetime=6
scale = 20,20
supermovetime=6
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 247
anim = 19512
ID = 19512
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 4
sprpriority = 3

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1100, 3]
type = AngleDraw
Trigger1 = time > 250
value = 3*time

[State 0, VelSet]
type = Velset
trigger1 = time > 250
x = -2
y = -2

[State 0, VelSet]
type = Velset
trigger1 = time > 250 && time < 253
x = -3
y = -3

[State 190, 4]
type = destroyself
trigger1 = time = 328

;---------------------------------------------------------------------------
;Intro (Special) - V.S. Oliver - Slow 1
[StateDef 19512]
Type    = A
movetype= I
physics = N
anim= 616

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1951,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1951,0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 5 

;---------------------------------------------------------------------------
;Intro (Special) - V.S. Oliver - Slow 2
[StateDef 19513]
Type    = A
movetype= I
physics = N
anim= 616

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1951,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1951,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1951,1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 5 

;---------------------------------------------------------------------------
;Neutral Taunt
[Statedef 195]
type = S
ctrl = 0
anim = 13992
velset = 0,0
movetype = I
poweradd = 0
physics = S
sprpriority = 2

[State 0]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 0
value = S519, 2

[State 0, CtrlSet]
type = CtrlSet
trigger1 = roundstate = 2 && time = 20
value = 1
ignorehitpause = 1

[State 195]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Side Taunt
[Statedef 196]
type = S
ctrl = 0
anim = 1300
velset = 0,0
movetype = I
poweradd = 0
physics = S
sprpriority = 2

[State 0]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 0
value = S519, 3

[State 0, CtrlSet]
type = CtrlSet
trigger1 = roundstate = 2 && time = 20
value = 1
ignorehitpause = 1

[State 196]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Down Taunt
[Statedef 197]
type = S
ctrl = 0
anim = 2000
velset = 0,0
movetype = I
poweradd = 0
physics = S
sprpriority = 2

[State 0]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 0
value = S519, 1

[State 0, CtrlSet]
type = CtrlSet
trigger1 = roundstate = 2 && time = 20
value = 1
ignorehitpause = 1

[State 197]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Air Taunt
[Statedef 295]
type    = A
physics = A
ctrl = 0
anim = 295

[State 0]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 0
value = S519, 0

[State 0, CtrlSet]
type = CtrlSet
trigger1 = roundstate = 2 && time = 20
value = 1
ignorehitpause = 1

;---------------------------------------------------------------------------
; Standing Light Punch
[Statedef 200]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype = A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
;juggle  = 1                      ;Number of air juggle points move takes;Commonly-used controllers:
velset = vel x,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                      ;Set ctrl (Def: no change)
anim = 200                       ;Change animation (Def: no change)
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 2
x = 20
ignorehitpause = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 3
x = 10
ignorehitpause = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 5
x = -10
ignorehitpause = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 7
x = -20
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S200,0

[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = time = 1
trigger1 = random <=500 ;5/10 Chance of Saying
value = S4200,6+random%2
channel = 0

[State 200, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil((25*fvar(11))*ifelse(var(42),1.1,1)), 0                 ;Damage that move inflicts, guard damage
getpower = ceil((40*fvar(8))*(1+var(42))),ceil(40*.5)
givepower = ceil((25*fvar(11))*.015),ceil(25*.005)
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 2, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/You never miss, huh?
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = S616                    ;Spark anim no (Def: set above)
sparkxy = -15,-47              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S210,0                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Low
ground.slidetime = ceil(12+3*(var(42)!=0))
ground.hittime = ceil(12+3*(var(42)!=0))
air.hittime = ceil(12*1+(var(42)!=0))
fall.recovertime = ceil(12*1+(var(42)!=0))
guard.hittime = 8
airguard.hittime = 8
ground.velocity = -5
air.type = High
air.velocity = -2.4,-3
[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 1
trigger1 = random <=700
value = S2790,0
channel = 0

[State 0, Helper]
type = Helper
trigger1 = MoveHit
helpertype = normal ;player
name = "Hit Spark"
ID = 3000
stateno = 3000+random%3
pos = 55,-47
postype = p1
keyctrl = 0
ownpal = 0
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1

[State 0, Movement Effect]
type = Explod
trigger1 = animelem = 3 
anim = 201
ID = 201
pos = -10,22
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .4,.4
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
pausemovetime = 99999
supermovetime = 99999

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 4
movetype = I        ;I,A,H
ignorehitpause = 1

[State 0, Null]
type = Null
triggerall = var(12) = 0 && var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
ignorehitpause = 1
persistent = 0
[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 210, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Punch
[StateDef 210]
type = S
movetype= A
physics = S
;juggle  = 1
velset = vel x,0
ctrl = 0
anim = 212
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,1

[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = time = 1
trigger1 = random <=500 ;5/10 Chance of Saying
value = S4200,6+random%2
channel = 0
[State 210, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, NA
damage = ceil((42*fvar(11))*ifelse(var(42),1.1,1)), 0
getpower = ceil((65*fvar(8))*(1+var(42))),ceil(65*.5)
givepower = ceil((42*fvar(11))*.015),ceil(42*.005)
animtype = Medium
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 10, 10
sparkno = S616
sparkxy = -20,-75 
hitsound = S210,1
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(15+3*(var(42)!=0))
ground.hittime = ceil(15+3*(var(42)!=0))
air.hittime = ceil(15*1+(var(42)!=0))
fall.recovertime = ceil(15*1+(var(42)!=0))
guard.hittime = 10
airguard.hittime = 10
ground.velocity = -5.5
air.type = High
air.velocity = -2.9,-3
[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 1
trigger1 = random <=700
value = S2790,0
channel = 0

[State 0, Helper]
type = Helper
trigger1 = MoveHit
helpertype = normal ;player
name = "Hit Spark"
ID = 3000
stateno = 3000+random%3
pos = 40,-75
postype = p1
keyctrl = 0
ownpal = 0
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1

[State 0, Movement Effect]
type = Explod
trigger1 = animelem = 2
anim = 201
ID = 201
pos = 0,-8
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .35,.35
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0, Movement Effect]
type = Explod
trigger1 = animelem = 2
anim = 213
ID = 213
pos = -20,-74
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 4
movetype = I        ;I,A,H
ignorehitpause = 1

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 210, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Punch
[StateDef 220]
type = S
movetype= A
physics = S
;juggle  = 1
velset = vel x,0
ctrl = 0
anim = 220
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
x = 20
ignorehitpause = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 7
x = -20
ignorehitpause = 1

[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = AnimElem = 3
trigger1 = random<=800
value = S200,3+random%8
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S200,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 8
value = S240,25

[State 220, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, NA
damage = ceil((55*fvar(11))*ifelse(var(42),1.1,1)), 0
getpower = ceil((90*fvar(8))*(1+var(42))),ceil(90*.5)
givepower = ceil((55*fvar(11))*.015),ceil(55*.005)
animtype = Hard
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 12, 12
sparkno = S616
sparkxy = -20,-75
hitsound = S240, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(18+3*(var(42)!=0))
ground.hittime = ceil(18+3*(var(42)!=0))
air.hittime = ceil(18*1+(var(42)!=0))
fall.recovertime = ceil(18*1+(var(42)!=0))
guard.hittime = 12
airguard.hittime = 12
ground.velocity = -6.5
air.type = High
air.velocity = -4.4,-3
air.fall = 1
envshake.time = 5
envshake.ampl = -4
envshake.freq = 100
[State 200]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 1
trigger1 = random <=700
value = S2790,1+random%5
channel = 0
[State 0, Helper]
type = Helper
trigger1 = MoveHit
helpertype = normal ;player
name = "Hit Spark"
ID = 3000
stateno = 3008+random%3
pos = 47,-75
postype = p1
keyctrl = 0
ownpal = 0
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1
[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "Trail"
ID = 221
stateno = 221
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0
[State 0, Movement Effect]
type = Explod
trigger1 = animelem = 5
anim = 201
ID = 201
pos = 13,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .4,.4
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
pausemovetime = 99999
supermovetime = 99999

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 20
value = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 6
movetype = I        ;I,A,H
ignorehitpause = 1

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Light Pencil
[Statedef 230]
type    = S                      ;State-type: S-stand, C-crouch, A-air, L-liedown
movetype= A                      ;Move-type: A-attack, I-idle, H-gethit
physics = S                      ;Physics: S-stand, C-crouch, A-air
;juggle  = 1                      ;Number of air juggle points move takes;Commonly-used controllers:
velset = vel x,0                     ;Set velocity (x,y) (Def: no change)
ctrl = 0                        ;Set ctrl (Def: no change)
anim = 230                       ;Change animation (Def: no change)
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
trigger2 = animelem = 2
x = 10
ignorehitpause = 1
[State 0, PosAdd]
type = PosAdd
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
x = -10
ignorehitpause = 1

[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = time = 1
trigger1 = random <=500 ;5/10 Chance of Saying
value = S4200,6+random%2
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S240,5

[State 200, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, NA                     ;Attribute: Standing, Normal Attack
damage = ceil((28*fvar(11))*ifelse(var(42),1.1,1)), 0                   ;Damage that move inflicts, guard damage
getpower = ceil((40*fvar(8))*(1+var(42))),ceil(40*.5)
givepower = ceil((28*fvar(11))*.015),ceil(28*.005)
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = MA                   ;Flags on how move is to be guarded against
hitflag = MAF                    ;Flags of conditions that move can hit
priority = 2, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = S3000                      ;Spark anim no (Def: set above)
sparkxy = -20,-75              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S240,6                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High
ground.slidetime = ceil(12+3*(var(42)!=0))
ground.hittime = ceil(12+3*(var(42)!=0))
air.hittime = ceil(12*1+(var(42)!=0))
fall.recovertime = ceil(12*1+(var(42)!=0))
guard.hittime = 8
airguard.hittime = 8
ground.velocity = -4.5
air.type = High
air.velocity = -1.4,-1.5
[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 1
trigger1 = random <=700
value = S2790,0
channel = 0
[State 0, Helper]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal ;player
name = "Trail"
ID = 2220
stateno = 2220
pos = -20,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time > 15
value = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 4
movetype = I        ;I,A,H
ignorehitpause = 1

[State 0, Null]
type = Null
triggerall = var(12) = 0 && var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
ignorehitpause = 1
persistent = 0
[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 210, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Medium Pencil
[StateDef 240]
type = S
movetype= A
physics = S
;juggle  = 1
velset = vel x,0
ctrl = 0
anim = 240
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
trigger2 = AnimElem = 3
x = 10
ignorehitpause = 1

[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = AnimElem = 4
trigger1 = random<=800
value = S200,3+random%8
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S240,18

[State 210, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, NA
damage = ceil((36*fvar(11))*ifelse(var(42),1.1,1)), 0
getpower = ceil((65*fvar(8))*(1+var(42))),ceil(65*.5)
givepower = ceil((36*fvar(11))*.015),ceil(36*.005)
animtype = Medium
guardflag = M
hitflag = MAF
priority = 3, Hit
pausetime = 8, 10
sparkno = S616
sparkxy = -10,-30 
hitsound = S240,10
guardsound = 6, 0
ground.type = Low
ground.slidetime = ceil(15+3*(var(42)!=0))
ground.hittime = ceil(15+3*(var(42)!=0))
air.hittime = ceil(15*1+(var(42)!=0))
fall.recovertime = ceil(15*1+(var(42)!=0))
guard.hittime = 10
airguard.hittime = 10
ground.velocity = -5
air.type = High
air.velocity = -2.4,-3
[State 200]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 1
trigger1 = random <=700
value = S2790,1+random%5
channel = 0
[State 0, Movement Effect]
type = Explod
trigger1 = animelem = 4 
anim = 241
ID = 241
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 0
shadow = 0,0,0
ownpal = 1
ignorehitpause = 0

[State 0, Helper]
type = Helper
trigger1 = MoveHit
helpertype = normal ;player
name = "Hit Spark"
ID = 3000
stateno = 3000+random%3
pos = 65,-47
postype = p1
keyctrl = 0
ownpal = 0
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 6
movetype = I        ;I,A,H
ignorehitpause = 1

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 210, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Standing Strong Pencil
[StateDef 250]
type = S
movetype= A
physics = S
;juggle  = 1
velset = vel x,0
ctrl = 0
anim = 250
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S240,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S240,24

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = AnimElem = 3
value =S200,3+random%8

[State 400, HitDef]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = S,NA
damage = ceil((64*fvar(11))*ifelse(var(42),1.1,1)), 0
getpower = ceil((90*fvar(8))*(1+var(42))),ceil(90*.5)
givepower = ceil((64*fvar(11))*.015),ceil(64*.005)
animtype = hard
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 12,12
sparkno = S21748219
sparkxy = -20,-45 
hitsound = S240,11
guardsound = 6, 0
ground.type = Low
ground.slidetime = ceil(18+3*(var(42)!=0))
ground.hittime = ceil(18+3*(var(42)!=0))
air.hittime = ceil(18*1+(var(42)!=0))
fall.recovertime = ceil(18*1+(var(42)!=0))
guard.hittime = 12
airguard.hittime = 12
ground.velocity = -5
air.velocity = -5,-5
air.fall = 1
envshake.time = 5
envshake.ampl = -2
envshake.freq = 100
[State 200]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 1
trigger1 = random <=700
value = S2790,1+random%5
channel = 0
[State 0, Helper]
type = Helper
trigger1 = MoveHit
helpertype = normal ;player
name = "Hit Spark"
ID = 3000
stateno = 3011+random%3
pos = 45,-50
postype = p1
keyctrl = 0
ownpal = 0
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 6
movetype = I        ;I,A,H
ignorehitpause = 1

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Light Punch
[StateDef 400]
type = C
movetype= A
physics = C
ctrl = 0
anim = 400
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S600,2

[State 410, HitDef]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = C,NA
damage = ceil((18*fvar(11))*ifelse(var(42),1.1,1)), 0
getpower = ceil((40*fvar(8))*(1+var(42))),ceil(40*.5)
givepower = ceil((18*fvar(11))*.015),ceil(18*.005)
animtype = Light
guardflag = MA
hitflag = MAF
priority = 2, Hit
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = S616                    ;Spark anim no (Def: set above)
sparkxy = -20,-75              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S210,0                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = Low
ground.slidetime = ceil(12+3*(var(42)!=0))
ground.hittime = ceil(12+3*(var(42)!=0))
air.hittime = ceil(12*1+(var(42)!=0))
fall.recovertime = ceil(12*1+(var(42)!=0))
guard.hittime = 8
airguard.hittime = 8
ground.velocity = -5
air.type = High
air.velocity = -2.4,-3

[State 0, Helper]
type = Helper
trigger1 = MoveHit
helpertype = normal
name = "Hit Spark"
ID = 3000
stateno = 3000
pos = 73,-10
postype = p1
keyctrl = 0
ownpal = 0
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1
[State 0, Movement Effect]
type = Explod
trigger1 = animelem = 2
anim = 201
ID = 201
pos = 25,68
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .4,.4
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
pausemovetime = 99999
supermovetime = 99999
[State 0, Movement Effect]
type = Explod
trigger1 = animelem = 1
anim = 401
ID = 401
pos = 10,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .27,.27
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 3
movetype = I        ;I,A,H
ignorehitpause = 1

[State 0, Null]
type = Null
triggerall = var(12) = 0 && var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
ignorehitpause = 1
persistent = 0
[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 400, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Punch
[StateDef 410]
type = C
movetype= A
physics = C
;juggle  = 1
ctrl = 0
anim = 410
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,1

[State 400, HitDef]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = C,NA
damage = ceil((32*fvar(11))*ifelse(var(42),1.1,1)), 0
getpower = ceil((65*fvar(8))*(1+var(42))),ceil(65*.5)
givepower = ceil((32*fvar(11))*.015),ceil(32*.005)
animtype = Medium
guardflag = M
hitflag = MAF
priority = 4, Hit
pausetime = 10,10
sparkno = S8273274917
sparkxy = -20,-45 
hitsound = S240,14
guardsound = 6, 0
ground.type = Low
ground.slidetime = ceil(15+3*(var(42)!=0))
ground.hittime = ceil(15+3*(var(42)!=0))
air.hittime = ceil(15*1+(var(42)!=0))
fall.recovertime = ceil(15*1+(var(42)!=0))
guard.hittime = 10
airguard.hittime = 10
ground.velocity = -5.5
air.velocity = -6,-4
envshake.time = 5
envshake.ampl = -2
envshake.freq = 100
[State 0, Movement Effect]
type = Explod
trigger1 = animelem = 3
anim = 411
ID = 411
pos = 32,-8
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .92,.7
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0, Helper]
type = Helper
trigger1 = MoveHit
helpertype = normal
name = "Hit Spark"
ID = 3000
stateno = 3000+random%3
pos = 73,-10
postype = p1
keyctrl = 0
ownpal = 0
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 5
movetype = I        ;I,A,H
ignorehitpause = 1

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 18
value = 1

[State 400, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1
;---------------------------------------------------------------------------
; Crouching Strong Punch
[Statedef 420]
type    = C
movetype= A
physics = C
;juggle  = 6
ctrl = 0
anim = 420
sprpriority = 2

[State 0, VelAdd]
type = VelAdd
trigger1 = Animelem = 3
x = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S420,0

[State 220, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, NA
id = 420
damage = ceil((46*fvar(11))*ifelse(var(42),1.1,1)), 0
getpower = ceil((90*fvar(8))*(1+var(42))),ceil(90*.5)
givepower = ceil((46*fvar(11))*.015),ceil(46*.005)
animtype = Hard
guardflag = L
hitflag = MAFD
priority = 4, Hit
pausetime = 10, 10
sparkno = S12391203
sparkxy = -10,-3
hitsound = S240, 15
guardsound = 6, 0
ground.type = trip
ground.slidetime = ceil(18+3*(var(42)!=0))
ground.hittime = ceil(18+3*(var(42)!=0))
air.hittime = ceil(18*1+(var(42)!=0))
fall.recovertime = ceil(18*1+(var(42)!=0))
guard.hittime = 12
airguard.hittime = 12
ground.velocity = -2,-5
air.velocity = -2,-3.5
fall = 1
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(420) = 1
triggerall = movehit = 1
trigger1 = Target(420),statetype = A || Target(420),hitfall
trigger1 = Target(420),ishelper=0
trigger1 = Target(420),stateno != [425,426]
value = 425
ID = 420
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
triggerall = movehit
trigger1 = command = "holdup"
value = 40
ignorehitpause = 1

[State 100, Movement Effect]
type = Explod
trigger1 = AnimElem = 2
anim = 3233
scale = 0.5,0.5
postype = p1
pos = 10,5
sprpriority = 1
ownpal = 1
removeongethit = 1
persistent = 0

[State 100, Movement Effect]
type = Explod
trigger1 = time = 8
anim = 3233
scale = 0.5,0.5
postype = p1
pos = 10,5
sprpriority = 1
ownpal = 1
removeongethit = 1
persistent = 0

[State 0, Hit Spark]
type = Explod
trigger1 = MoveHit
anim = 3000
ID = 3000
pos = 60,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = 16
scale = .9,.9
persistent = 0
sprpriority = -2
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 5
movetype = I        ;I,A,H
ignorehitpause = 1

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 420, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;------------------
; Tripped - Stun
[Statedef 425]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, PosFreeze]
type = PosFreeze
trigger1 = !hitshakeover
value = 1
ignorehitpause = 1

[State 5000, 3] ;Anim for HIT_TRIP
type = ChangeAnim
trigger1 = 1
value = 5070

[State 1215, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 426

;------------------
; Tripped - falling down
[Statedef 426]
type    = A
movetype= H
physics = N

[State 1216, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1216, Gravity]
type = VelAdd
trigger1 = 1
y = gethitvar(yaccel)

[State 1216, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5110

;---------------------------------------------------------------------------
; Crouching Light Kick
[Statedef 430]
type    = C
movetype= A
physics = C
;juggle  = 5
ctrl = 0
anim = 430

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 4
movetype = I        ;I,A,H
ignorehitpause = 1
[State 0, Null]
type = Null
triggerall = var(12) = 0 && var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
ignorehitpause = 1
persistent = 0
[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 430, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouching Medium Kick
[Statedef 440]
type    = C
movetype= A
physics = C
;juggle  = 5
ctrl = 0
anim = 440

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 4
movetype = I        ;I,A,H
ignorehitpause = 1
[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 440, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Crouch Strong Kick
[Statedef 450]
type    = C
movetype= A
physics = C
;juggle  = 7
ctrl = 0
anim = 450

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 4
movetype = I        ;I,A,H
ignorehitpause = 1
[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 450, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Dash Attack (L)
[Statedef 500]
type = S
movetype= A
physics = S
;juggle  = 1
velset = vel x,0
ctrl = 0
anim = 109
poweradd = ceil(60*fvar(8))
sprpriority = 0

[State 100, Strong Dash FX]
type = Explod
trigger1 = time = 3
anim = 3246
scale = 0.3,0.3
postype = p1
pos = 15,3
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = anim = 109
trigger1 = AnimElem = 4
value =S200,3+random%7

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 109
trigger1 = animelem = 3
statetype = A
movetype = A
physics = N

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 109
trigger1 = AnimElem = 3
value = S106,0

[State 0, VelAdd]
type = VelSet
trigger1 = anim = 109
trigger1 = AnimElem = 3
x = 6.5

[State 0, VelAdd]
type = VelAdd
trigger1 = anim = 109
trigger1 = AnimElem = 3
y = -3

[State 0, VelMul]
type = VelMul
trigger1 = anim = 109
trigger1 = animelemtime(6) >= 0
x = .9
[State 0, VelMul]
type = VelAdd
trigger1 = anim = 109
trigger1 = animelemtime(4) >= 0
y = .55

[State 0, SprPriority]
type = SprPriority
trigger1 = anim = 109
trigger1 = AnimElem = 2
value = 1
ignorehitpause = 1

[State 210, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, SA
id = 500
damage = ceil((50*fvar(11))*ifelse(var(42),1.1,1)),ceil(50*.1)
getpower = ceil((120*fvar(8))*(1+var(42))),ceil(120*.5)
givepower = ceil((50*fvar(11))*.015),ceil(50*.005)
animtype = Diagup
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 6, 6
sparkno = S30008423849238401850
sparkxy = -20,-75 
hitsound = S240, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(22+3*(var(42)!=0))
ground.hittime = ceil(22+3*(var(42)!=0))
air.hittime = ceil(22*1+(var(42)!=0))
fall.recovertime = ceil(22*1+(var(42)!=0))
guard.hittime = 12
airguard.hittime = 12
ground.velocity = -5,-5.75
air.velocity = -5,-5.75
fall = 1

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+2)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 0, Hit Spark]
type = Explod
trigger1 = MoveHit
anim = 3000
ID = 3000
pos = 50,-55
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = 16
scale = .9,.9
persistent = 0
sprpriority = -2
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999
[State 200]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 1
value = S2790,1+random%5
channel = 0
[State 0, Movement Effect]
type = Explod
trigger1 = time = 5
anim = 1092
ID = 1092
pos = 0,0
pos = -17, floor((-20-Const(size.height))*fvar(8))
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = 1
removeongethit = 1
removetime = 5
scale = .55,.55
pausemovetime = 99999
supermovetime = 99999

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = anim = 109 && animelem = 5
movetype = I        ;I,A,H
ignorehitpause = 1

[State 450, 5]
type = ChangeAnim
triggerall = vel y > 0
trigger1 = Pos Y >= -vel y
value = 1091

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1091
statetype = S
movetype = I        ;I,A,H
physics = S
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1091
value = S50,1
persistent = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = anim = 1091
channel = 6
persistent = 0

[State 52, 1]
type = VelSet
trigger1 = anim = 1091
y = 0

[State 100, Land Effect]
type = Explod
trigger1 = anim = 1091
anim = 32849
scale = 0.3,0.3
postype = p1
pos = 0,5
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 52, 2]
type = PosSet
trigger1 = anim = 1091
y = 0

[State 0, CtrlSet]
type = CtrlSet
triggerall = anim = 1091
trigger1 = animelem = 3
value = 1

[State 195, 2]
type = ChangeState
triggerall = anim = 1091
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Dash Attack (M)
[Statedef 510]
type = S
movetype= A
physics = S
;juggle  = 1
velset = vel x,0
ctrl = 0
anim = 109
poweradd = ceil(60*fvar(8))
sprpriority = 0

[State 100, Strong Dash FX]
type = Explod
trigger1 = time = 3
anim = 3246
scale = 0.3,0.3
postype = p1
pos = 15,3
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+2)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = anim = 109
trigger1 = AnimElem = 4
value =S200,3+random%7

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 109
trigger1 = animelem = 3
statetype = A
movetype = A
physics = N

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 109
trigger1 = AnimElem = 3
value = S106,0

[State 0, VelAdd]
type = VelSet
trigger1 = anim = 109
trigger1 = AnimElem = 3
x = 7

[State 0, VelAdd]
type = VelAdd
trigger1 = anim = 109
trigger1 = AnimElem = 3
y = -4

[State 0, VelMul]
type = VelMul
trigger1 = anim = 109
trigger1 = animelemtime(6) >= 0
x = .9
[State 0, VelMul]
type = VelAdd
trigger1 = anim = 109
trigger1 = animelemtime(4) >= 0
y = .55

[State 0, SprPriority]
type = SprPriority
trigger1 = anim = 109
trigger1 = AnimElem = 2
value = 1
ignorehitpause = 1

[State 210, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, SA
id = 500
damage = ceil((56*fvar(11))*ifelse(var(42),1.1,1)),ceil(56*.1)
getpower = ceil((120*fvar(8))*(1+var(42))),ceil(120*.5)
givepower = ceil((56*fvar(11))*.015),ceil(56*.005)
animtype = Diagup
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 6, 6
sparkno = S30008423849238401850
sparkxy = -20,-75 
hitsound = S240, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(22+3*(var(42)!=0))
ground.hittime = ceil(22+3*(var(42)!=0))
air.hittime = ceil(22*1+(var(42)!=0))
fall.recovertime = ceil(22*1+(var(42)!=0))
guard.hittime = 12
airguard.hittime = 12
ground.velocity = -5.5,-6.25
air.velocity = -5.5,-6.25
fall = 1

[State 0, Hit Spark]
type = Explod
trigger1 = MoveHit
anim = 3000
ID = 3000
pos = 50,-55
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = 16
scale = .9,.9
persistent = 0
sprpriority = -2
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999
[State 200]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 1
value = S2790,1+random%5
channel = 0
[State 0, Movement Effect]
type = Explod
trigger1 = time = 5
anim = 1092
ID = 1092
pos = 0,0
pos = -17, floor((-20-Const(size.height))*fvar(8))
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = 1
removeongethit = 1
removetime = 5
scale = .55,.55
pausemovetime = 99999
supermovetime = 99999

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = anim = 109 && animelem = 5
movetype = I        ;I,A,H
ignorehitpause = 1

[State 450, 5]
type = ChangeAnim
triggerall = vel y > 0
trigger1 = Pos Y >= -vel y
value = 1091

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1091
statetype = S
movetype = I        ;I,A,H
physics = S
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1091
value = S50,1
persistent = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = anim = 1091
channel = 6
persistent = 0

[State 52, 1]
type = VelSet
trigger1 = anim = 1091
y = 0

[State 100, Land Effect]
type = Explod
trigger1 = anim = 1091
anim = 32849
scale = 0.3,0.3
postype = p1
pos = 0,5
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 52, 2]
type = PosSet
trigger1 = anim = 1091
y = 0

[State 195, 2]
type = ChangeState
triggerall = anim = 1091
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Dash Attack (H)
[Statedef 520]
type = S
movetype= A
physics = S
;juggle  = 1
velset = vel x,0
ctrl = 0
anim = 109
poweradd = -500
sprpriority = 0

[State 100, Strong Dash FX]
type = Explod
trigger1 = time = 3
anim = 3246
scale = 0.3,0.3
postype = p1
pos = 15,3
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(8) = 180
ignorehitpause = 1

[State 1220, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1220, Afterimage]
type = AfterImageTime
trigger1 = 1
time = 2

[State 1220, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,AP
time = 1
ignorehitpause = 1

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+2)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = anim = 109
trigger1 = AnimElem = 4
value =S200,3+random%7

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 109
trigger1 = animelem = 3
statetype = A
movetype = A
physics = N

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 109
trigger1 = AnimElem = 3
value = S106,0

[State 0, VelAdd]
type = VelSet
trigger1 = anim = 109
trigger1 = AnimElem = 3
x = 8

[State 0, VelAdd]
type = VelAdd
trigger1 = anim = 109
trigger1 = AnimElem = 3
y = -4.5

[State 0, VelMul]
type = VelMul
trigger1 = anim = 109
trigger1 = animelemtime(6) >= 0
x = .9
[State 0, VelMul]
type = VelAdd
trigger1 = anim = 109
trigger1 = animelemtime(4) >= 0
y = .55

[State 0, SprPriority]
type = SprPriority
trigger1 = anim = 109
trigger1 = AnimElem = 2
value = 1
ignorehitpause = 1

[State 210, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, SA
id = 500
damage = ceil((72*fvar(11))*ifelse(var(42),1.1,1)),ceil(72*.1)
getpower = 0,0
givepower = ceil((72*fvar(11))*.015),ceil(72*.005)
animtype = Back
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 6, 6
sparkno = S30008423849238401850
sparkxy = -20,-75 
hitsound = S240, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(32+3*(var(42)!=0))
ground.hittime = ceil(32+3*(var(42)!=0))
air.hittime = ceil(32*1+(var(42)!=0))
fall.recovertime = ceil(32*1+(var(42)!=0))
guard.hittime = 12
airguard.hittime = 12
ground.velocity = -9.5,-6
guard.velocity = -5.5
airguard.velocity = -5.5,-6
air.velocity = -9.5,-6
fall = 1
fall.recover = 0
p2facing = 1
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(500) = 1
triggerall = movehit = 1
trigger1 = Target(500),ishelper=0
trigger1 = Target(500),stateno != [525,528]
trigger1 = Target(500),stateno != [925,928]
value = ifelse(numexplod(520525),925,525)
ID = 500
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
triggerall = numexplod(520525) = 0
triggerall = NumTarget(500) = 1
triggerall = movehit = 1
trigger1 = Target(500),ishelper=0
anim = 616
ID = 520525
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 0, Hit Spark]
type = Explod
trigger1 = MoveHit
anim = 3000
ID = 3000
pos = 50,-55
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = 16
scale = .9,.9
persistent = 0
sprpriority = -2
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999
[State 200]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 1
value = S2790,1+random%5
channel = 0
[State 0, Movement Effect]
type = Explod
trigger1 = time = 5
anim = 1092
ID = 1092
pos = 0,0
pos = -17, floor((-20-Const(size.height))*fvar(8))
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = 1
removeongethit = 1
removetime = 5
scale = .55,.55
pausemovetime = 99999
supermovetime = 99999

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = anim = 109 && animelem = 5
movetype = I        ;I,A,H
ignorehitpause = 1

[State 450, 5]
type = ChangeAnim
triggerall = vel y > 0
trigger1 = Pos Y >= -vel y
value = 1091

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1091
statetype = S
movetype = I        ;I,A,H
physics = S
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1091
value = S50,1
persistent = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = anim = 1091
channel = 6
persistent = 0

[State 52, 1]
type = VelSet
trigger1 = anim = 1091
y = 0

[State 100, Land Effect]
type = Explod
trigger1 = anim = 1091
anim = 32849
scale = 0.3,0.3
postype = p1
pos = 0,5
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 52, 2]
type = PosSet
trigger1 = anim = 1091
y = 0

[State 0, CtrlSet]
type = CtrlSet
triggerall = anim = 1091
trigger1 = animelem = 3
value = 1

[State 195, 2]
type = ChangeState
triggerall = anim = 1091
trigger1 = Animtime = 0
value = 0
ctrl = 1

;------------------
; Hit by Fast Kung Fu Palm - shaking from the hit
; (a custom gethit state)
; See State 1020 for details
[Statedef 525]
type    = A
movetype= H
physics = N
velset = 0,0

[State 1025, Anim] ;Custom animation
type = ChangeAnim2
trigger1 = 1
value = 525

[State 1025, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 526

;------------------
; Hit by Fast Kung Fu Palm - flying through the air
; (a custom gethit state)
[Statedef 526]
type    = A
movetype= H
physics = N

[State 1026, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1026, Gravity]
type = VelAdd
trigger1 = 1
y = .45

[State 1026, No scroll]
type = ScreenBound
triggerall = vel y <= 0 || Vel y > 0 && Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = vel y <= 0 || Vel y > 0 && Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 527

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;------------------
; Hit by Fast Kung Fu Palm - hit wall
; (a custom gethit state)
[Statedef 527]
type    = A
movetype= H
physics = N

[State 1027, Turn]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1027, Pos]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist

[State 1027, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1027, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1027, Spark]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor (screenpos y) - 50
postype = back
sprpriority = 3

[State 1027, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 527

[State 1027, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 1027, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 528

;------------------
; Hit by Fast Kung Fu Palm - bounce off wall
; (a custom gethit state)
[Statedef 528]
type    = A
movetype= H
physics = N

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
y = -6

[State 1028, Vel X]
type = VelSet
trigger1 = Time = 0
x = 1.6

[State 1028, Turn]
type = Turn
trigger1 = (Time = 0) && (BackEdgeDist < 30)

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .35

[State 1028, Anim 5050] ;Self falling animation
type = ChangeAnim
trigger1 = Time = 0
trigger1 = !SelfAnimExist(5052)
value = 5050

[State 1028, Anim 5052] ;Self falling animation (diagup type)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(5052)
value = 5052

[State 1028, Anim 5060] ;Coming down - normal
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5050
trigger1 = SelfAnimExist(5060)
persistent = 0
value = 5060

[State 1028, Anim 5062] ;Coming down - diagup type
type = ChangeAnim
trigger1 = Vel Y > -2
trigger1 = Anim = 5052
trigger1 = SelfAnimExist(5062)
persistent = 0
value = 5062

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
; Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
;juggle = 2
ctrl = 0
anim = 600

[State 0, Null]
type = Null
triggerall = var(12) = 0 && var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
ignorehitpause = 1
persistent = 0
[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S200,0

[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = time = 0
trigger1 = random <=500 ;5/10 Chance of Saying
value = S4200,6
channel = 0

[State 610, 5]
type = CtrlSet
trigger1 = Time = 19
value = 1

[State 200, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = A, NA
damage = ceil((24*fvar(11))*ifelse(var(42),1.1,1)), 0
getpower = ceil((40*fvar(8))*(1+var(42))),ceil(40*.5)
givepower = ceil((24*fvar(11))*.015),ceil(24*.005)
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA                 ;Flags of conditions that move can hit
priority = 2, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = S616                      ;Spark anim no (Def: set above)
sparkxy = -20,-43              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S210,1                  ;Sound to play on hit
guardsound = 6, 0                ;Sound to play on guard
ground.type = High
ground.slidetime = ceil(12+3*(var(42)!=0))
ground.hittime = ceil(12+3*(var(42)!=0))
air.hittime = ceil(12*1+(var(42)!=0))
fall.recovertime = ceil(12*1+(var(42)!=0))
guard.hittime = 8
airguard.hittime = 8
ground.velocity = -4
air.type = High
air.velocity = -1.4,-5
[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 1
trigger1 = random <=700
value = S2790,0
channel = 0
[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal ;player
name = "Hit Spark"
ID = 3000
stateno = 3011+random%3
pos = 35,-43
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1
[State 0, Movement Effect]
type = Explod
trigger1 = AnimElem = 2
anim = 601
ID = 601
pos = 0,0
pos = 0, floor((0-Const(size.height))*fvar(8))
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = 0
removeongethit = 1
removetime = 5
pausemovetime = 0
scale = .4,.4
pausemovetime = 99999
supermovetime = 99999

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 3
movetype = I        ;I,A,H
ignorehitpause = 1

;---------------------------------------------------------------------------
; Jump Medium Punch
[Statedef 610]
type    = A
movetype= A
physics = A
;juggle = 4
ctrl = 0
sprpriority = 1
anim = 610

[State 0, Null]
type = Null
triggerall = var(12) = 0 && var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
ignorehitpause = 1
persistent = 0
[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = time = 0
trigger1 = random <=500 ;5/10 Chance of Saying
value = S4200,6
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S600,2

[State 600, 2]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = A, NA
damage = ceil((32*fvar(11))*ifelse(var(42),1.1,1)), 0
getpower = ceil((65*fvar(8))*(1+var(42))),ceil(65*.5)
givepower = ceil((32*fvar(11))*.015),ceil(32*.005)
guardflag = HA
animtype = Medium
priority = 4
pausetime = 10,10
sparkno = S616
sparkxy = -28,-40
hitsound = S240,14
guardsound = 6,0
ground.slidetime = ceil(12+3*(var(42)!=0))
ground.hittime = ceil(12+3*(var(42)!=0))
air.hittime = ceil(15*1+(var(42)!=0))
fall.recovertime = ceil(15*1+(var(42)!=0))
guard.hittime = 8
airguard.hittime = 10
ground.velocity = -4
air.type = High
air.velocity = -1.4,-3

[State 610, 5]
type = CtrlSet
trigger1 = AnimElem = 9
value = 1

[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal ;player
name = "Hit Spark"
ID = 3000
stateno = 3000+random%3
pos = 43,-40
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1

[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 1
trigger1 = random <=700
value = S2790,0
channel = 0
;[State 0, Movement Effect]
;type = Explod
;trigger1 = time = 6
;anim = 6181
;ID = 6181
;pos = 0,0
;pos = 390, floor((0-Const(size.height))*fvar(8))
;postype = p1 ;left
;bindtime = -1
;ownpal = 1
;sprpriority = 0
;removeongethit = 1
;removetime = -2
;pausemovetime = 0
;scale = .35,.35
[State 0, Movement Effect]
type = Explod
trigger1 = time = 4
anim = 618
ID = 618
pos = 0,0
pos = 0, floor((0-Const(size.height))*fvar(8))
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = 2
removeongethit = 1
removetime = -2
pausemovetime = 0
scale = .5,.5

[State 0, Movement Effect]
type = Explod
trigger1 = time = 8
anim = 6182
ID = 618
pos = 0,0
pos = 0, floor((0-Const(size.height))*fvar(8))
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = 0
removeongethit = 1
removetime = -2
pausemovetime = 0
scale = .5,.5

[State 610, VelSet]
type = VelSet
triggerall = vel y > -2.25
triggerall = !time
trigger1 = prevstateno = 600
trigger2 = prevstateno = 630
y = -2.25

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 9
movetype = I        ;I,A,H
ignorehitpause = 1

;---------------------------------------------------------------------------
; Jump Strong Punch
[Statedef 620]
type    = A
movetype= A
physics = A
;juggle = 4
ctrl = 0
anim = 620
sprpriority = 4

[State 0, Null]
type = Null
triggerall = var(12) = 0 && var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
ignorehitpause = 1
persistent = 0
[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = animelem = 4
trigger1 = random <=700
value = S620,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S620,0
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S200,2

[State 220, 1]
type = HitDef
trigger1 = Animelem = 4 | Animelem = 6
attr = A, NA
damage = ceil((25*fvar(11))*ifelse(var(42),1.1,1)), 0
getpower = ceil((30*fvar(8))*(1+var(42))),ceil(30*.5)
givepower = ceil((25*fvar(11))*.015),ceil(25*.005)
animtype = Hard
guardflag = HA
priority = 4, Hit
pausetime = 2,2
sparkno = S616
sparkxy = 0,0
hitsound = S240, 14
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(12+3*(var(42)!=0))
ground.hittime = ceil(12+3*(var(42)!=0))
air.hittime = ceil(18*1+(var(42)!=0))
fall.recovertime = ceil(18*1+(var(42)!=0))
guard.hittime = 8
airguard.hittime = 12
ground.velocity = 0
air.type = High
air.velocity = -1,1.5

[State 901, HitDef]
type = HitDef
trigger1 = Animelem = 8
attr = A, NA
id = 620
guardflag = HA
priority = 4, Hit
animtype = Hard   ;light,medium,hard,back,up,diagup
damage = ceil((25*fvar(11))*ifelse(var(42),1.1,1)), 0
getpower = ceil((30*fvar(8))*(1+var(42))),ceil(30*.5)
givepower = ceil((25*fvar(11))*.015),ceil(25*.005)
pausetime = 18,18
guard.pausetime = 8,8
hitsound = s240,22
guardsound = 6,0
sparkno = S3000
sparkxy = 0,0
animtype = Hard
ground.velocity = -4, 25
guard.velocity = -7
air.velocity = -4, 25
yaccel=1
air.fall = 1
fall.recover=1
ground.slidetime = ceil(12+3*(var(42)!=0))
ground.hittime = ceil(12+3*(var(42)!=0))
air.hittime = ceil(18*1+(var(42)!=0))
fall.recovertime = ceil(32*1+(var(42)!=0))
guard.hittime = 8
airguard.hittime = 12
ground.type = low
envshake.time = 5
envshake.ampl = -4
envshake.freq = 100
p2facing = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget(620) = 1
triggerall = movehit = 1
trigger1 = Target(620),ishelper=0
trigger1 = Target(620),stateno != [625,628]
trigger1 = Target(620),stateno != [655,658]
value = ifelse(numexplod(620625),655,625)
ID = 620
ignorehitpause = 1
persistent = 0
[State 0, Explod]
type = Explod
triggerall = numexplod(620625) = 0
triggerall = NumTarget(620) = 1
triggerall = movehit = 1
trigger1 = Target(620),ishelper=0
anim = 616
ID = 620625
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

;[State 901, HitDef]
;type = HitDef
;trigger1 = enemynear, statetype = A
;trigger1 = Animelem = 8
;attr = A, NA
;guardflag = HA
;animtype = Hard   ;light,medium,hard,back,up,diagup
;damage = 7,0
;pausetime = 10,10
;hitsound = s240,22
;guardsound = 6,0
;sparkno = S3000
;sparkxy = 0,0
;animtype = Hard
;ground.velocity = -4, 25
;guard.velocity = -7.995
;air.velocity = -4, 25
;yaccel=1
;ground.hittime = 22
;ground.slidetime = 22
;ground.type = low
;fall = 1
;fall.recover=0
;fall.recovertime=35
;fall.xvelocity=-1.5
;fall.yvelocity=-10
;down.bounce=1
;envshake.time = 5
;envshake.ampl = -4
;envshake.freq = 100
;fall.envshake.time=20
;fall.envshake.freq=175
;fall.envshake.ampl=-5

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(4) >= 0 && animelemtime(5) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 3000
stateno = 3003+random%3
pos = 20,-5
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1
[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(6) >= 0 && animelemtime(7) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 3000
stateno = 3003+random%3
pos = 20,-5
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1
[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(8) >= 0 && animelemtime(10) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 3000
stateno = 3006
pos = 20,-5
postype = p1
keyctrl = 0
ownpal = 0
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1

[State 0, Movement Effect]
type = Explod
trigger1 = animelem = 4
anim = 622
ID = 622
pos = 0,0
pos = -15, floor(0-Const(size.height))
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = 5
removeongethit = 1
removetime = 13
pausemovetime = 0
scale = .8,.8
pausemovetime = 99999
supermovetime = 99999

[State 0, Movement Effect]
type = Explod
trigger1 = animelem = 4
anim = 623
ID = 623
pos = 0, 0
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = 0
removeongethit = 1
removetime = 5
pausemovetime = 0
scale = .4,.4
pausemovetime = 99999
supermovetime = 99999
[State 200]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 1
trigger1 = random <=700
value = S2790,1+random%5
channel = 0
[State 0, Helper]
type = Helper
trigger1 = animelem = 3
helpertype = normal ;player
name = "Trail"
ID = 231
stateno = 231
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 197]
type = ChangeState
triggerall = movehit = 1 && animelemtime(8) >= 0 && animelemtime(10) < 0
trigger1 = command = "start"
value = 295
ctrl = 0

[State 620, VelSet]
type = VelSet
triggerall = vel y > -4.4
triggerall = !Time
trigger1 = prevstateno = 600
trigger2 = prevstateno = 610
trigger3 = prevstateno = 630
trigger4 = prevstateno = 640
y = -4.4

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = Animelemtime(8) > 0
trigger1 = movecontact || movereversed
trigger2 = animelem = 9
movetype = I        ;I,A,H
ignorehitpause = 1

;------------------
; Groundbounce - shaking from the hit
[Statedef 625]
type    = U
movetype= H
physics = N
velset = 0,0

[State 0, PosFreeze]
type = PosFreeze
trigger1 = !hitshakeover
value = 1
ignorehitpause = 1

[State 1215, Anim] ;Custom animation
type = ChangeAnim
trigger1 = 1
value = ifelse(statetype=L,5170,5050)

[State 1215, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 626

;------------------
; Groundbounce - falling down
[Statedef 626]
type    = A
movetype= H
physics = N

[State 1216, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1216, Gravity]
type = VelAdd
trigger1 = 1
y = .6

[State 1216, Hit ground]
type = ChangeState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 627

;------------------
; Groundbounce - hit ground
[Statedef 627]
type    = A
movetype= H
physics = N

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time=20
freq=175
ampl=-5
ignorehitpause = 1

[State 1217, Pos]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1217, Stop moving]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1217, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1217, Spark]
type = Explod
trigger1 = Time = 0
anim = F62
pos = 0,0
postype = p1
sprpriority = 3

[State 1217, Anim]
type = ChangeAnim2
trigger1 = Time = 0
value = 1627

[State 1217, Sound]
type = PlaySnd
trigger1 = Time = 0
value = F7,2

[State 1217, State]
type = ChangeState
trigger1 = AnimTime = 0
value = 628

;------------------
; Groundbounce - bounce off ground
[Statedef 628]
type    = A
movetype= H
physics = N

[State 1028, Vel Y]
type = VelSet
trigger1 = Time = 0
x = -1.5
y = -10

[State 1028, Gravity]
type = VelAdd
trigger1 = 1
y = .5

[State 1028, Anim 1218]
type = ChangeAnim
triggerall = selfanimexist(5052)=0
trigger1 = Time = 0
value = 5050
[State 1028, Anim 1218]
type = ChangeAnim
triggerall = selfanimexist(5052)=1
trigger1 = Time = 0
value = 5052
[State 1028, Anim 1218]
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, Const720p(4), Const720p(-8))
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 821, 2] ; Recover near ground (use ChangeState)
type = SelfState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = hitfall && gethitvar(fall.recover)
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER
[State 821, 2] ; Recover near ground (use ChangeState)
type = SelfState
triggerall = Vel Y > 0
triggerall = Pos Y < -20
triggerall = alive
triggerall = hitfall && gethitvar(fall.recover)
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_RECOVER

[State 1028, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5110
anim = ifelse(selfanimexist(5161),5161,5160)

;---------------------------------------------------------------------------
; Jump Light Pencil
[Statedef 630]
type    = A
movetype= A
physics = A
;juggle = 2
ctrl = 0
anim = 640

[State 0, Null]
type = Null
triggerall = var(12) = 0 && var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
ignorehitpause = 1
persistent = 0
[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 1100, 3]
type = AngleDraw
Trigger1 = time > 3
trigger1 = time < 31
value = -7
ignorehitpause = 1

[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = time = 1
trigger1 = random <=700
value = S4200,6+random%2
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S240,23

[State 200, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = A, NA
damage = ceil((28*fvar(11))*ifelse(var(42),1.1,1)), 0
getpower = ceil((40*fvar(8))*(1+var(42))),ceil(40*.5)
givepower = ceil((28*fvar(11))*.015),ceil(28*.005)
animtype = Light                 ;Animation type: Light, Medium, Heavy, Back (def: Light)
guardflag = HA                 ;Flags of conditions that move can hit
priority = 2, Hit                ;Attack priority: 0 (least) to 7 (most), 4 default
;Hit/Miss/Dodge type (Def: Hit)
pausetime = 8, 8                 ;Time attacker pauses, time opponent shakes
sparkno = S616                      ;Spark anim no (Def: set above)
sparkxy = -28,-40
hitsound = S240,9
guardsound = 6, 0                ;Sound to play on guard
ground.type = High
ground.slidetime = ceil(12+3*(var(42)!=0))
ground.hittime = ceil(12+3*(var(42)!=0))
air.hittime = ceil(12*1+(var(42)!=0))
fall.recovertime = ceil(12*1+(var(42)!=0))
guard.hittime = 8
airguard.hittime = 8
ground.velocity = -4
air.type = High
air.velocity = -1.4,-4

[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal ;player
name = "Hit Spark"
ID = 3000
stateno = 3008+random%3
pos = 40,-65
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1

[State 630, 5]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 610, VelSet]
type = VelSet
triggerall = vel y > -1.8
triggerall = !time
trigger1 = prevstateno = 600
y = -1.8

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 5
movetype = I        ;I,A,H
ignorehitpause = 1

;---------------------------------------------------------------------------
; Jump Medium Pencil
[Statedef 640]
type    = A
movetype= A
physics = A
;juggle = 3
ctrl = 0
anim = 630

[State 0, Null]
type = Null
triggerall = var(12) = 0 && var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
ignorehitpause = 1
persistent = 0
[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = time = 1
trigger1 = random <=500 ;5/10 Chance of Saying
value = S4200,6+random%2
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S240,3

[State 600, 2]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = A, NA
damage = ceil((32*fvar(11))*ifelse(var(42),1.1,1)), 0
getpower = ceil((65*fvar(8))*(1+var(42))),ceil(65*.5)
givepower = ceil((32*fvar(11))*.015),ceil(32*.005)
guardflag = HA
animtype = Medium
priority = 3, Hit
pausetime = 10,10
sparkno = S616
sparkxy = -28,-40
hitsound = S240,10
guardsound = 6,0
ground.slidetime = ceil(12+3*(var(42)!=0))
ground.hittime = ceil(12+3*(var(42)!=0))
air.hittime = ceil(15*1+(var(42)!=0))
fall.recovertime = ceil(15*1+(var(42)!=0))
guard.hittime = 8
airguard.hittime = 10
ground.velocity = -4
air.type = High
air.velocity = -1.4,-3

[State 0, Helper]
type = Helper
trigger1 = movehit = 1
helpertype = normal ;player
name = "Hit Spark"
ID = 3000
stateno = 3011+random%3
pos = 50,-45
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1

[State 610, VelSet]
type = VelSet
triggerall = vel y > -2.25
triggerall = !time
trigger1 = prevstateno = 600
trigger2 = prevstateno = 630
trigger3 = prevstateno = 610
y = -2.25

[State 640, 5]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 7
movetype = I        ;I,A,H
ignorehitpause = 1

;---------------------------------------------------------------------------
; Jump Strong Pencil
[Statedef 650]
type    = A
movetype= A
physics = A
;juggle = 5
ctrl = 0
anim = 650

[State 0, Null]
type = Null
triggerall = var(12) = 0 && var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
ignorehitpause = 1
persistent = 0
[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S240,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem != 4
trigger1 = movehit = 1
value = S7676,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S200,3+random%8

[State 901, HitDef]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = A, NA
id = 620
priority = 4, Hit
guardflag = HA
animtype = Hard   ;light,medium,hard,back,up,diagup
damage = ceil((72*fvar(11))*ifelse(var(42),1.1,1)), 0
getpower = ceil((90*fvar(8))*(1+var(42))),ceil(90*.5)
givepower = ceil((72*fvar(11))*.015),ceil(72*.005)
pausetime = 18,18
guard.pausetime = 10,10
hitsound = s240,19
guardsound = 6,0
sparkno = S32141412
sparkxy = 0,0
animtype = Hard
ground.velocity = -4, 25
guard.velocity = -7
air.velocity = -4, 25
yaccel=1
air.fall = 1
fall.recover=1
ground.slidetime = ceil(12+3*(var(42)!=0))
ground.hittime = ceil(12+3*(var(42)!=0))
air.hittime = ceil(18*1+(var(42)!=0))
fall.recovertime = ceil(32*1+(var(42)!=0))
guard.hittime = 8
airguard.hittime = 8
ground.type = low
envshake.time = 5
envshake.ampl = -4
envshake.freq = 100
p2facing = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget(620) = 1
triggerall = movehit = 1
trigger1 = Target(620),ishelper=0
trigger1 = Target(620),stateno != [625,628]
trigger1 = Target(620),stateno != [655,658]
value = ifelse(numexplod(650625),655,625)
ID = 620
ignorehitpause = 1
persistent = 0
[State 0, Explod]
type = Explod
triggerall = numexplod(650625) = 0
triggerall = NumTarget(620) = 1
triggerall = movehit = 1
trigger1 = Target(620),ishelper=0
anim = 616
ID = 650625
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal ;player
name = "Hit Spark"
ID = 14021
stateno = 14021
pos = 15,-20
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .70
size.yscale = .70
PauseMoveTime = 9999
SuperMoveTime = 9999
persistent = 0
ignorehitpause = 1

[State 0, SuperPause]
type = SuperPause
triggerall = movehit
trigger1 = AnimElem = 4
time = 10
anim = 616
pos = 0,-30
movetime = 10
darken = 0

[State 650, 5]
type = CtrlSet
trigger1 = Time = 20
value = 1

[State 0, VelSet]
type = VelSet
triggerall = vel y > -4.1
triggerall = !time
trigger1 = prevstateno = 600
trigger2 = prevstateno = 630
trigger3 = prevstateno = 610
trigger4 = prevstateno = 640
trigger5 = prevstateno = 620
y = -4.1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = animelem = 5
movetype = I        ;I,A,H
ignorehitpause = 1

;------------------
; Already Used A Groundbounce - shaking from the hit
[Statedef 655]
type    = U
movetype= H
physics = N
velset = 0,0

[State 0, PosFreeze]
type = PosFreeze
trigger1 = !hitshakeover
value = 1
ignorehitpause = 1

[State 1215, Anim] ;Custom animation
type = ChangeAnim
trigger1 = 1
value = ifelse(statetype=L,5170,5050)

[State 1215, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 656

;------------------
; Already Used A Groundbounce - falling down
[Statedef 656]
type    = A
movetype= H
physics = N

[State 1216, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1216, Gravity]
type = VelAdd
trigger1 = 1
y = .6

[State 1216, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
;Rising Pencil (L) - Start
[Statedef 900]
type = S
movetype = A
physics = S
velset = vel x,0
anim = 900
ctrl = 0
poweradd = ceil(60*fvar(8))
sprpriority = 4

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+2)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = animelem = 2
value = S240,3

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
triggerall = anim = 900
trigger1 = animelem = 1
value = S900,10

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 900
trigger1 = animelem = 2
value = S900,1

[State 210, 1]
type = HitDef
triggerall = anim = 900
triggerall = animelemtime(4) < 0
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, SA
id = 900
damage = ceil((60*fvar(11))*ifelse(var(42),1.1,1)),ceil(60*.1)
getpower = ceil((120*fvar(8))*(1+var(42))),ceil(120*.5)
givepower = ceil((60*fvar(11))*.015),ceil(60*.005)
animtype = Heavy
fall.animtype = up
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 12
sparkno = S30008423849238401850
sparkxy = -20,-75 
hitsound = S240, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = 22+(3*var(42))
ground.hittime  = 22+(3*var(42))
air.hittime = 22*(1+var(42))
fall.recovertime = 22*(1+var(42))
guard.hittime = 16
airguard.hittime = 16
ground.velocity = -3,-9.25
air.velocity = -3,-9.25
yaccel = .55
fall = 1;0
;forcenofall = 1
forcestand = 1
snap = 35,0
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
triggerall = anim = 900
trigger1 = animelem = 1
value = S9390,0
[State 210, 1]
type = HitDef
triggerall = anim = 900
triggerall = animelemtime(4) >= 0
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, SA
damage = ceil((50*fvar(11))*ifelse(var(42),1.1,1)),ceil(50*.1)
getpower = ceil((120*fvar(8))*(1+var(42))),ceil(120*.5)
givepower = ceil((50*fvar(11))*.015),ceil(50*.005)
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 8, 8
sparkno = S30008423849238401850
sparkxy = -20,-75 
hitsound = S240, 10
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(15+3*(var(42)!=0))
ground.hittime = ceil(15+3*(var(42)!=0))
air.hittime = ceil(15*1+(var(42)!=0))
fall.recovertime = ceil(15*1+(var(42)!=0))
guard.hittime = 16
airguard.hittime = 16
ground.velocity = -3,-6
air.velocity = -3,-5
fall = 1
fall.recover = 1
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(900) = 1
triggerall = movehit = 1
trigger1 = Target(900),ishelper=0
trigger1 = Target(900),stateno != [905,906]
value = 905
ID = 900
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
triggerall = anim = 900
triggerall = numtarget(900) && movehit
trigger1 = animelemtime(4) >= 0
value = 901
ctrl = 1

[State 100, Land Effect]
type = Explod
triggerall = anim = 900
trigger1 = animelem = 2
anim = 32851
scale = 0.6,0.6
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 100, Land Effect]
type = Explod
triggerall = anim = 900
trigger1 = animelem = 4
anim = 32849
scale = 0.3,0.3
postype = p1
pos = 0,0
sprpriority = -5
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 0, VelAdd]
type = Veladd
triggerall = anim = 900
trigger1 = animelem = 2
x = 3.5
[State 0, VelAdd]
type = VelSet
triggerall = anim = 900
trigger1 = animelem = 4
x = 1.5
y = -8.5

[State 0, VelAdd]
type = VelMul
triggerall = anim = 900
trigger1 = animelemtime(5) >= 0
x = .89
[State 0, VelAdd]
type = VelAdd
triggerall = anim = 900
trigger1 = animelemtime(4) >= 0
y = .55

[State 0, StateTypeSet]
type = StateTypeSet
triggerall = anim = 900
trigger1 = animelem = 4
statetype = A
movetype = A
physics = N

[State 0, Hit Spark]
type = Explod
trigger1 = MoveHit
anim = 3000
ID = 3000
pos = 40,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = 16
scale = .9,.9
persistent = 0
sprpriority = -2
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999

[State 0, Movement Effect]
type = Explod
triggerall = anim = 900
trigger1 = AnimElem = 2
anim = 9001
ID = 9001
pos = 0,0
pos = -15, floor((-20-Const(size.height))*fvar(8))
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = -4
removeongethit = 1
removetime = 16
scale = .4,.4
ignorehitpause = 1

[State 0, Movement Effect]
type = Explod
triggerall = anim = 900
trigger1 = AnimElem = 4
anim = 9011
ID = 9011
pos = 0,0
pos = -15, floor((-20-Const(size.height))*fvar(8))
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = -4
removeongethit = 1
removetime = 11
scale = .4,.4
ignorehitpause = 0

[State 450, 5]
type = ChangeAnim
triggerall = vel y > 0
trigger1 = Pos Y >= -vel y
value = 902

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 902
value = S50,1
persistent = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = anim = 902
channel = 6
persistent = 0

[State 100, Land Effect]
type = Explod
trigger1 = anim = 902
anim = 32849
scale = 0.3,0.3
postype = p1
pos = 0,5
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 0

[State 52, 1]
type = VelSet
trigger1 = anim = 902
y = 0
[State 52, 2]
type = PosSet
trigger1 = anim = 902
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = anim = 900
trigger2 = animelem = 6
trigger3 = anim = 902
movetype = I        ;I,A,H
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 902
statetype = S
physics = S
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = anim = 902
trigger1 = animtime = 0
value = 0
ctrl = 1
ignorehitpause = 2

;---------------------------------------------------------------------------
;Rising Pencil - Followup
[Statedef 901]
type = A
movetype = A
physics = A
velset = 2.5,-11.5
anim = 901
ctrl = 1
sprpriority = 4

[State 0, Movement Effect]
type = Explod
trigger1 = time = 0
anim = 9011
ID = 9011
pos = 0,0
pos = -15, floor((-20-Const(size.height))*fvar(8))
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = -4
removeongethit = 1
removetime = 16
scale = .4,.4
ignorehitpause = 0

;---------------------------------------------------------------------------
;Rising Pencil - Falling
[Statedef 902]
type    = A
physics = A
ctrl = 0
anim = 901
sprpriority = 1

[State 0, CtrlSet]
type = CtrlSet
trigger1 = time = 10
value = 1

[State 9021, ChangeState]
type = ChangeState
trigger1 = time = 20
value = 621
ctrl = 0

;------------------
; Launched - Stun
[Statedef 905]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, PosFreeze]
type = PosFreeze
trigger1 = !hitshakeover
value = 1
ignorehitpause = 1

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = selfanimexist(5051) = 1
value = 5051
[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim2
trigger1 = selfanimexist(5051) = 0
value = 905

[State 1215, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 906

;------------------
; Launched - falling
[Statedef 906]
type    = A
movetype= H
physics = N

[State 1216, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1216, Gravity]
type = VelAdd
trigger1 = 1
y = gethitvar(yaccel)

[State 0, SelfState]
type = SelfState
triggerall = alive && canrecover
trigger1 = time > 24
value = 5210
ignorehitpause = 1
[State 0, SelfState]
type = SelfState
triggerall = alive = 0 || canrecover = 0
trigger1 = time > 24
value = 5050
ignorehitpause = 1

[State 1216, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
;Rising Pencil (M) - Start
[Statedef 910]
type = S
movetype = A
physics = S
velset = vel x,0
anim = 910
ctrl = 0
poweradd = ceil(60*fvar(8))
sprpriority = 4

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+2)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 910
trigger1 = animelem = 2
value = S240,3

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
triggerall = anim = 900
trigger1 = animelem = 1
value = S900,10

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 910
trigger1 = animelem = 2
value = S900,1

[State 210, 1]
type = HitDef
triggerall = anim = 910
triggerall = animelemtime(4) < 0
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, SA
id = 900
damage = ceil((60*fvar(11))*ifelse(var(42),1.1,1)),ceil(60*.1)
getpower = ceil((120*fvar(8))*(1+var(42))),ceil(120*.5)
givepower = ceil((60*fvar(11))*.015),ceil(60*.005)
animtype = Heavy
fall.animtype = up
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 12, 12
sparkno = S30008423849238401850
sparkxy = -20,-75 
hitsound = S240, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = 22+(3*var(42))
ground.hittime  = 22+(3*var(42))
air.hittime = 22*(1+var(42))
fall.recovertime = 22*(1+var(42))
guard.hittime = 16
airguard.hittime = 16
ground.velocity = -3,-9.25
air.velocity = -3,-9.25
yaccel = .55
fall = 1;0
;forcenofall = 1
forcestand = 1
snap = 35,0
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
triggerall = anim = 900
trigger1 = animelem = 1
value = S9390,0
[State 210, 1]
type = HitDef
triggerall = anim = 910
triggerall = animelemtime(4) >= 0
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, SA
damage = ceil((56*fvar(11))*ifelse(var(42),1.1,1)),ceil(56*.1)
getpower = ceil((120*fvar(8))*(1+var(42))),ceil(120*.5)
givepower = ceil((56*fvar(11))*.015),ceil(56*.005)
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 8, 8
sparkno = S30008423849238401850
sparkxy = -20,-75 
hitsound = S240, 10
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(15+3*(var(42)!=0))
ground.hittime = ceil(15+3*(var(42)!=0))
air.hittime = ceil(15*1+(var(42)!=0))
fall.recovertime = ceil(15*1+(var(42)!=0))
guard.hittime = 16
airguard.hittime = 16
ground.velocity = -3,-6
air.velocity = -3,-5
fall = 1
fall.recover = 1
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(900) = 1
triggerall = movehit = 1
trigger1 = Target(900),ishelper=0
trigger1 = Target(900),stateno != [905,906]
value = 905
ID = 900
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
triggerall = anim = 910
triggerall = numtarget(900) && movehit
trigger1 = animelemtime(4) >= 0
value = 901
ctrl = 1

[State 100, Land Effect]
type = Explod
triggerall = anim = 910
trigger1 = animelem = 2
anim = 32851
scale = 0.6,0.6
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 100, Land Effect]
type = Explod
triggerall = anim = 910
trigger1 = animelem = 4
anim = 32849
scale = 0.3,0.3
postype = p1
pos = 0,0
sprpriority = -5
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 0, VelAdd]
type = Veladd
triggerall = anim = 910
trigger1 = animelem = 2
x = 5.5
[State 0, VelAdd]
type = VelSet
triggerall = anim = 910
trigger1 = animelem = 4
x = 2
y = -9.25

[State 0, VelAdd]
type = VelMul
triggerall = anim = 910
trigger1 = animelemtime(5) >= 0
x = .89
[State 0, VelAdd]
type = VelAdd
triggerall = anim = 910
trigger1 = animelemtime(4) >= 0
y = .55

[State 0, StateTypeSet]
type = StateTypeSet
triggerall = anim = 910
trigger1 = animelem = 4
statetype = A
movetype = A
physics = N

[State 0, Hit Spark]
type = Explod
trigger1 = MoveHit
anim = 3000
ID = 3000
pos = 40,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = 16
scale = .9,.9
persistent = 0
sprpriority = -2
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999

[State 0, Movement Effect]
type = Explod
triggerall = anim = 910
trigger1 = AnimElem = 2
anim = 9001
ID = 9001
pos = 0,0
pos = -15, floor((-20-Const(size.height))*fvar(8))
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = -4
removeongethit = 1
removetime = 16
scale = .4,.4
ignorehitpause = 1

[State 0, Movement Effect]
type = Explod
triggerall = anim = 910
trigger1 = AnimElem = 4
anim = 9011
ID = 9011
pos = 0,0
pos = -15, floor((-20-Const(size.height))*fvar(8))
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = -4
removeongethit = 1
removetime = 13
scale = .4,.4
ignorehitpause = 0

[State 450, 5]
type = ChangeAnim
triggerall = vel y > 0
trigger1 = Pos Y >= -vel y
value = 902

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 902
value = S50,1
persistent = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = anim = 902
channel = 6
persistent = 0

[State 100, Land Effect]
type = Explod
trigger1 = anim = 902
anim = 32849
scale = 0.3,0.3
postype = p1
pos = 0,5
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 0

[State 52, 1]
type = VelSet
trigger1 = anim = 902
y = 0
[State 52, 2]
type = PosSet
trigger1 = anim = 902
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = anim = 900
trigger2 = animelem = 6
trigger3 = anim = 902
movetype = I        ;I,A,H
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 902
statetype = S
physics = S
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = anim = 902
trigger1 = animtime = 0
value = 0
ctrl = 1
ignorehitpause = 2

;---------------------------------------------------------------------------
;Rising Pencil (H) - Start
[Statedef 920]
type = S
movetype = A
physics = S
velset = vel x,0
anim = 920
ctrl = 0
poweradd = -500
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(8) = 180
ignorehitpause = 1

[State 1220, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
triggerall = anim = 900
trigger1 = animelem = 1
value = S900,10

[State 1220, Afterimage]
type = AfterImageTime
trigger1 = anim = 920
time = 2

[State 1220, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 0, NotHitBy]
type = NotHitBy
triggerall = anim = 920
trigger1 = animelemtime(4) <= 0
value = SCA
time = 1
ignorehitpause = 1

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+2)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 920
trigger1 = animelem = 2
value = S240,3

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 920
trigger1 = animelem = 2
value = S900,1

[State 210, 1]
type = HitDef
triggerall = anim = 920
triggerall = animelemtime(4) < 0
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, SA
id = 900
damage = ceil((70*fvar(11))*ifelse(var(42),1.1,1)),ceil(70*.1)
getpower = 0,0
givepower = ceil((70*fvar(11))*.015),ceil(70*.005)
animtype = Heavy
fall.animtype = up
guardflag = M
hitflag = MAF
priority = 6, Hit
pausetime = 12, 12
sparkno = S30008423849238401850
sparkxy = -20,-75 
hitsound = S240, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = 22+(3*var(42))
ground.hittime  = 22+(3*var(42))
air.hittime = 22*(1+var(42))
fall.recovertime = 22*(1+var(42))
guard.hittime = 16
airguard.hittime = 16
ground.velocity = -3,-9.25
air.velocity = -3,-9.25
yaccel = .55
fall = 1;0
fall.recover = 0
;forcenofall = 1
forcestand = 1
snap = 35,0
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
triggerall = anim = 900
trigger1 = animelem = 1
value = S9390,0
[State 210, 1]
type = HitDef
triggerall = anim = 920
triggerall = animelemtime(4) >= 0
trigger1 = !movecontact
trigger1 = !movereversed
id = 920
attr = S, SA
damage = ceil((72*fvar(11))*ifelse(var(42),1.1,1)),ceil(72*.1)
getpower = 0,0
givepower = ceil((72*fvar(11))*.015),ceil(72*.005)
animtype = Medium
guardflag = M
hitflag = MAF
priority = 6, Hit
pausetime = 8, 8
sparkno = S30008423849238401850
sparkxy = -20,-75 
hitsound = S240, 10
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(15+3*(var(42)!=0))
ground.hittime = ceil(15+3*(var(42)!=0))
air.hittime = ceil(15*1+(var(42)!=0))
fall.recovertime = ceil(15*1+(var(42)!=0))
guard.hittime = 16
airguard.hittime = 16
ground.velocity = -3,-6
air.velocity = -3,-5
fall = 1
fall.recover = 0
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(900) = 1
triggerall = movehit = 1
trigger1 = Target(900),ishelper=0
trigger1 = Target(900),stateno != [905,906]
value = 905
ID = 900
ignorehitpause = 1
persistent = 0
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(920) = 1
triggerall = movehit = 1
trigger1 = Target(920),ishelper=0
trigger1 = Target(920),stateno != [925,926]
value = 925
ID = 920
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
triggerall = anim = 920
triggerall = numtarget(900) && movehit
trigger1 = animelemtime(4) >= 0
value = 901
ctrl = 1

[State 100, Land Effect]
type = Explod
triggerall = anim = 920
trigger1 = animelem = 2
anim = 32851
scale = 0.6,0.6
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 100, Land Effect]
type = Explod
triggerall = anim = 920
trigger1 = animelem = 4
anim = 32849
scale = 0.3,0.3
postype = p1
pos = 0,0
sprpriority = -5
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 0, VelAdd]
type = Veladd
triggerall = anim = 920
trigger1 = animelem = 2
x = 7.5
[State 0, VelAdd]
type = VelSet
triggerall = anim = 920
trigger1 = animelem = 4
x = 2.5
y = -11

[State 0, VelAdd]
type = VelMul
triggerall = anim = 920
trigger1 = animelemtime(5) >= 0
x = .89
[State 0, VelAdd]
type = VelAdd
triggerall = anim = 920
trigger1 = animelemtime(4) >= 0
y = .55

[State 0, StateTypeSet]
type = StateTypeSet
triggerall = anim = 920
trigger1 = animelem = 4
statetype = A
movetype = A
physics = N

[State 0, Hit Spark]
type = Explod
trigger1 = MoveHit
anim = 3000
ID = 3000
pos = 40,-40
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = 16
scale = .9,.9
persistent = 0
sprpriority = -2
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999

[State 0, Movement Effect]
type = Explod
triggerall = anim = 920
trigger1 = AnimElem = 2
anim = 9001
ID = 9001
pos = 0,0
pos = -15, floor((-20-Const(size.height))*fvar(8))
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = -4
removeongethit = 1
removetime = 16
scale = .4,.4
ignorehitpause = 1

[State 0, Movement Effect]
type = Explod
triggerall = anim = 920
trigger1 = AnimElem = 4
anim = 9011
ID = 9011
pos = 0,0
pos = -15, floor((-20-Const(size.height))*fvar(8))
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = -4
removeongethit = 1
removetime = 16
scale = .4,.4
ignorehitpause = 0

[State 450, 5]
type = ChangeAnim
triggerall = vel y > 0
trigger1 = Pos Y >= -vel y
value = 902

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 902
value = S50,1
persistent = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = anim = 902
channel = 6
persistent = 0

[State 100, Land Effect]
type = Explod
trigger1 = anim = 902
anim = 32849
scale = 0.3,0.3
postype = p1
pos = 0,5
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 0

[State 52, 1]
type = VelSet
trigger1 = anim = 902
y = 0
[State 52, 2]
type = PosSet
trigger1 = anim = 902
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = anim = 900
trigger2 = animelem = 6
trigger3 = anim = 902
movetype = I        ;I,A,H
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 902
statetype = S
physics = S
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = anim = 902
trigger1 = animtime = 0
value = 0
ctrl = 1
ignorehitpause = 2

;------------------
; Forced Hard Knockdown - Stun
[Statedef 925]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, PosFreeze]
type = PosFreeze
trigger1 = !hitshakeover
value = 1
ignorehitpause = 1

[State 5000, 2] ;Anim for HIT_BACK
type = ChangeAnim
trigger1 = Time = 0
value = 5030

[State 5000, 3] ;Anim for HIT_UP/HIT_DIAGUP (only if it exists)
type = ChangeAnim
trigger1 = Time = 0
trigger1 = (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype) ;5051 - 4 + type

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 1215, State]
type = ChangeState
trigger1 = HitShakeOver = 1
value = 926

;------------------
; Forced Hard Knockdown - falling down
[Statedef 926]
type    = A
movetype= H
physics = N

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = anim = [5050,5059]
trigger1 = Vel Y >= ifelse(anim = 5050, Const720p(4), Const720p(-8))
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 1216, Velocity]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1216, Gravity]
type = VelAdd
trigger1 = 1
y = gethitvar(yaccel)

[State 1216, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
;Counter de Papel - Inicio
[StateDef 2000]
type = S
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 2000
poweradd = 0
sprpriority = -2

[State 0, Helper]
type = Helper
trigger1 = Animelem = 2
helpertype = normal ;player
name = "Papel"
ID = 2001
stateno = 2001
pos = 2,2
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = .45
size.yscale = .45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = S2000,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9
value = S2000,2

[State 9902, 1]
type = HitOverride
trigger1 = Animelem = 3
attr = SCA, AA, AP, AT
stateno = 2002
time = 25

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 2002
ID = 2002
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removeongethit = 1
removetime = -2
sprpriority = 3
scale = .4,.4

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 2002
ID = 2002
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removeongethit = 1
removetime = -2
sprpriority = 3
scale = .4,.4

[State 0, PalFXWiz]
type = PalFX
trigger1 = AnimElem = 3
time = 5
add = 256,100,100
mul = 256,256,256
sinadd = 100,100,100,10
invertall = 0
color = 256

[State 0, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;Counter de Papel - Contra Ataque
[StateDef 2002]
type = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 2003
poweradd = 0
sprpriority = -2

[State 0, SuperPause]
type = Pause
trigger1 = time = 0
time = 18
movetime = 18

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(22) = 1
ignorehitpause = 1
[State 0, VarSet A]
type = VarSet
triggerall = power >= 1000 && var(22) <= 1
triggerall = anim = 2003 && animelemtime(2) < 0
triggerall = var(19) = 1
trigger1 = command = "AirJuggle_x"
trigger1 = var(9):=1
trigger2 = command = "AirJuggle_y" 
trigger2 = var(9):=2
var(22) = 2
ignorehitpause = 1
[State 0, VarSet B]
type = VarSet
triggerall = power >= 1000 && var(22) <= 1
triggerall = anim = 2003 && animelemtime(2) < 0
triggerall = var(19) != 1 && (command = "AirJuggle_x" || command = "AirJuggle_y")
trigger1 = p2bodydist x <= 35
trigger1 = var(9):=1
trigger2 = p2bodydist x > 35
trigger2 = var(9):=2
var(22) = 2
ignorehitpause = 1
[State 0, VarSet C]
type = VarSet 
triggerall = power >= 1000 && var(22) <= 1
triggerall = anim = 2003 && animelemtime(2) < 0
triggerall = var(19) = 1
trigger1 = command = "Twister_x"
trigger1 = var(9):=1
trigger2 = command = "Twister_y" 
trigger2 = var(9):=2
var(22) = 3
ignorehitpause = 1
[State 0, VarSet D]
type = VarSet
triggerall = power >= 1000 && var(22) <= 1
triggerall = anim = 2003 && animelemtime(2) < 0
triggerall = var(19) != 1 && (command = "Twister_x" || command = "Twister_y")
trigger1 = var(9):=2
var(22) = 3
ignorehitpause = 1
[State 0, VarSet E]
type = VarSet
triggerall = power >= 3000 && var(22) <= 1
triggerall = anim = 2003 && animelemtime(2) < 0
trigger1 = command = "AllOutAttack"
var(22) = 4
ignorehitpause = 1
[State 0, VarSet F]
type = VarSet
triggerall = power >= 3000 && var(22) <= 1
triggerall = anim = 2003 && animelemtime(2) < 0
trigger1 = command = "Masterpiece"
var(22) = 5
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = anim = 2003 && animelemtime(2) >= 0
trigger1 = var(22) = 2
value = 19000
ctrl = 0
ignorehitpause = 1
[State 0, ChangeState]
type = ChangeState
triggerall = anim = 2003 && animelemtime(2) >= 0
trigger1 = var(22) = 3
value = 87871
ctrl = 0
ignorehitpause = 1
[State 0, ChangeState]
type = ChangeState
triggerall = anim = 2003 && animelemtime(2) >= 0
trigger1 = var(22) = 4
value = 17000
ctrl = 0
ignorehitpause = 1
[State 0, ChangeState]
type = ChangeState
triggerall = anim = 2003 && animelemtime(2) >= 0
trigger1 = var(22) = 5
value = 1210
ctrl = 0
ignorehitpause = 1

[State 100, Strong Dash FX]
type = Explod
triggerall = anim != 2009
trigger1 = AnimElem = 4
anim = 3246
scale = 0.3,0.3
postype = p1
pos = 15,3
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1

[State 0, Movement Effect]
type = Explod
triggerall = anim != 2009
trigger1 = animelem = 5
anim = 20033
ID = 20033
pos = 0,0
pos = -15,0
postype = p1 ;left
bindtime = -1
ownpal = 1
sprpriority = 1
removeongethit = 1
removetime = 4
scale = .55,.55
pausemovetime = 99999
supermovetime = 99999

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) != 20
triggerall = anim = 2003
trigger1 = animelem = 2
value = S2020,7

[State 0, Movement Effect]
type = Explod
triggerall = anim != 2009
trigger1 = animelem = 5
anim = 201
ID = 201
pos = 0,16
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .44,.44
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
pausemovetime = 99999
supermovetime = 99999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
triggerall = anim = 2003
trigger1 = animelem = 2
value = S424,1
[State 0, StateTypeSet]
type = StateTypeSet
triggerall = anim = 2003
trigger1 = animelem = 4
statetype = A
movetype = A
physics = N

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact || movereversed
trigger2 = anim = 2003 && animelem = 8
trigger3 = anim = 2009
movetype = I
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 2009
statetype = S
physics = S

[State 0, Gravity]
type = Veladd
triggerall = anim = 2003
trigger1 = animelemtime(8) >= 0
y = .55

[State 0, VelAdd]
type = VelAdd
triggerall = anim = 2003
trigger1 = animelem = 4 
x = 3
y = -4
;ignorehitpause = 1

[State 0, VelAdd]
type = VelSet
triggerall = anim = 2003
trigger1 = animelem = 5
x = 1
y = -1
;ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
triggerall = anim = 2003
trigger1 = AnimElemTime(6) < 0
value = SCA
time = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 2003
trigger1 = AnimElem = 4
value = S600,2

[State 0, VarSet]
type = VarSet
trigger1 = winko
var(39) = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Papel"
ID = 20011
stateno = 20011
pos = 4,4
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = .45
size.yscale = .45

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Papel"
ID = 20012
stateno = 20012
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = .45
size.yscale = .45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2000, 0

[State 0, EnvShake]
type = EnvShake
triggerall = anim = 2003
trigger1 = AnimElem = 5
time = 10
freq = 150
ampl = -4

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 2981
anim = 2981
pos = 0,0
postype = back
sprpriority = 40
removeongethit = 1
removetime=4
scale = 20,20
supermovetime=4
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 210, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, SA
id = 2000
damage = ceil((82*fvar(11))*ifelse(var(42),1.1,1)),ceil(82*.1)
getpower = ceil((120*fvar(8))*(1+var(42))),ceil(120*.5)
givepower = ceil((82*fvar(11))*.015),ceil(82*.005)
animtype = Heavy
fall.animtype = back
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = 10, 10
sparkno = S30008423849238401850
sparkxy = -20,-75 
hitsound = S240, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(22+3*(var(42)!=0))
ground.hittime = ceil(22+3*(var(42)!=0))
air.hittime = ceil(22*1+(var(42)!=0))
fall.recovertime = ceil(22*1+(var(42)!=0))
guard.hittime = 16
airguard.hittime = 16
ground.velocity = -ifelse(var(42),9.5,3),-6
air.velocity = -ifelse(var(42),9.5,3),-6
fall = 1
[State 0]
type = Pause
trigger1 = Name != "Maavo"
trigger2 = Authorname != "MaavoTheHuman"
time = 999
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(2000) = 1
triggerall = var(42) && movehit = 1
trigger1 = Target(2000),ishelper=0
trigger1 = Target(2000),stateno != [525,528]
value = 525
ID = 2000
ignorehitpause = 1
persistent = 0

[State 0, Hit Spark]
type = Explod
trigger1 = MoveHit
anim = 3000
ID = 3000
pos = 47,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = 16
scale = .9,.9
persistent = 0
sprpriority = -2
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999

[State 0, end]
type = ChangeAnim
trigger1 = anim = 2003
trigger1 = vel Y > 0 && pos Y >= -vel y
value = 2009

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 2009
value = S50,1
persistent = 0

[State 100, Land Effect]
type = Explod
trigger1 = anim = 2009
anim = 32849
scale = 0.3,0.3
postype = p1
pos = 0,5
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 2009
x = 5
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = anim = 2009
y = 0
ignorehitpause = 1
[State 0, PosSet]
type = PosSet
trigger1 = anim = 2009
y = 0

[State 2004, 2]
type = ChangeState
triggerall = anim = 2009
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Ve, Ivette!
[StateDef 1301]
type = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 1300
sprpriority = 2

[State 0, VarAdd]
type = VarSet
trigger1 = time = 0
var(5)= 120
ignorehitpause = 1
[State 0, Helper]
type = Helper
triggerall = var(19) != 20
trigger1 = Animelem = 1
helpertype = normal ;player
name = "Ivette"
ID = 9902
stateno = 9902
pos = 0,-300
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 0
supermovetime = 0
[State 0, Helper]
type = Helper
triggerall = var(19) = 20
trigger1 = Animelem = 1
helpertype = normal ;player
name = "Ivette"
ID = 8902
stateno = 8902
pos = 0,-300
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 0
supermovetime = 0
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(19) != 20
trigger1 = Animelem = 3
value = S2525,3 + (var(16) * 10000)
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(19) = 20
trigger1 = Animelem = 3
value = S2525,5+ (var(16) * 10000)
volumescale = 255
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(19) = 20 && var(16) = 20
trigger1 = Animelem = 3
value = S336,4
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(19) != 20
triggerall = var(16) = 2
trigger1 = Animelem = 3
value = S2525,4

[State 0, CtrlSet]
type = CtrlSet
trigger1 = AnimElem = 4
value = 1

[State 9900, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Ve, Ivette! - Aire
[StateDef 1321]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 1310
sprpriority = 2

[State 0, VarAdd]
type = VarAdd
trigger1 = time = 0
var(5)= 120
ignorehitpause = 1
[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Ivette"
ID = 9902
stateno = ifelse(var(16)=20,8902,9902)
pos = 0,-125
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 0
supermovetime = 0
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(19) != 20
trigger1 = Animelem = 3
value = S2525,3 + (var(16) * 10000)
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(19) = 20
trigger1 = Animelem = 3
value = S2525,5+ (var(16) * 10000)
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(19) = 20 && var(16) = 20
trigger1 = Animelem = 3
value = S336,4
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(19) != 20
triggerall = var(16) = 2
trigger1 = Animelem = 3
value = S2525,4

;---------------------------------------------------------------------------
;Ve, Ivette! - Ivette Cayendo
[Statedef 9902]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1301
facep2 = 1

[State 0, VarSet]
type = ParentVarSet
triggerall = parent,var(12) = 0
trigger1 = var(21) = 1
var(11) = (parent,var(11)+2)
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
triggerall = time
trigger1 = var(21) = 1
var(11) = (parent,var(11)+3)
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
triggerall = time
trigger1 = var(21) = 1
var(12) = 1
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
trigger1 = parent,var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA,AA
ignorehitpause = 1

[State 1812, HitOverride]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT,AA
stateno = 99045
time = -1

[State 0, Helper]
type = Helper
triggerall = root,var(52) != 0
Trigger1 = WinKO
Trigger1 = RoundState>=3
trigger1 = movehit
Name = "No Music"
StateNo = 1995
ID = 1995
Pos = 0,0
PosType = Back
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7275,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6553,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6558,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6558,1
channel = 8

[State 0, VarSet]
type = VarSet
trigger1 = winko
var(39) = 1

[State 0, Helper]
type = Helper
Trigger1 = time = 0
Name = "Fall FX 1"
StateNo = 99022
ID = 99022
Pos = 0,0
PosType = p1
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0

[State 0, Helper]
type = Helper
Trigger1 = time = 0
Name = "Fall FX 1"
StateNo = 99023
ID = 99023
Pos = 0,0
PosType = p1
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 3003
ID = 3003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0]
type = Pause
trigger1 = Name != "Maavo"
trigger2 = Authorname != "MaavoTheHuman"
time = 999
[State 901, HitDef]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = , SA
id = 9902
hitflag = MAFD
guardflag = MA
animtype = Hard   ;light,medium,hard,back,up,diagup
damage = ceil((52*root,fvar(11))*ifelse(root,var(42),1.1,1)), 0
getpower = 0,0
givepower = ceil((52*root,fvar(11))*.015),ceil(52*.005)
pausetime = 18,18
guard.pausetime = 10,10
hitsound = s240,15
guardsound = 6,0
sparkno = S300032423432
sparkxy = 0,0
animtype = Hard
ground.velocity = -4, 25
guard.velocity = -7
air.velocity = -4, 25
yaccel=1
air.fall = 1
fall.recover=1
ground.slidetime = ceil(18+3*(root,var(42)!=0))
ground.hittime = ceil(18+3*(root,var(42)!=0))
air.hittime = ceil(18*1+(root,var(42)!=0))
fall.recovertime = ceil(36*1+(root,var(42)!=0))
guard.hittime = 16
airguard.hittime = 16
ground.type = low
envshake.time = 5
envshake.ampl = -4
envshake.freq = 100
ground.cornerpush.veloff = 0
[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal ;player
name = "Hit Spark"
ID = 3000
stateno = 3007
pos = 20,-5
Facing = 1
postype = p1
keyctrl = 0
ownpal = 0
size.xscale = .90
size.yscale = .90
persistent = 0
ignorehitpause = 1
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(9902) = 1
triggerall = movehit = 1
trigger1 = Target(9902),ishelper=0
trigger1 = Target(9902),stateno != [625,628]
value = 625
ID = 9902
ignorehitpause = 1
persistent = 0

[State -2, Give 'em some Movehitoner]
type = VarSet
trigger1 = 1
var(21) = ifelse((movehit=1||projhit=1),var(21)+1,0)
ignorehitpause = 1

[State 9902, 3]
type = SprPriority
trigger1 = Time = 0
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S65535,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S65535,8
channel = 31

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = S7676,0
persistent = 0

[State 9902, 2]
type = VelAdd
trigger1 = time = 0
x = 6
y = 14

[State 0, VelMul]
type = VelMul
triggerall = pos y < 0
trigger1 = time
x = 1.025
y = 1.025

[state 9902, 3]
type = velset
trigger1 = pos y >=0
x = 0
y = 0
[state 9902, 3]
type = posset
trigger1 = pos y >=0
y = 0

[State 9902, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 182
triggerall = pos y >=0
value = 1822

[State 9902, 4]
type = ChangeState
Trigger1 = pos y >=0  ;40
value = 99011
ctrl = 0

;---------------------------------------------------------------------------
;Ve, Ivette! - Ivette Aterrizando
[StateDef 99011]
type = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 1303
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA,AA
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S65535,9
channel = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S65524,2
channel = 31

[State 0, VarSet]
type = VarSet
trigger1 = winko
var(39) = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 2300
ID = 2300
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0]
type = Pause
trigger1 = Name != "Maavo"
trigger2 = Authorname != "MaavoTheHuman"
time = 999
[State 0, Helper]
type = Helper
trigger1 = AnimElem = 1
helpertype = normal ;player
name = "Land Effect"
ID = 990116
stateno = 990116
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
PauseMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
freq = 150
ampl = -4

[State 100, Land Effect]
type = Explod
trigger1 = Time = 0
anim = 32849
scale = 0.3,0.3
postype = p1
pos = 0,0
sprpriority = 6
ownpal = 1
removeongethit = 1
pausemovetime = 99999
ignorehitpause = 1
persistent = 0

[State 99011, end]
type = ChangeState
trigger1 = animtime = 0
value = 9903

;Ve Ivette! - Land Effect
[StateDef 990116]
type = S
movetype= I
anim = 32851
poweradd = 0
sprpriority = 5

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0 
time = 16
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 1
color = 0
ignorehitpause = 1

[State 0, ChangeState]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Ve, Ivette! - Ivette rebotando
[Statedef 9903]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1304

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6553,0+random%3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA,AA
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S65535,11

[State 0, PosSet]
type = PosSet
trigger1 = time < 2
y = 0

[State 0, Gravity]
type = Gravity
trigger1 = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = 4.5

[State 6502, 3]
type = SprPriority
trigger1 = Time = 0
value = 2

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0
x = 5

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 0, Explod]
type = Explod
trigger1 = time = 48
anim = 3003
ID = 3003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0]
type = Pause
trigger1 = Name != "Maavo"
trigger2 = Authorname != "MaavoTheHuman"
time = 999
[State 0, ChangeState]
type = ChangeState
triggerall = time > 9
trigger1 = vel Y > 0 && pos Y >= 0
value = 99045
ctrl = 0

;---------------------------------------------------------------------------
;Ve, Ivette! - Ivette llendose
[StateDef 99045]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 13041
poweradd = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA,AA
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S65535,10

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 1
x = 3

[State 0, PosAdd]
type = Posset
trigger1 = animelem = 1
y = 0

[State 0, VarSet]
type = VarSet
trigger1 = winko
var(39) = 1
[State 0]
type = Pause
trigger1 = Name != "Maavo"
trigger2 = Authorname != "MaavoTheHuman"
time = 999
[State 0, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 2300
ID = 2300
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 100, Land Effect]
type = Explod
trigger1 = Time = 0
anim = 32849
scale = 0.3,0.3
postype = p1
pos = 20,5
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 3003
ID = 3003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S7275,1

[State 6502, 4]
type = DestroySelf
Trigger1 = time = 20

;---------------------------------------------------------------------------
;Ve, Ivette! - ???
[Statedef 8902]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1201
facep2 = 1

[State 0, VarSet]
type = ParentVarSet
triggerall = parent,var(12) = 0
trigger1 = var(21) = 1
var(11) = (parent,var(11)+2)
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
triggerall = time
trigger1 = var(21) = 1
var(11) = (parent,var(11)+3)
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
triggerall = time
trigger1 = var(21) = 1
var(12) = 1
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
trigger1 = parent,var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA,AA
ignorehitpause = 1

[State 1812, HitOverride]
type = HitOverride
trigger1 = Time = 0
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT,AA
stateno = 8905
time = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S7275,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6558,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6558,1
channel = 8

[State 0, VarSet]
type = VarSet
trigger1 = winko
var(39) = 1

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 3003
ID = 3003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
[State 0]
type = Pause
trigger1 = Name != "Maavo"
trigger2 = Authorname != "MaavoTheHuman"
time = 999
[State 901, HitDef]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = , SA
id = 9902
hitflag = MAFD
guardflag = MA
animtype = Hard   ;light,medium,hard,back,up,diagup
damage = ceil((52*root,fvar(11))*ifelse(root,var(42),1.1,1)), 0
getpower = 0,0
givepower = ceil((52*root,fvar(11))*.015),ceil(52*.005)
pausetime = 18,18
guard.pausetime = 10,10
hitsound = s210,15
guardsound = 6,0
sparkno = S3000
sparkxy = 0,0
animtype = Hard
ground.velocity = -4, 25
guard.velocity = -7
air.velocity = -4, 25
yaccel=1
air.fall = 1
fall.recover=1
ground.slidetime = ceil(18+3*(root,var(42)!=0))
ground.hittime = ceil(18+3*(root,var(42)!=0))
air.hittime = ceil(18*1+(root,var(42)!=0))
fall.recovertime = ceil(36*1+(root,var(42)!=0))
guard.hittime = 16
airguard.hittime = 16
ground.type = low
envshake.time = 5
envshake.ampl = -4
envshake.freq = 100
ground.cornerpush.veloff = 0
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(9902) = 1
triggerall = movehit = 1
trigger1 = Target(9902),ishelper=0
trigger1 = Target(9902),stateno != [625,628]
value = 625
ID = 9902
ignorehitpause = 1
persistent = 0

[State -2, Give 'em some Movehitoner]
type = VarSet
trigger1 = 1
var(21) = ifelse((movehit=1||projhit=1),var(21)+1,0)
ignorehitpause = 1

[State 9902, 3]
type = SprPriority
trigger1 = Time = 0
value = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S65535,7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit
value = S7676,0
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S336,0
channel = 11

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S76767,1
channel = 12

[State 9902, 2]
type = VelAdd
trigger1 = time = 0
x = 6
y = 14

[State 0, VelMul]
type = VelMul
triggerall = pos y < 0
trigger1 = time
x = 1.025
y = 1.025

[state 9902, 3]
type = velset
trigger1 = pos y >=0
x = 0
y = 0
[state 9902, 3]
type = posset
trigger1 = pos y >=0
y = 0

[State 9902, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 182
triggerall = pos y >=0
value = 1822

[State 9902, 4]
type = ChangeState
Trigger1 = pos y >=0  ;40
value = 89011
ctrl = 0

;---------------------------------------------------------------------------
;Ve, Ivette! - ???
[StateDef 89011]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1203
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 2300
ID = 2300
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = s336, 2
channel = 12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S336,1
channel = 11

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
freq = 150
ampl = -4

[State 100, Land Effect]
type = Explod
trigger1 = Time = 0
anim = 32849
scale = 0.3,0.3
postype = p1
pos = -20,5
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 99011, end]
type = ChangeState
trigger1 = time = 9
value = 8903
ctrl = 1

[State 99011, end]
type = ChangeState
trigger1 = time = 9
value = 8903
ctrl = 1

;---------------------------------------------------------------------------
;Ve, Ivette! - ???
[Statedef 8903]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1204

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S336,3
channel = 12

[State 1100, 3]
type = AngleDraw
Trigger1 = 1
value = -10*time

[State 6502, 3]
type = SprPriority
trigger1 = Time = 0
value = 2

[State 6502, 2]
type = VelAdd
trigger1 = time = 0
x = 6
y = -18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 41
value = S7275,1

[State 0, Explod]
type = Explod
trigger1 = time = 41
anim = 3003
ID = 3003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 6502, 4]
type = DestroySelf
Trigger1 = time = 43

;---------------------------------------------------------------------------
;Ve, Maritza!
[StateDef 8805]
type = S
movetype= A
physics = S
;juggle  = 1
velset = 0,0
ctrl = 0
anim = 1300
poweradd = 0
sprpriority = 2

[State 0, CtrlSet]
type = CtrlSet
trigger1 = AnimElem = 4
value = 1

[State 0, VarAdd]
type = VarSet
trigger1 = time = 0
var(6)= 120
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Maritza"
ID = 84803
stateno = 3741
pos = -455,-5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 0
supermovetime = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 6
value = S2525,0 + (var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 2
trigger1 = Animelem = 4
value = S2525,1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 2
trigger1 = Animelem = 4
value = S2525,1

[State 9900, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Ve, Maritza! - Aire
[StateDef 8806]
type    = A
movetype= A
physics = A
ctrl = 0
anim = 1310
sprpriority = 2

[State 0, CtrlSet]
type = CtrlSet
trigger1 = AnimElem = 4
value = 1

[State 0, VarAdd]
type = VarSet
trigger1 = time = 0
var(6)= 120
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Maritza"
ID = 84803
stateno = 3741
pos = -455,-5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 0
supermovetime = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = S2525,0 + (var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 2
trigger1 = Animelem = 4
value = S2525,1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 2
trigger1 = Animelem = 4
value = S2525,1

;---------------------------------------------------------------------------
;Ve, Maritza! - Maritza Dash
[StateDef 3741]
type = S
movetype= A
physics = S
;juggle  = 1
velset = 0,0
ctrl = 0
anim = 84803
poweradd = 0
sprpriority = 2

[State 100, Run Effect 2]
type = Explod
trigger1 = time = 0 || time = 5 || time = 10 || time = 15
anim = 3235
scale = 0.4,0.4
postype = p1
pos = 10,5
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1

[State 3741]
type = ChangeAnim
triggerall = palno = 2 || palno = 6 || palno = 7 || palno = 10
trigger1 = time = 0
value = 848031
ignorehitpause = 1
persistent = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA,AA
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 3003
ID = 3003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S7275,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8983,2
channel = 4

[State 1507, velset ]
type = velset
trigger1 = AnimElem = 1
x = 90

[State 9900, end]
type = ChangeState
trigger1 = p2dist x < 60 || time >= 36
value = 3742

;---------------------------------------------------------------------------
;Ve, Maritza! - Martillazo!
[StateDef 3742]
type = S
movetype= A
physics = S
;juggle  = 1
velset = 0,0
ctrl = 0
anim = 84804
poweradd = 0
sprpriority = 5

[State 1]
type = AssertSpecial
trigger1 = root,var(39) = 1
flag = NoMusic
ignorehitpause = 1

[State 3742]
type = ChangeAnim
triggerall = palno = 2 || palno = 6 || palno = 7 || palno = 10
trigger1 = time = 0
value = 848041
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
triggerall = root,var(52) != 0
Trigger1 = WinKO
Trigger1 = RoundState>=3
trigger1 = movehit
Name = "No Music"
StateNo = 1995
ID = 1995
Pos = 0,0
PosType = Back
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
PauseMoveTime = 9999
SuperMoveTime = 9999
[State 0, Movement Effect]
type = Explod
trigger1 = animelem = 4
anim = 201
ID = 201
pos = -2,90
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = -2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
pausemovetime = 99999
supermovetime = 99999

[State 0, VarSet]
type = ParentVarSet
triggerall = parent,var(12) = 0
trigger1 = var(21) = 1
var(11) = (parent,var(11)+2)
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
triggerall = time
trigger1 = var(21) = 1
var(11) = (parent,var(11)+3)
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
triggerall = time
trigger1 = var(21) = 1
var(12) = 1
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
trigger1 = parent,var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA,AA
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8983,1

[State 0, PlaySnd]
type = PlaySnd
triggerall = root, var(16) = 0
trigger1 = animelem = 16
value = S8986,0+random%3

[State 0, Laugh]
type = Helper
TriggerAll = Root, Var(16) = 1
Trigger1 = animelem = 16
Name = "English Laugh"
StateNo = 37424+random%5
ID = 37424
Pos = 0,0
PosType = p1
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = var (30) >= 1
movetype = I

[State 210, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = , SA
id = 8483
damage = ceil((45*root,fvar(11))*ifelse(root,var(42),1.1,1)),ceil(45*.1)
getpower = 0,0
givepower = ceil((45*root,fvar(11))*.015),ceil(45*.005)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 1, Hit
pausetime = 8, 8
sparkno = S3000
hitsound = S8983, 0
sparkxy = -15, -45
guardsound = 6, 0
ground.type = Low
ground.slidetime = ceil(18+3*(root,var(42)!=0))
ground.hittime = ceil(18+3*(root,var(42)!=0))
air.hittime = ceil(18*1+(root,var(42)!=0))
fall.recovertime = ceil(18*1+(root,var(42)!=0))
guard.hittime = 18
airguard.hittime = 18
ground.velocity = -5
air.velocity = -5,-2
fall = 0
forcenofall = 1
forcestand = 1
ground.cornerpush.veloff = 0
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(8483) = 1
triggerall = movehit = 1
trigger1 = Target(8483),alive=1
trigger1 = Target(8483),ishelper=0
trigger1 = Target(8483),stateno != [3745,3747]
value = 3745
ID = 8483
ignorehitpause = 1
persistent = 0
[State 0]
type = Pause
trigger1 = Name != "Maavo"
trigger2 = Authorname != "MaavoTheHuman"
time = 999
[State -2, Give 'em some Movehitoner]
type = VarSet
trigger1 = 1
var(21) = ifelse((movehit=1||projhit=1),var(21)+1,0)
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,win = 0
trigger1 = time = 90
value = S7275,1

[State 0, Explod]
type = Explod
triggerall = root,win = 0
trigger1 = time = 90
anim = 3003
ID = 3003
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0

[State 9900, end]
type = DestroySelf
triggerall = root,win = 0
trigger1 = time = 90

;---------------------------------------------------------------------------
;Ve, Maritza! Laugh 1
[StateDef 37424]
type = S
movetype= A
anim = 616
poweradd = 0
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8985,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8985,0

[State 0, ChangeState]
type = DestroySelf
trigger1 = time = 2

;---------------------------------------------------------------------------
;Ve, Maritza! Laugh 2
[StateDef 37425]
type = S
movetype= A
anim = 616
poweradd = 0
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8985,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8985,1

[State 0, ChangeState]
type = DestroySelf
trigger1 = time = 2

;---------------------------------------------------------------------------
;Ve, Maritza! Laugh 3
[StateDef 37426]
type = S
movetype= A
anim = 616
poweradd = 0
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8985,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8985,2

[State 0, ChangeState]
type = DestroySelf
trigger1 = time = 2

;---------------------------------------------------------------------------
;Ve, Maritza! Laugh 4
[StateDef 37427]
type = S
movetype= A
anim = 616
poweradd = 0
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8985,3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8985,3

[State 0, ChangeState]
type = DestroySelf
trigger1 = time = 2

;---------------------------------------------------------------------------
;Ve, Maritza! Laugh 5
[StateDef 37428]
type = S
movetype= A
anim = 616
poweradd = 0
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8985,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S8985,4

[State 0, ChangeState]
type = DestroySelf
trigger1 = time = 2

;---------------------------------------------------------------------------
; Ve, Maritza! - shaking from the hit
[Statedef 3745]
type    = U
movetype= H
physics = N
velset = 0,0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S       ;S,A,C,L
physics = S
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y < 0
statetype = A       ;S,A,C,L
physics = N
ignorehitpause = 1

[State 0, HitFallSet]
type = HitFallSet
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, VelAdd]
type = PosSet
trigger1 = statetype = S
y = 0

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim2
trigger1 = 1
value = 3745

[State 5000, 6]
type = ChangeState
trigger1 = HitShakeOver
value = 3746

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; Ve, Maritza! - sliding back
[Statedef 3746]
movetype= H

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S       ;S,A,C,L
physics = S
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y < 0
statetype = A       ;S,A,C,L
physics = N
ignorehitpause = 1

[State 0, HitFallSet]
type = HitFallSet
trigger1 = 1
value = 0
ignorehitpause = 1

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = .5
[State 0, VelAdd]
type = PosSet
trigger1 = statetype = S
y = 0
[State 0, VelAdd]
type = VelSet
trigger1 = statetype = S
y = 0

[State 5001, 3] ;Stop sliding back
type = VelMul
triggerall = statetype = S
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
triggerall = statetype = S
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
triggerall = statetype = S
trigger1 = HitOver
value = 1

[State 5001, 6]
type = ChangeState
triggerall = statetype = S
trigger1 = HitOver
value = 3747

;---------------------------------------------------------------------------
;Ve, Maritza! - crumple
[StateDef 3747]
type = S
movetype = H
physics = S
ctrl = 0
poweradd = 0
sprpriority = 0

[State 5001, 3] ;Stop sliding back
type = VelMul
trigger1 = Time >= GetHitVar(slidetime)
x = .6

[State 5001, 4]
type = VelSet
trigger1 = HitOver
x = 0

[State 5001, 5]
type = DefenceMulSet
trigger1 = HitOver
value = 1

[State 0, ChangeAnim]
type = ChangeAnim2
triggerall = !selfanimexist(5955)
trigger1 = time = 0
value = 5693
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = selfanimexist(5955)
trigger1 = time = 0
value = 5955
ignorehitpause = 1

[State 5110, 6]
type = PlaySnd
trigger1 = anim = 5693 && animtime = 0
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = anim = 5693 && animtime = 0
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5110, 12]
type = VarSet
trigger1 = Time = 0
sysvar(0) = 1

[State 0, SelfState]
type = SelfState
trigger1 = animtime = 0
value = ifelse(alive=0,5150,5110)
anim = ifelse(selfanimexist(5111),5111,5110)
ignorehitpause = 1
persistent = 1

;---------------------------------------------------------------------------
;Media Luna (L)
[Statedef 1400]
type    = S                    
movetype= A                  
physics = S                     
velset = 0,0                    
ctrl = 0                     
anim = 1400                       
poweradd = ceil(30*fvar(8))                   
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 4
x = 20
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 3
x = 2.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S240,4

[State 200, Voice]
type = PlaySnd
triggerall = var(16) != 20
trigger1 = animelem = 3
trigger1 = random <=700
value = S4200,6+random%2
channel = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "Trazo"
ID = 1400
stateno = 1402
pos = 25,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 0
supermovetime = 0

[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 1
trigger1 = random <=700
value = S2790,0
channel = 0

[State 1400, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Media Luna (M)
[Statedef 1401]
type    = S                    
movetype= A                  
physics = S                     
velset = 0,0                    
ctrl = 0                     
anim = 1401                       
poweradd = ceil(30*fvar(8))                    
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 4
x = 20
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 3
x = 2.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S240,4

[State 200, Voice]
type = PlaySnd
triggerall = var(16) != 20
trigger1 = animelem = 3
trigger1 = random <=700
value = S4200,6+random%2
channel = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
helpertype = normal ;player
name = "Trazo"
ID = 1401
stateno = 1402
pos = 25,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 0
supermovetime = 0

[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 1
trigger1 = random <=700
value = S2790,0
channel = 0

[State 1400, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Media Luna - La Luna (No la bonita)
[Statedef 1402]
type    = S                    
movetype= A                  
physics = N                      
ctrl = 0                     
anim = 1402                 
poweradd = 0                    
sprpriority = 3

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
length = 10
palinvertall = 0
palbright = 230,30,30
palcontrast = 220,20,20
palpostbright = 220,20,20
paladd = 25,5,5
palmul = .75,.25,.25
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 0, VarSet]
type = ParentVarSet
triggerall = parent,var(12) = 0
trigger1 = var(21) = 1
var(11) = (parent,var(11)+1)
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
triggerall = time
trigger1 = var(21) = 1
var(11) = (parent,var(11)+2)
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
triggerall = time
trigger1 = var(21) = 1
var(12) = 1
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
trigger1 = parent,var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,AP
time = -1
ignorehitpause = 1
[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AP
stateno = 1403
time = -1
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1400,0+random%4

[State 0, VelSet]
type = VelSet
trigger1 = !ishelper(1401)
x = 5
[State 0, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = ishelper(1401)
x = 1.5
[State 0, VelSet]
type = Veladd
triggerall = time > 12 && vel x < 8
trigger1 = ishelper(1401)
x = .25
[State 0, VelSet]
type = VelSet
trigger1 = vel x > 8
x = 8

[State 210, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, SP
damage = ceil((32*root,fvar(11))*ifelse(root,var(42),1.1,1)),ceil(32*.1)
getpower = ceil((120*root,fvar(4))*(1+root,var(42))),ceil(120*.5)
givepower = ceil((32*root,fvar(11))*.015),ceil(32*.005)
animtype = Light
guardflag = MA
hitflag = MAFP
priority = 3, Hit
pausetime = 0, 8
sparkno = S616                      ;Spark anim no (Def: set above)
sparkxy = -20,-75              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = S240,7                  ;Sound to play on hit
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(16+3*(root,var(42)!=0))
ground.hittime = ceil(16+3*(root,var(42)!=0))
air.hittime = ceil(16*1+(root,var(42)!=0))
fall.recovertime = ceil(16*1+(root,var(42)!=0))
guard.hittime = 12
airguard.hittime = 12
ground.velocity = -4
air.velocity = -1.4,-3
ground.cornerpush.veloff = 0

[State -2, Give 'em some Movehitoner]
type = VarSet
trigger1 = 1
var(21) = ifelse((movehit=1||projhit=1),var(21)+1,0)
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall = root,var(52) != 0
Trigger1 = WinKO
Trigger1 = RoundState>=3
trigger1 = movehit
Name = "No Music"
StateNo = 1995
ID = 1995
Pos = 0,0
PosType = Back
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 0, Helper]
type = Helper
trigger1 = movehit
helpertype = normal ;player
name = "Hit Spark"
ID = 14021
stateno = 14021
pos = 0,-65
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .70
size.yscale = .70
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1

[State 1400, end]
type = ChangeState
trigger1 = movecontact
trigger2 = frontedgebodydist <= -30
value = 1403

;---------------------------------------------------------------------------
;Media Luna - La Luna (Get Hit)
[Statedef 1403]
type    = S                    
movetype= A                  
physics = S                      
juggle  = 1                      
velset = 5,0                    
ctrl = 0                     
anim = 1402                 
poweradd = 0                    
sprpriority = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1 

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 6

[State 0, Trans]
type = Trans
trigger1 = time = [0,10]
trans = addalpha
alpha = 256-(time-0)*16,(time-0)*16

[State 1400, end (Again)]
type = DestroySelf
trigger1 = time = 10

;---------------------------------------------------------------------------
;Media Luna - Hit Spark
[StateDef 14021]
type = S
movetype= A
anim = 3001
poweradd = 0
sprpriority = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1 

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value = 120
ignorehitpause = 1

[State 0, ChangeState]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Escudo Trazado - Maavo
[Statedef 2200]
type = S
ctrl = 0
anim = 2200
velset = 0,0
movetype = I
poweradd = 0
physics = S
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 7
value = S1400,3

[State 0, Helper]
type = Helper
triggerall = !NumHelper(2201)
trigger1 = AnimElem = 10
helpertype = normal ;player
name = "Escudo"
ID = 2201
stateno = 2201
pos = 50,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
pausemovetime = 0
supermovetime = 0

[State 0, 2]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Escudo Trazado - Escudo (Trazado)
[Statedef 2201]
type = S
ctrl = 0
anim = 2201
velset = 0,0
movetype = I
poweradd = 0
physics = S
sprpriority = 2

[State 0, VarSet]
type = VarAdd
trigger1 = 1
var(0) = 1

[State 0, Helper]
type = Helper
triggerall = anim != 2202
trigger1 = numhelper(2203) = 0
helpertype = normal ;player
name = "CLSN"
ID = 2203
stateno = 2203
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
var(1) = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = anim != 2202
triggerall = root,movetype!=H && enemynear,movetype!=H
trigger1 = rootdist x < 0 && p2dist x > 0
trigger2 = rootdist x > 0 && p2dist x < 0
var(1) = 1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(0) < 150
trigger1 = var(1) = 0
value = 2201
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(0) < 150
trigger1 = var(1) != 0
value = 2211
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
[State 0, HitBy]
type = NotHitBy
trigger1 = var(1) = 0
value = SCA
time = 1
ignorehitpause = 1
[State 0, HitBy]
type = HitBy
trigger1 = var(1) != 0
value = SCA,AA,AP
time = 1
ignorehitpause = 1
[State 0, HitOverride]
type = ReversalDef
trigger1 = var(1)
reversal.attr = SCA,AA,AP
pausetime = 0,0
p1stateno = 2202
sparkno = 40
hitsound = S120, 0
numhits = 0
ignorehitpause = 1
[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2202
time = -1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 2202
trigger1 = var(0) >= 150
value = 2202
ignorehitpause = 1

[State 195, 2]
type = DestroySelf
triggerall = anim = 2202
trigger1 = Animtime = 0

;---------------------------------------------------------------------------
;Escudo Trazado - Escudo (Trazado)
[Statedef 2202]
type = S
ctrl = 0
anim = 2201
velset = 0,0
movetype = H
poweradd = 0
physics = S
sprpriority = 2

[State 0, VarSet]
type = VarAdd
trigger1 = 1
var(0) = 1

[State 0, Helper]
type = Helper
triggerall = anim != 2202
trigger1 = numhelper(2203) = 0
helpertype = normal ;player
name = "CLSN"
ID = 2203
stateno = 2203
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
var(1) = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = anim != 2202
triggerall = root,movetype!=H && enemynear,movetype!=H
trigger1 = rootdist x < 0 && p2dist x > 0
trigger2 = rootdist x > 0 && p2dist x < 0
var(1) = 1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(1) = 0
value = 2201
ignorehitpause = 1
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = var(1) != 0
value = 2211
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1
[State 0, HitBy]
type = NotHitBy
trigger1 = var(1) = 0
value = SCA
time = 1
ignorehitpause = 1
[State 0, HitOverride]
type = ReversalDef
trigger1 = var(1)
reversal.attr = SCA,AA,AP
pausetime = 0,0
p1stateno = 2202
sparkno = 40
hitsound = S120, 0
numhits = 0
ignorehitpause = 1
[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2202
time = -1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 3
value = 2201
ctrl = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;Escudo Trazado - Escudo (CLNS)
[Statedef 2203]
type = S
ctrl = 0
anim = 2201
velset = 0,0
movetype = I
poweradd = 0
physics = S
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
triggerall = parent, anim != 2202
trigger1 = parent,var(1)
value = 1
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
ignorehitpause = 1

[State 0, PosSet]
type = BindToParent
trigger1 = 1
time = -1
facing = 1
pos = 0,0
ignorehitpause = 1

[State 195, 2]
type = DestroySelf
trigger1 = root,numhelper(2201) = 0
trigger2 = parent, anim = 2202
ignorehitpause = 1

;---------------------------------------------------------------------------
;Estocada Veloz (L)
[Statedef 2210]
type    = S                    
movetype= A                  
physics = S                        
velset = vel x,0                    
ctrl = 0                     
anim = 2500                     
poweradd = ceil(60*fvar(8))                    
sprpriority = 2

[State 0, VelSet]
type = posadd
trigger1 = animelem = 3
x = 5

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+2)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = S240,5
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6
value = S240,4
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = S240,20
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) != 20
trigger1 = AnimElem = 2
value = S240,21
ignorehitpause = 1
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = AnimElem = 2
value = S424,0
ignorehitpause = 1
persistent = 0
[State 0, Helper]
type = Helper
trigger1 = AnimElem = 3
helpertype = normal ;player
name = "Trail"
ID = 2220
stateno = 2220
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 7
helpertype = normal ;player
name = "Trail"
ID = 2220
stateno = 2221
pos = 18,5
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 11
helpertype = normal ;player
name = "Trail"
ID = 2222
stateno = 2222
pos = -13,-7
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 210, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
damage = ceil((35*fvar(11))*ifelse(var(42),1.1,1)),ceil(35*.1)
getpower = ceil(((40*fvar(8))*fvar(8))*(1+var(42))),ceil((40*.5)*fvar(8))
givepower = ceil((50*fvar(11))*.015),ceil(50*.005)
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 2, 2
sparkno = S616
sparkxy = -20,-75 
hitsound = S240, 7
guardsound = 6, 0
ground.type = Low
ground.slidetime = ceil(18+3*(var(42)!=0))
ground.hittime = ceil(18+3*(var(42)!=0))
air.hittime = ceil(18*1+(var(42)!=0))
fall.recovertime = ceil(18*1+(var(42)!=0))
guard.hittime = 18
airguard.hittime = 18
ground.velocity = 0
air.velocity = -0,-1.5
air.fall = 1
kill = 0
guard.kill = 0
[State 210, 1]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
damage = ceil((35*fvar(11))*ifelse(var(42),1.1,1)),ceil(35*.1)
getpower = ceil(((40*fvar(8))*fvar(8))*(1+var(42))),ceil((40*.5)*fvar(8))
givepower = ceil((50*fvar(11))*.015),ceil(50*.005)
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 2, 2
sparkno = S616
sparkxy = -20,-75 
hitsound = S240, 7
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(18+3*(var(42)!=0))
ground.hittime = ceil(18+3*(var(42)!=0))
air.hittime = ceil(18*1+(var(42)!=0))
fall.recovertime = ceil(18*1+(var(42)!=0))
guard.hittime = 18
airguard.hittime = 18
ground.velocity = 0
air.velocity = -0,-1.5
air.fall = 1
kill = 0
guard.kill = 0
[State 210, 1]
type = HitDef
trigger1 = AnimElem = 11
attr = S, SA
damage = ceil((35*fvar(11))*ifelse(var(42),1.1,1)),ceil(35*.1)
getpower = ceil(((40*fvar(8))*fvar(8))*(1+var(42))),ceil((40*.5)*fvar(8))
givepower = ceil((50*fvar(11))*.015),ceil(50*.005)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 10, 10
sparkno = S616
sparkxy = -20,-75 
hitsound = S240, 8
guardsound = 6, 0
ground.type = Low
ground.slidetime = ceil(22+3*(var(42)!=0))
ground.hittime = ceil(22+3*(var(42)!=0))
air.hittime = ceil(22*1+(var(42)!=0))
fall.recovertime = ceil(22*1+(var(42)!=0))
guard.hittime = 18
airguard.hittime = 18
ground.velocity = -5.5
air.velocity = -5.5,-2.5
air.fall = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(11) > 0
trigger1 = movecontact || movereversed
trigger2 = animelem = 12
movetype = I        ;I,A,H
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(3) >= 0 && animelemtime(6) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 22101
stateno = 22103
pos = 60,-65
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .60
size.yscale = .60
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(7) >= 0 && animelemtime(10) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 22101
stateno = 22102
pos = 60,-85
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = .60
size.yscale = .60
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(11) >= 0 && animelemtime(14) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 22101
stateno = 22101
pos = 60,-45
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .60
size.yscale = .60
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 1400, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Estocada Veloz (M)
[Statedef 2211]
type    = S                    
movetype= A                  
physics = S                        
velset = vel x,0                    
ctrl = 0                     
anim = 2510                     
poweradd = ceil(60*fvar(8))                    
sprpriority = 2

[State 0, VelSet]
type = posadd
trigger1 = animelem = 3
x = 15

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+2)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
value = S240,5
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 10
value = S240,4
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 14
value = S240,20
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) != 20
trigger1 = AnimElem = 2
value = S240,21
ignorehitpause = 1
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = AnimElem = 2
value = S424,0
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 3
trigger2 = AnimElem = 15
helpertype = normal ;player
name = "Trail"
ID = 2220
stateno = 2220
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 7
helpertype = normal ;player
name = "Trail"
ID = 2220
stateno = 2221
pos = 18,5
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 11
helpertype = normal ;player
name = "Trail"
ID = 2222
stateno = 2222
pos = -13,-7
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 210, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
attr = S, SA
damage = ceil((35*fvar(11))*ifelse(var(42),1.1,1)),ceil(35*.1)
getpower = ceil(((30*fvar(8))*fvar(8))*(1+var(42))),ceil((30*.5)*fvar(8))
givepower = ceil((50*fvar(11))*.015),ceil(50*.005)
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 2, 2
sparkno = S616
sparkxy = -20,-75 
hitsound = S240, 7
guardsound = 6, 0
ground.type = Low
ground.slidetime = ceil(18+3*(var(42)!=0))
ground.hittime = ceil(18+3*(var(42)!=0))
air.hittime = ceil(18*1+(var(42)!=0))
fall.recovertime = ceil(18*1+(var(42)!=0))
guard.hittime = 18
airguard.hittime = 18
ground.velocity = 0
air.velocity = -0,-1.5
air.fall = 1
kill = 0
guard.kill = 0
[State 210, 1]
type = HitDef
trigger1 = AnimElem = 7
attr = S, SA
damage = ceil((35*fvar(11))*ifelse(var(42),1.1,1)),ceil(35*.1)
getpower = ceil(((30*fvar(8))*fvar(8))*(1+var(42))),ceil((30*.5)*fvar(8))
givepower = ceil((50*fvar(11))*.015),ceil(50*.005)
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 2, 2
sparkno = S616
sparkxy = -20,-75 
hitsound = S240, 7
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(18+3*(var(42)!=0))
ground.hittime = ceil(18+3*(var(42)!=0))
air.hittime = ceil(18*1+(var(42)!=0))
fall.recovertime = ceil(18*1+(var(42)!=0))
guard.hittime = 18
airguard.hittime = 18
ground.velocity = 0
air.velocity = -0,-1.5
air.fall = 1
kill = 0
guard.kill = 0
[State 210, 1]
type = HitDef
trigger1 = AnimElem = 15
attr = S, SA
damage = ceil((35*fvar(11))*ifelse(var(42),1.1,1)),ceil(35*.1)
getpower = ceil(((30*fvar(8))*fvar(8))*(1+var(42))),ceil((30*.5)*fvar(8))
givepower = ceil((50*fvar(11))*.015),ceil(50*.005)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = 10, 10
sparkno = S616
sparkxy = -20,-75 
hitsound = S240, 8
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(22+3*(var(42)!=0))
ground.hittime = ceil(22+3*(var(42)!=0))
air.hittime = ceil(22*1+(var(42)!=0))
fall.recovertime = ceil(22*1+(var(42)!=0))
guard.hittime = 18
airguard.hittime = 18
ground.velocity = -7.5
air.velocity = -6.5,-2.5
air.fall = 1
airguard.hittime = 18

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(15) > 0
trigger1 = movecontact || movereversed
trigger2 = animelem = 16
movetype = I        ;I,A,H
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(3) >= 0 && animelemtime(6) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 22101
stateno = 22103
pos = 60,-65
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .60
size.yscale = .60
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(7) >= 0 && animelemtime(10) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 22101
stateno = 22102
pos = 60,-85
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = .60
size.yscale = .60
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(11) >= 0 && animelemtime(14) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 22101
stateno = 22101
pos = 60,-45
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .60
size.yscale = .60
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(15) >= 0 && animelemtime(16) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 22101
stateno = 22103
pos = 60,-65
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .60
size.yscale = .60
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 1400, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Estocada Veloz (H)
[Statedef 2212]
type    = S                    
movetype= A                  
physics = S                        
velset = vel x+3,0                    
ctrl = 0                     
anim = 2520                    
poweradd = -500                    
sprpriority = 2

[State 0, VarSet]
type = VarSet
triggerall = time = 0
trigger1 = var(8) < 180
var(8) = 180
ignorehitpause = 1

[State 1220, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
PalAdd      = -10,-10,-10
PalMul      = .85,.85,.50
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 2

[State 1220, Afterimage]
type = AfterImageTime
trigger1 = 1
time = 2

[State 1220, Blink Yellow]
type = PalFX
trigger1 = Time = 0
time = 20
add = 32,16,0
sinadd = 64,32,5,3

[State 0, VelSet]
type = posadd
trigger1 = animelem = 3
x = 15
[State 0, VelSet]
type = posadd
trigger1 = animelem = 7
trigger2 = animelem = 11
trigger3 = animelem = 15
trigger4 = animelem = 19
x = 5

[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+2)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
trigger3 = AnimElem = 10
value = S240,5
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 14
value = S240,4
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 18
value = S240,20
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) != 20
trigger1 = AnimElem = 2
value = S240,21
ignorehitpause = 1
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = AnimElem = 2
value = S424,0
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 3
trigger2 = AnimElem = 15
helpertype = normal ;player
name = "Trail"
ID = 2220
stateno = 2220
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 7
trigger2 = AnimElem = 19
helpertype = normal ;player
name = "Trail"
ID = 2220
stateno = 2221
pos = 18,5
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 11
helpertype = normal ;player
name = "Trail"
ID = 2222
stateno = 2222
pos = -13,-7
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 210, 1]
type = HitDef
trigger1 = AnimElem = 3
trigger2 = AnimElem = 11
attr = S, SA
damage = ceil((35*fvar(11))*ifelse(var(42),1.1,1)),ceil(35*.1)
getpower = 0,0
givepower = ceil((50*fvar(11))*.015),ceil(50*.005)
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 2, 2
sparkno = S616
sparkxy = -20,-75 
hitsound = S240, 7
guardsound = 6, 0
ground.type = Low
ground.slidetime = ceil(18+3*(var(42)!=0))
ground.hittime = ceil(18+3*(var(42)!=0))
air.hittime = ceil(18*1+(var(42)!=0))
fall.recovertime = ceil(18*1+(var(42)!=0))
guard.hittime = 18
airguard.hittime = 18
ground.velocity = -1
air.velocity = -1,-1.5
air.fall = 1
kill = 0
guard.kill = 0
[State 210, 1]
type = HitDef
trigger1 = AnimElem = 7
trigger2 = AnimElem = 15
attr = S, SA
damage = ceil((35*fvar(11))*ifelse(var(42),1.1,1)),ceil(35*.1)
getpower = 0,0
givepower = ceil((50*fvar(11))*.015),ceil(50*.005)
animtype = Medium
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 2, 2
sparkno = S616
sparkxy = -20,-75 
hitsound = S240, 7
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(18+3*(var(42)!=0))
ground.hittime = ceil(18+3*(var(42)!=0))
air.hittime = ceil(18*1+(var(42)!=0))
fall.recovertime = ceil(18*1+(var(42)!=0))
guard.hittime = 18
airguard.hittime = 18
ground.velocity = -1
air.velocity = -1,-1.5
air.fall = 1
kill = 0
guard.kill = 0
[State 210, 1]
type = HitDef
trigger1 = AnimElem = 19
attr = S, SA
ID = 2200
damage = ceil((45*fvar(11))*ifelse(var(42),1.1,1)),ceil(45*.1)
getpower = 0,0
givepower = ceil((50*fvar(11))*.015),ceil(50*.005)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 6, Hit
pausetime = 10, 10
sparkno = S616
sparkxy = -20,-75 
hitsound = S240, 8
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(22+3*(var(42)!=0))
ground.hittime = ceil(22+3*(var(42)!=0))
air.hittime = ceil(22*1+(var(42)!=0))
fall.recovertime = ceil(22*1+(var(42)!=0))
guard.hittime = 18
airguard.hittime = 18
ground.velocity = -4.5,-4.5
air.velocity = -4.5,-4.5
fall = 1
fall.recover = 0
airguard.hittime = 18
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(2200) = 1
triggerall = movehit = 1
trigger1 = Target(2200),statetype = A || Target(2200),hitfall
trigger1 = Target(2200),ishelper=0
trigger1 = Target(2200),stateno != [925,926]
value = 925
ID = 2200
ignorehitpause = 1
persistent = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelemtime(19) > 0
trigger1 = movecontact || movereversed
trigger2 = animelem = 20
movetype = I        ;I,A,H
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(3) >= 0 && animelemtime(6) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 22101
stateno = 22103
pos = 60,-65
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .60
size.yscale = .60
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(7) >= 0 && animelemtime(10) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 22101
stateno = 22102
pos = 60,-85
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = .60
size.yscale = .60
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(11) >= 0 && animelemtime(14) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 22101
stateno = 22101
pos = 60,-45
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .60
size.yscale = .60
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(15) >= 0 && animelemtime(16) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 22101
stateno = 22103
pos = 60,-65
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .60
size.yscale = .60
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 0, Helper]
type = Helper
trigger1 = movehit = 1 && animelemtime(19) >= 0 && animelemtime(20) < 0
helpertype = normal ;player
name = "Hit Spark"
ID = 22101
stateno = 22102
pos = 60,-85
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = .60
size.yscale = .60
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1
persistent = 0

[State 1400, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Boomerang (L) - Lanzando
[Statedef 2100]
type = S
ctrl = 0
anim = 2100
velset = 0,0
movetype = A
poweradd = ceil(30*fvar(8))
physics = S
sprpriority = 4

[State 100, Dash Effect]
type = Explod
trigger1 = AnimElem = 4
anim = 3233
scale = 0.5,0.5
postype = p1
pos = 10,5
sprpriority = 5
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2100,0

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) != 20
trigger1 = animelem = 4
value = S2100,2

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 6
helpertype = normal ;player
name = "Lapiz"
ID = 2101
stateno = 2102
pos = 25,-60
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 0
supermovetime = 0
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = animelem = 4
value = S424,2
[State 2100, 2]
type = ChangeState
triggerall = animelemtime(6)>=0
trigger1 = NumHelper(2101)
trigger1 = helper(2101), stateno != 2102
trigger2 = !NumHelper(2101)
value = 2101
ctrl = 0

;---------------------------------------------------------------------------
;Boomerang (M) - Lanzando
[Statedef 2110]
type = S
ctrl = 0
anim = 2110
velset = 0,0
movetype = A
poweradd = ceil(30*fvar(8))
physics = S
sprpriority = 4

[State 100, Dash Effect]
type = Explod
trigger1 = AnimElem = 4
anim = 3233
scale = 0.5,0.5
postype = p1
pos = 10,5
sprpriority = 5
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S2100,0

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) != 20
trigger1 = animelem = 4
value = S2100,2

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 6
helpertype = normal ;player
name = "Lapiz"
ID = 2102
stateno = 2102
pos = 25,-60
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
pausemovetime = 0
supermovetime = 0
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = animelem = 4
value = S424,2
[State 2100, 2]
type = ChangeState
triggerall = animelemtime(6)>=0
trigger1 = NumHelper(2102)
trigger1 = helper(2102), stateno != 2102
trigger2 = !NumHelper(2102)
value = 2101
ctrl = 0

;---------------------------------------------------------------------------
;Boomerang - Agarrando
[Statedef 2101]
type = S
ctrl = 0
anim = 2101
velset = 0,0
movetype = I
poweradd = 0
physics = S
sprpriority = 4

[State 2100, 2]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Boomerang - Lapiz
[Statedef 2102]
type = S
ctrl = 0
anim = 2102
velset = 0,0
movetype = A
poweradd = 0
physics = N
sprpriority = 6

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
var(0) = 1
ignorehitpause = 0

[State 0, VarSet]
type = ParentVarSet
triggerall = parent,var(12) = 0
trigger1 = var(21) = 1
var(11) = (parent,var(11)+1)
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
triggerall = time
trigger1 = var(21) = 1
var(11) = (parent,var(11)+2)
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
triggerall = time
trigger1 = var(21) = 1
var(12) = 1
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
trigger1 = parent,var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = SCA,AP
time = -1
ignorehitpause = 1
[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AP
stateno = 2104
time = -1
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1100, 3]
type = AngleDraw
Trigger1 = 1
value = 18*var(0)
ignorehitpause = 1
[State 0]
type = Pause
trigger1 = Name != "Maavo"
trigger2 = Authorname != "MaavoTheHuman"
time = 999
[State 0, Offset]
type = Offset
trigger1 = ishelper(2101)
y = 95*pi*sin(pi*var(0)/22.0)/44.0
ignorehitpause = 1
[State 0, Offset]
type = Offset
trigger1 = ishelper(2102)
y = 125*pi*sin(pi*var(0)/22.0)/54.0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = prevstateno != 2102
trigger1 = time = 0
value = s2100,1
channel = 2

[State 0, VelSet]
type = VelSet
trigger1 = ishelper(2101)
x = 12.5
ignorehitpause = 1
persistent = 0
[State 0, VelSet]
type = VelSet
trigger1 = ishelper(2102)
x = 20.5
ignorehitpause = 1
persistent = 0

[State 0, VelMul]
type = VelMul
triggerall = var(0) > 6
trigger1 = vel x > 2.5
x = .8
[State 0, VelAdd]
type = VelAdd
triggerall = var(0) > 6
trigger1 = vel x <= 2.5 && vel x > -12
x = -.75

[State 210, 1]
type = HitDef
triggerall = vel x > 2.5
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, SP
damage = ceil((55*root,fvar(11))*ifelse(root,var(42),1.1,1)),ceil(55*.1)
getpower = ceil((60*root,fvar(4))*(1+root,var(42))),ceil(60*.5)
givepower = ceil((55*root,fvar(11))*.015),ceil(55*.005)
animtype = Medium
guardflag = MA
hitflag = MAFP
priority = 4, Hit
pausetime = 0, 4
sparkno = S3000
sparkxy = -28,5
hitsound = S210, 2
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(25+3*(root,var(42)!=0))
ground.hittime = ceil(25+3*(root,var(42)!=0))
air.hittime = ceil(25*1+(root,var(42)!=0))
fall.recovertime = ceil(25*1+(root,var(42)!=0))
air.fall = 1
guard.hittime = 25
airguard.hittime = 25 
ground.velocity = -ifelse(ishelper(2102),9.5,7.5)
air.velocity = -ifelse(ishelper(2102),3.5,2.5),-5
ground.cornerpush.veloff = 0
[State 0, Helper]
type = Helper
triggerall = root,var(52) != 0
Trigger1 = WinKO
Trigger1 = RoundState>=3
trigger1 = movehit
Name = "No Music"
StateNo = 1995
ID = 1995
Pos = 0,0
PosType = Back
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
PauseMoveTime = 9999
SuperMoveTime = 9999
[State 0, VarAdd]
type = VarSet
triggerall = vel x <= 2.5
triggerall = var(1)=0
trigger1 = movecontact || movereversed
var(1) = 8
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
triggerall = vel x <= 2.5
trigger1 = var(1) = 8
var(2) = 1
ignorehitpause = 1
[State 0, VarAdd]
type = VarAdd
trigger1 = var(1)>0
var(1) = -1

[State 210, 1]
type = HitDef
triggerall = vel x <= 2.5
trigger1 = var(1)=0 && var(2)<2
attr = S, SP
damage = ceil((55*root,fvar(11))*ifelse(root,var(42),1.1,1)),ceil(55*.1)
getpower = ceil((60*root,fvar(4))*(1+root,var(42))),ceil(60*.5)
givepower = ceil((55*root,fvar(11))*.015),ceil(55*.005)
animtype = Heavy
guardflag = MA
hitflag = MAFP
priority = 4, Hit
pausetime = 0, 4
sparkno = S3000
sparkxy = -28,-15
hitsound = S210, 2
guardsound = 6, 0
ground.type = Trip
ground.slidetime = ceil(22+3*(root,var(42)!=0))
ground.hittime = ceil(22+3*(root,var(42)!=0))
air.hittime = ceil(22*1+(root,var(42)!=0))
fall.recovertime = ceil(22*1+(root,var(42)!=0))
fall = 1
guard.hittime = 16
airguard.hittime = 16 
ground.velocity = ifelse(ishelper(2102),5.5,4),-6
air.velocity = ifelse(ishelper(2102),5.5,4),-5
ground.cornerpush.veloff = 0

[State -2, Give 'em some Movehitoner]
type = VarSet
trigger1 = 1
var(21) = ifelse((movehit=1||projhit=1),var(21)+1,0)
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
triggerall = vel x < 0
trigger1 = rootdist x >= -28 && (root, stateno = 2100 || root, stateno = 2110)
value = 2103
ctrl = 0
ignorehitpause = 1
[State 0, ChangeState]
type = ChangeState
trigger1 = backedgebodydist <= -35
value = 2104
ctrl = 0
ignorehitpause = 1

;---------------------------------------------------------------------------
;Boomerang - Lapiz (caught)
[Statedef 2103]
type = S
ctrl = 0
anim = 616
velset = 0,0
movetype = I
poweradd = 0
physics = S

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2100,4
channel = 2
ignorehitpause = 1

[state 490,3]
type = destroyself
trigger1 = time = 1

;---------------------------------------------------------------------------
;Boomerang - Lapiz (destroyed)
[Statedef 2104]
type = S
ctrl = 0
anim = 616
velset = 0,0
movetype = I
poweradd = 0
physics = S

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 2

[state 490,3]
type = destroyself
trigger1 = time = 1
;---------------------------------------------------------------------------
;Bombastic - Dibujando y agarrando
[Statedef 1720]
type    = S                    
movetype= A                  
physics = S                      
juggle  = 1                      
velset = 0,0                    
ctrl = 0                     
anim = 1720                     
poweradd = 0                    
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 2
helpertype = normal ;player
name = "Bomba"
ID = 1721
stateno = 1721
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
scale = .4,.4
pausemovetime = 99999
supermovetime = 99999

[State 1400, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Bombastic - Lanzando (Adelante)
[Statedef 17201]
type    = S                    
movetype= A                  
physics = S                      
juggle  = 1                      
velset = 0,0                    
ctrl = 0                     
anim = 200                     
poweradd = 0                    
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 54
value = 0

[State 1400, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Bombastic - Bomba (Start)
[Statedef 1721]
type    = S                                   
physics = S                                                           
anim = 1721                                      
sprpriority = 7

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 54
value = 1

[State 1400, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 1722

;---------------------------------------------------------------------------
;Bombastic - Bomba
[Statedef 1722]
type    = S                                   
physics = S                                                                                              
sprpriority = 7

[State a]
type = BindtoRoot
trigger1 = 1 ;Dejalo asi por ahora
time = -1
facing = 1
pos = 0,0 ;se cuentan desde el root

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent, stateno = 0
value = 17210

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent, stateno = 10
value = 172110

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent, stateno = 11
value = 172111

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent, stateno = 12
value = 172110

[State 1400, end]
type = ChangeState
trigger1 = parent, stateno = 200
value = 1723

;---------------------------------------------------------------------------
;Bombastic - Bomba
[Statedef 1723]
type    = S                                   
physics = S 
anim = 17218                                                                                                    
sprpriority = 7

[State 220, 1]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 40, 13
animtype = Hard
guardflag = MA
hitflag = MAF
priority = 3, Hit
pausetime = 12, 12
sparkno = S616
sparkxy = -20,-75
hitsound =  S9997, 15
guardsound = 6, 0
ground.type = Low
ground.slidetime = 14
ground.hittime  = 17
ground.velocity = -5,-7
air.velocity = -5,-7
fall = 1
envshake.time = 5
envshake.ampl = -2
envshake.freq = 100

;---------------------------------------------------------------------------
;Hyper - Air Juggle (Intro)
[Statedef 19000]
type = S
movetype = A
physics = S
ctrl = 0
velset = vel x,0
anim = 190001
facep2=1
poweradd = 0
sprpriority = 2
ctrl = 0

[State 0, VarSet]
type = VarSet
triggerall = animelem = 3
trigger1 = var(8) < 240
var(8) = 240
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(9) != [1,2]
var(9) = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = S1342,0 + (var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = S1342,0 + (var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 2
trigger1 = Animelem = 4
value = S1342,20000

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 2
trigger1 = Animelem = 4
value = S1342,20000

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = Animelem = 4
value = S3440,0

[State 19001, 1]
type = Explod
trigger1 = AnimElem = 3
id = 190011
anim = 190011 + (var(16) * 10000)
pos = 0,0
postype = p1
sprpriority = 3
removeongethit = 1
bindtime = -1
removetime=28
scale = .4,.4
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 6
id = 190011
;ignorehitpause = 
;persistent = 

[State 19001, 1]
type = Explod
trigger1 = animelem = 3
id = 3232
anim = 711
pos = 0,0
postype = back
sprpriority = -8
removeongethit = 1
removetime=-1
scale = .5,2
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0
y = 0
ignorehitpause = 1

[State 3003, SuperPause]
type = SuperPause
trigger1 = animelem = 3
time = 26
movetime = 26
anim = -1
sound = -1
darken = 0
poweradd = -1000
unhittable = 1
p2defmul = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = facing = 1
name = "Hyper Portrait"
ID = 11000
stateno = 11000
pos = -190,-floor(floor(screenpos y))-120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30
;ignorehitpause =
;persistent =

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
name = "Hyper Portrait"
ID = 11002
stateno = 11002
pos = 190,-floor(screenpos y)
postype = right ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = facing = 1
name = "Hyper Portrait"
ID = 11001
stateno = 11001
pos = -190,-floor(floor(screenpos y))-120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30
;ignorehitpause =
;persistent =

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = facing = -1
name = "Hyper Portrait"
ID = 11000
stateno = 11000
pos = 190,-floor(screenpos y)
postype = right ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = facing = -1
name = "Hyper Portrait"
ID = 11001
stateno = 11001
pos = 190,-floor(screenpos y)
postype = right ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30

[State 19000, end]
type = ChangeState
triggerall = var(9) <= 1
trigger1 = AnimTime = 0
value = 190001
ctrl = 0
[State 19000, end]
type = ChangeState
triggerall = var(9) >= 2
trigger1 = AnimTime = 0
value = 190002
ctrl = 0

;---------------------------------------------------------------------------
;Hyper - Air Juggle (Air - Intro)
[Statedef 190000]
type = A
movetype = A
physics = N
ctrl = 0
anim = 190001
poweradd = 0
sprpriority = 2
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(9) != [1,2]
var(9) = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 4
value = S1342,0 + (var(16) * 10000)

[State 19001, 1]
type = Explod
trigger1 = AnimElem = 3
id = 190011
anim = 190011 + (var(16) * 10000)
pos = 0,0
postype = p1
sprpriority = 3
removeongethit = 1
bindtime = -1
removetime=28
scale = .4,.4
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = animelem = 6
id = 190011
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = Animelem = 4
value = S3440,0
[State 19001, 1]
type = Explod
trigger1 = animelem = 3
id = 3232
anim = 711
pos = 0,0
postype = back
sprpriority = -8
removeongethit = 1
removetime=-1
scale = .5,2
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, VelMul]
type = VelMul
trigger1 = animelemtime(3) < 0
x = .83
y = .83
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y > -15
y = -15
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 0
y = 0
ignorehitpause = 1

[State 3003, SuperPause]
type = SuperPause
trigger1 = animelem = 3
time = 26
movetime = 26
anim = -1
sound = -1
darken = 0
poweradd = -1000
unhittable = 1
p2defmul = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = facing = 1
name = "Hyper Portrait"
ID = 11000
stateno = 11000
pos = -190,-floor(floor(screenpos y))-120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30
;ignorehitpause =
;persistent =

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = facing = 1
name = "Hyper Portrait"
ID = 11001
stateno = 11001
pos = -190,-floor(floor(screenpos y))-120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30
;ignorehitpause =
;persistent =

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
name = "Hyper Portrait"
ID = 11002
stateno = 11002
pos = 0,0
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = facing = -1
name = "Hyper Portrait"
ID = 11000
stateno = 11000
pos = 190,-floor(screenpos y)
postype = right ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30

[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = facing = -1
name = "Hyper Portrait"
ID = 11001
stateno = 11001
pos = 190,-floor(screenpos y)
postype = right ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30

[State 19000, end]
type = ChangeState
triggerall = var(9) <= 1
trigger1 = AnimTime = 0
value = 190001
ctrl = 0
[State 19000, end]
type = ChangeState
triggerall = var(9) >= 2
trigger1 = AnimTime = 0
value = 190002
ctrl = 0

;---------------------------------------------------------------------------
;Hyper - Air Juggle (DP!)
[StateDef 190001]
type = U
movetype= A
physics = N
velset = 8.5,0
ctrl = 0
anim = 190003
poweradd = 0
sprpriority = 2
ctrl = 0

[State 0, Null]
type = Null
triggerall = var(12) = 0 && var(21) = 1
trigger1 = (var(11):=(var(11)+1)) || 1
ignorehitpause = 1
persistent = 0
[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+2)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 2
ignorehitpause = 1
[State 0]
type = Pause
trigger1 = Name != "Maavo"
trigger2 = Authorname != "MaavoTheHuman"
time = 999
[State 0, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 190000
value = SCA
time = 3
ignorehitpause = 1
persistent = 0
[State 0, NotHitBy]
type = NotHitBy
trigger1 = var(9) = 3
value = SCA
time = 2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 190003
trigger1 = animelem = 2
value = S240,3

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 190003
trigger1 = animelem = 2
value = S900,0

[State 100, Land Effect]
type = Explod
triggerall = anim = 190003
trigger1 = animelem = 2
trigger1 = statetype = S
anim = 32851
scale = 0.6,0.6
postype = p1
pos = 0,15
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 100, Land Effect]
type = Explod
triggerall = anim = 190003
trigger1 = animelem = 2
trigger1 = statetype = S
anim = 32849
scale = 0.3,0.3
postype = p1
pos = 0,15
sprpriority = -5
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 0, StateTypeSet]
type = StateTypeSet
triggerall = anim = 190003
trigger1 = animelem = 2
statetype = A       ;S,A,C,L
ignorehitpause = 1

[State 1507, velset ]
type = velmul
triggerall = anim = 190003
trigger1 = animelemtime(2) < 0
x = .83
[State 1507, velset ]
type = veladd
triggerall = anim = 190003
trigger1 = animelemtime(2) >= 0
y = .55

[State 1507, velset ]
type = velmul
triggerall = anim = 190003
trigger1 = animelem = 3
x = .5
y = .5

[State 0, VelSet]
type = VelSet
triggerall = anim = 190003
trigger1 = animelem = 2
x = 4
y = -14.5
ignorehitpause = 1

[State 210, 1]
type = HitDef
triggerall = anim = 190003
triggerall = animelemtime(2) < 0
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, HA
id = 19000
damage = ceil((120*fvar(11))*ifelse(var(42),1.1,1)),ceil(120*.1)
getpower = 0,0
givepower = ceil((120*fvar(11))*.015),ceil(120*.005)
animtype = Heavy
fall.animtype = up
guardflag = M
hitflag = MAF
priority = 7, Hit
pausetime = 22, 22
sparkno = S3000
sparkxy = -20,-45 
hitsound = S240, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = 22+(3*var(42))
ground.hittime  = 22+(3*var(42))
air.hittime = 22*(1+var(42))
fall.recovertime = 22*(1+var(42))
ground.velocity = -3,-9.25
air.velocity = -3,-9.25
yaccel = .5
fall = 1;0
fall.recover = 0
;forcenofall = 1
forcestand = 1
snap = 35,0
kill = 0
guard.kill = 0
[State 210, 1]
type = HitDef
triggerall = anim = 190003
triggerall = animelemtime(2) >= 0
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, HA
id = 19000
damage = ceil((120*fvar(11))*ifelse(var(42),1.1,1)),ceil(120*.1)
getpower = 0,0
givepower = ceil((120*fvar(11))*.015),ceil(120*.005)
animtype = Heavy
fall.animtype = up
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 22, 22
sparkno = S3000
sparkxy = -20,-45 
hitsound = S240, 15
guardsound = 6, 0
ground.type = High
ground.slidetime = 22+(3*var(42))
ground.hittime  = 22+(3*var(42))
air.hittime = 22*(1+var(42))
fall.recovertime = 22*(1+var(42))
ground.velocity = -3,-9.25
air.velocity = -3,-9.25
yaccel = .5
fall = 1;0
fall.recover = 0
;forcenofall = 1
forcestand = 1
snap = 35,0
kill = 0
guard.kill = 0
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(19000) = 1
triggerall = movehit = 1
trigger1 = Target(19000),ishelper=0
trigger1 = Target(19000),stateno != [925,926]
value = 925
ID = 19000
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
triggerall = movehit
trigger1 = time >= 18
value = 19001
ctrl = 0
ignorehitpause = 1

[State 450, 5]
type = ChangeAnim
triggerall = vel y > 0
trigger1 = Pos Y >= -vel y
value = 1091

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = moveguarded
trigger2 = movehit = 0
trigger2 = anim = 190003 && animelem = 3
movetype = I        ;I,A,H
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1091
statetype = S
movetype = I        ;I,A,H
physics = S
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1091
value = S50,1
persistent = 0

[State 0, StopSnd]
type = StopSnd
trigger1 = anim = 1091
channel = 6
persistent = 0

[State 52, 1]
type = VelSet
trigger1 = anim = 1091
y = 0

[State 100, Land Effect]
type = Explod
trigger1 = anim = 1091
anim = 32849
scale = 0.3,0.3
postype = p1
pos = 0,5
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 52, 2]
type = PosSet
trigger1 = anim = 1091
y = 0

[State 195, 2]
type = ChangeState
triggerall = anim = 1091
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Hyper - Air Juggle (Dash)
[StateDef 190002]
type = U
movetype= A
physics = N
velset = 35,0
ctrl = 0
anim = 190002
poweradd = 0
sprpriority = 2
ctrl = 0

[State 100, Strong Dash FX]
type = Explod
trigger1 = time = 0
anim = 3246
scale = 0.3,0.3
postype = p1
pos = 15,3
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S19100,3

[State 1507, velset ]
type = velmul
trigger1 = time
x = .83

[State 11900, end]
type = ChangeState
trigger1 = time = 5
value = 190001


;---------------------------------------------------------------------------
;Hyper - Air Juggle (10 Hits combo!)
[StateDef 19001]
type = A
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 190005
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 10
id = 3232
;ignorehitpause = 
;persistent = 

[State 0, PosSet]
type = PosSet
triggerall = NumTarget(19000)
trigger1 = time = 0
x = (Target(19000),pos x)-(45*facing)
y = (Target(19000),pos y)
ignorehitpause = 1
[State 0, PosSet]
type = PosSet
triggerall = NumTarget(19000) = 0
triggerall = Numenemy
trigger1 = time = 0
trigger2 = AnimElem = 5 || AnimElem = 8 || AnimElem =  11
trigger3 = AnimElem = 14 || AnimElem = 16 || AnimElem = 19
trigger4 = AnimElem = 23 || AnimElem = 27
x = (enemynear,pos x)-(45*facing)
y = (enemynear,pos y)
ignorehitpause = 1
[State 0, PosSet]
type = PosSet
triggerall = Numenemy = 0
trigger1 = time = 0
trigger2 = AnimElem = 5 || AnimElem = 8 || AnimElem =  11
trigger3 = AnimElem = 14 || AnimElem = 16 || AnimElem = 19
trigger4 = AnimElem = 23 || AnimElem = 27
x = 0-(45*facing)
y = -100
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = winko
var(39) = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 611
anim = 611
pos = 0+ (var(17) * -110),0+ (var(17) * -25)
postype = back
sprpriority = -6
removeongethit = 1
removetime=200
scale = .5+(var(17) * .3),.5+ (var(17) * .4)
supermovetime=200
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, Helper]
type = Helper
trigger1 = numhelper(911) = 0
trigger1 = Animelem = 29
Name = "SSBU K.O. Screen"
StateNo = 611
ID = 911
Pos = 0,0
PosType = Back
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 0, Width]
type = Width
trigger1 = animelemtime(2) >= 0
edge = 105,0
ignorehitpause = 1
;persistent = 

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger2 = AnimElem = 16
var(29) = 0
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = AnimElem = 8
trigger2 = AnimElem = 23
var(29) = 1
ignorehitpause = 1

[State 0, Null]
type = VarAdd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6 || AnimElem = 9 || AnimElem = 12
trigger3 = AnimElem = 15 || AnimElem = 21 || AnimElem = 18
trigger4 = AnimElem = 25 || AnimElem = 29
var(11) = 1
ignorehitpause = 1

[State 210, 1]
type = HitDef
trigger1 = AnimElem =  2 || AnimElem = 9
trigger2 = AnimElem = 15 || AnimElem = 21
attr = S, HA
id = 19000
damage = ceil((50*fvar(11))*ifelse(var(42),1.1,1)),ceil(50*.1)
getpower = 0,0
givepower = ceil((50*fvar(11))*.015),ceil(50*.005)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 0, 22
sparkno = S616
sparkxy = -20,-45 
hitsound = -1
guardsound = 6, 0
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
air.hittime = 22
fall.recovertime = 22
ground.velocity = 0,0
air.velocity = 0,0
yaccel = .5
p2facing = 1
fall = 1;0
fall.recover = 0
;forcenofall = 1
forcestand = 1
snap = 55,0
kill = 0
guard.kill = 0
[State 210, 1]
type = HitDef
trigger1 = AnimElem =  6 || AnimElem = 12
trigger2 = AnimElem = 18 || AnimElem = 25
attr = S, HA
id = 19000
damage = ceil((50*fvar(11))*ifelse(var(42),1.1,1)),ceil(50*.1)
getpower = 0,0
givepower = ceil((50*fvar(11))*.015),ceil(50*.005)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 0, 22
sparkno = S616
sparkxy = -20,-45 
hitsound = -1
guardsound = 6, 0
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
air.hittime = 22
fall.recovertime = 22
ground.velocity = 0,0
air.velocity = 0,0
yaccel = .5
p2facing = -1
fall = 1;0
fall.recover = 0
;forcenofall = 1
forcestand = 1
snap = 55,0
kill = 0
guard.kill = 0
[State 210, 1]
type = HitDef
trigger1 = AnimElem = 29
attr = S, HA
id = 19001
damage = ceil((90*fvar(11))*ifelse(var(42),1.1,1)),ceil(90*.1)
getpower = 0,0
givepower = ceil((90*fvar(11))*.015),ceil(90*.005)
animtype = Heavy
guardflag = MA
hitflag = MAF
priority = 7, Hit
pausetime = 16, 16
sparkno = S616
sparkxy = -20,-45 
hitsound = -1
guardsound = 6, 0
ground.type = High
ground.slidetime = 22
ground.hittime  = 22
air.hittime = 22
fall.recovertime = 22
ground.velocity = -7.5,25
air.velocity = -7.5,25
yaccel = .5
p2facing = 1
fall = 1
fall.recover = 0
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(19000) = 1
triggerall = movehit = 1
trigger1 = Target(19000),ishelper=0
trigger1 = Target(19000),stateno != [19005,19006]
value = 19005+var(29)
ID = 19000
ignorehitpause = 1
[State 0]
type = Pause
trigger1 = Name != "Maavo"
trigger2 = Authorname != "MaavoTheHuman"
time = 999
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(19001) = 1
triggerall = movehit = 1
trigger1 = Target(19001),ishelper=0
trigger1 = Target(19001),stateno != [625,628]
value = ifelse(numexplod(190625),655,625)
ID = 19001
ignorehitpause = 1
[State 0, Explod]
type = Explod
triggerall = numexplod(190625) = 0
triggerall = NumTarget(19001) = 1
triggerall = movehit = 1
trigger1 = Target(19001),ishelper=0
anim = 616
ID = 190625
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
persistent = 0

[State 19001, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 9 || AnimElem = 21
value = S240,0

[State 19001, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 6 || AnimElem =  12 || AnimElem = 29
value = S240,2

[State 19001, PlaySnd]
type = PlaySnd
trigger1 = AnimElem =  2 || AnimElem = 15 || AnimElem = 21
trigger2 = AnimElem = 25
value = S240,1

[State 19001, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 18
value = S210,2

[State 19001, EnvShake]
type = EnvShake
trigger1 = AnimElem =  4 || AnimElem = 6
trigger2 = AnimElem =  10 || AnimElem = 13 || AnimElem =  15
trigger3 = AnimElem = 18|| AnimElem = 22 || AnimElem = 26
trigger4 = AnimElem = 29
time = 7
freq = 60
ampl = -21

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6 || AnimElem = 9 || AnimElem = 12
trigger3 = AnimElem = 15 || AnimElem = 21 || AnimElem = 18
trigger4 = AnimElem = 25 || AnimElem = 29
helpertype = normal ;player
name = "Hit Spark"
ID = 190021
stateno = 190021
pos = 55,-60
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = .50
size.yscale = .50
PauseMoveTime = 9999

[State 0, Helper]
type = Helper
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6 || AnimElem = 9 || AnimElem = 12
trigger3 = AnimElem = 15 || AnimElem = 21 || AnimElem = 18
trigger4 = AnimElem = 25 || AnimElem = 29
helpertype = normal ;player
name = "Hit Spark"
ID = 3000
stateno = 3000+random%3
pos = 60,-45
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = .90
size.yscale = .90
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1

[State 19001, EnvShake]
type = EnvShake
trigger1 = AnimElem = 29
time = 10
freq = 70
ampl = -55
ignorehitpause = 1

[State 19001, SuperPause]
type = SuperPause
trigger1 = AnimElem = 27
time = 42
sound = S19100,4
anim = S99071
pos = 0,-30
movetime = 42
pausebg = 0
darken = 0
p2defmul = 1

[State 19001, EnvShake]
type = EnvShake
trigger1 = time = 125
time = 43
freq = 45
ampl = -2
ignorehitpause = 1

[State 19001, EnvShake]
type = EnvShake
trigger1 = time = 135
time = 43
freq = 55
ampl = -3
ignorehitpause = 1

[State 19001, EnvShake]
type = EnvShake
trigger1 = time = 155
time = 43
freq = 65
ampl = -3
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = Animelem = 27
anim = 4004
ID = 4004
pos = -35,-70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removeongethit = 1
removetime = 30
pausemovetime = 0
scale = 2,2
sprpriority = 4
bindtime = -1
supermove = 1
ownpal = 1
removeongethit = 1

[State 19001, PlaySnd]
type = PlaySnd
trigger1 = animelem = 27
value = S19100,0 + (var(16) * 10000)
channel = 3
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = Animelem = 27
value = S3440,2
[State 19001, PlaySnd]
type = PlaySnd
trigger1 = time = 155
value = S19100,6
[State 19001, PlaySnd]
type = PlaySnd
trigger1 = animelem = 29
value = S2200,5 + (var(16) * 10000)
channel = 3
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = Animelem = 29
value = S3440,1
[State 19001, PlaySnd]
type = PlaySnd
trigger1 = animelem = 29
value = S240,12
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = Animelem = 27
value = S3440,2
[State 19001, PlaySnd]
type = PlaySnd
trigger1 = animelem = 29
value = S7676,0
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = Animelem = 29
value = S3440,1
[State 19001, end]
type = ChangeState
triggerall = pos y < 0
trigger1 = AnimTime = 0
value = 51
anim = 41
ctrl = 0
[State 19001, end]
type = ChangeState
triggerall = pos y >= 0
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Air Juggle - K.O. Screen check
[Statedef 611]
anim = 616

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,alive = 1 && enemy,life <= 10
value = 911
ctrl = 0

[State 123456789, DestroySelf]
type = DestroySelf
trigger1 = stateno != 19001 || stateno != 119904 || stateno != 9902 || stateno != 99011
ignorehitpause = 1

;---------------------------------------------------------------------------
; Air Juggle - shaking from the hit
[Statedef 19005]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, HitFallSet]
type = HitFallSet
trigger1 = 1
value = 1
ignorehitpause = 1

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
value = 5012

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = !hitshakeover
value = anim

[State 5000, 6]
type = SelfState
trigger1 = HitOver
value = 5050

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
; Air Juggle - shaking from the hit
[Statedef 19006]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, HitFallSet]
type = HitFallSet
trigger1 = 1
value = 1
ignorehitpause = 1

[State 5000, 1] ;Anim for HIT_LIGHT to HIT_HARD
type = ChangeAnim
trigger1 = Time = 0
value = 5002

[State 5000, 4] ;Freeze anim
type = ChangeAnim
trigger1 = !hitshakeover
value = anim

[State 5000, 6]
type = SelfState
trigger1 = HitOver
value = 5050

[State 5000, FFB Light]
type = ForceFeedback
trigger1 = anim = 5000
trigger2 = anim = 5010
persistent = 0
time = 6
waveform = square

[State 5000, FFB Medium]
type = ForceFeedback
trigger1 = anim = 5001
trigger2 = anim = 5011
persistent = 0
time = 8
waveform = sinesquare
ampl = 110,-1,-.3

[State 5000, FFB Hard]
type = ForceFeedback
trigger1 = anim = 5012
trigger2 = anim = 5002
trigger3 = anim = 5030
persistent = 0
time = 15
waveform = sinesquare
ampl = 140

;---------------------------------------------------------------------------
;Hyper - Gran Tornado! (Startup)
[Statedef 87871]
type = S
ctrl = 0
anim = ifelse(var(9)=2,8788,8787)
facep2=1
velset = 0,0
movetype = A
poweradd = 0
physics = S
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = anim = 8787
trigger1 = AnimElemtime(10) < 0
value = SCA
time = 1
ignorehitpause = 1

[State 0, Width]
type = Width
trigger1 = AnimElemtime(10) >= 0
trigger1 = AnimElemtime(12) < 0
value = 40,0
ignorehitpause = 1

[State 19001, 1]
type = Explod
triggerall = var(16) = 0
trigger1 = AnimElem = 10
id = 8789
anim = 8789
pos = 0,0
postype = p1
sprpriority = 3
removeongethit = 1
bindtime = -1
removetime=-1
scale = .4,.4
supermovetime = 9999
removeongethit = 1

[State 19001, 1]
type = Explod
triggerall = var(16) = 1
trigger1 = AnimElem = 10
id = 87891
anim = 87891
pos = 0,0
postype = p1
sprpriority = 3
removeongethit = 1
bindtime = -1
removetime=-1
scale = .4,.4
supermovetime = 9999
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 12
id = 8789

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 12
id = 87891

[State 100, Strong Dash FX]
type = Explod
trigger1 = AnimElem = 10
anim = 3246
scale = 0.3,0.3
postype = p1
pos = 15,3
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1

[State 100, GFX]
type = Explod
trigger1 = AnimElem = 3
anim = 87871
scale = .4,.4
postype = p1
pos = 0,0
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 99999
ignorehitpause = 1
persistent = 1

[State 0, VarSet]
type = VarSet
triggerall = animelem = 3
trigger1 = var(8) < 240
var(8) = 240
ignorehitpause = 1
[State 3003, SuperPause]
type = SuperPause
trigger1 = animelem = 3
time = 40
movetime = 40
anim = -1
sound = -1
darken = 0
poweradd = -1000
unhittable = 1
p2defmul = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 10
time=8
freq=105
ampl=-20
ignorehitpause = 1
[State 0, Helper]
type = Helper
trigger1 = AnimElem = 10
helpertype = normal ;player
name = "Tornado"
ID = ifelse(anim=8788,87872,87871)
stateno = 87872
pos = 44,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = .3
size.yscale = .73

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S24500,0+ (var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S24500, 1+ (var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S24500,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S24500,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S24500,5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S24500,4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S24500,3
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S24500,2
channel = 3
[State 19001, 1]
type = Explod
trigger1 = animelem = 3
id = 3232
anim = 712
pos = 0,0
postype = back
sprpriority = -6
removeongethit = 1
removetime=120
scale = .5,.7
supermovetime=130
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = AnimElem = 12
id = 87892
[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = facing = 1
name = "Hyper Portrait"
ID = 11000
stateno = 11000
pos = -190,-floor(floor(screenpos y))-120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30
[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = facing = 1
name = "Hyper Portrait"
ID = 11001
stateno = 11001
pos = -190,-floor(floor(screenpos y))-120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30
[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = animelem = 4
value = S3440,6
[State 200, Voice]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = animelem = 4
value = S3440,6
[State 19001, 1]
type = Explod
triggerall = var(16) = 20
trigger1 = AnimElem = 10
id = 87892
anim = 87892
pos = 0,0
postype = p1
sprpriority = 3
removeongethit = 1
bindtime = -1
removetime=-1
scale = .4,.4
supermovetime = 9999
removeongethit = 1
[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = facing = -1
name = "Hyper Portrait"
ID = 11000
stateno = 11000
pos = 190,-floor(screenpos y)
postype = right ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30
[State 0, Helper]
type = Helper
trigger1 = animelem = 3
trigger1 = facing = -1
name = "Hyper Portrait"
ID = 11001
stateno = 11001
pos = 190,-floor(screenpos y)
postype = right ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30
[State 0, Helper]
type = Helper
trigger1 = animelem = 3
name = "Hyper Portrait"
ID = 11002
stateno = 11002
pos = 190,-floor(screenpos y)
postype = right ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30
[State 195, 2]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Hyper - Gran Tornado! (Tornado)
[StateDef 87872]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 87872
sprpriority = 4

[State 0, VarSet]
type = ParentVarSet
triggerall = parent,var(12) = 0
trigger1 = var(21) = 1
var(11) = (parent,var(11)+1)
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
triggerall = time
trigger1 = var(21) = 1
var(11) = (parent,var(11)+2)
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
triggerall = time
trigger1 = var(21) = 1
var(12) = 1
ignorehitpause = 1
[State 0, VarSet]
type = ParentVarSet
trigger1 = parent,var(10) != [1,3]
var(10) = 2
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall = root,var(52) != 0
Trigger1 = WinKO
Trigger1 = RoundState>=3
trigger1 = movehit
Name = "No Music"
StateNo = 1995
ID = 1995
Pos = 0,0
PosType = Back
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 100, Run Effect 1]
type = Explod
trigger1 = AnimElem = 3
anim = 32335
scale = 0.3,0.3
postype = p1
pos = 10,5
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
[State 0]
type = Pause
trigger1 = Name != "Maavo"
trigger2 = Authorname != "MaavoTheHuman"
time = 999
[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 4
scale = .4+.094*time,.4+.094*time

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S24500,7
channel = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
length = 5
palinvertall = 0
palbright = 230,30,30
palcontrast = 220,20,20
palpostbright = 220,20,20
paladd = 25,5,5
palmul = .75,.25,.25
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = root,fvar(11) > .2
fvar(11) = root,fvar(11)
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = root,fvar(11) <= .2
fvar(11) = .2
ignorehitpause = 1

[State 210, 1]
type = HitDef
triggerall = ishelper(87871)
triggerall = var(0) < 11
trigger1 = time %3 = 0
attr = S, HP
id = 8787
damage = ceil((65*fvar(11))*ifelse(root,var(42),1.1,1)),ceil(65*.1)
getpower = 0,0
givepower = ceil((65*fvar(11))*.015),ceil(65*.005)
animtype = DiagUp
guardflag = MA
hitflag = MAFP
priority = 7, Hit
pausetime = 1, 4
sparkno = S616                      ;Spark anim no (Def: set above)
sparkxy = -20,-75              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = -1;S240,7                  ;Sound to play on hit
guardsound = 6, 0
snap = 0,-15-floor(var(0))
p2facing = cond(var(0)%2,1,-1)
ground.type = High
ground.slidetime = ceil(32+3*(root,var(42)!=0))
ground.hittime = ceil(32+3*(root,var(42)!=0))
air.hittime = ceil(32*1+(root,var(42)!=0))
fall.recovertime = ceil(60*1+(root,var(42)!=0))
fall = 1
kill = 0
guard.kill = 0
guard.hittime = 18
airguard.hittime = 18
ground.velocity = -2.4,-7.5
air.velocity = -2.4,-7.5
ground.cornerpush.veloff = 0
[State 210, 1]
type = HitDef
triggerall = ishelper(87871)
triggerall = var(0) = 11
trigger1 = time %3 = 0
attr = S, HP
damage = ceil((150*fvar(11))*ifelse(root,var(42),1.1,1)),ceil(150*.1)
getpower = 0,0
givepower = ceil((150*fvar(11))*.015),ceil(150*.005)
animtype = DiagUp
guardflag = MA
hitflag = MAFP
priority = 7, Hit
pausetime = 1, 6
sparkno = S23254354325
sparkxy = -28,-40
;Y-offset for the spark rel. to p1
hitsound = S240,8                  ;Sound to play on hit
guardsound = 6, 0
p2facing = 1
yaccel = .5;.9
ground.type = High
ground.slidetime = ceil(32+3*(root,var(42)!=0))
ground.hittime = ceil(32+3*(root,var(42)!=0))
air.hittime = ceil(32*1+(root,var(42)!=0))
fall.recovertime = ceil(60*1+(root,var(42)!=0))
fall = 1
envshake.time = 10
envshake.ampl = -10
envshake.freq = 100
guard.hittime = 18
airguard.hittime = 18
ground.velocity = -3.4,-7.5
air.velocity = -3.4,-7.5
ground.cornerpush.veloff = 0
[State 210, 1]
type = HitDef
triggerall = ishelper(87872)
triggerall = var(0) < 9
trigger1 = time %3 = 0
attr = S, HP
id = 8787
damage = ceil((55*fvar(11))*ifelse(root,var(42),1.1,1)),ceil(55*.1)
getpower = 0,0
givepower = ceil((55*fvar(11))*.015),ceil(55*.005)
animtype = DiagUp
guardflag = MA
hitflag = MAFP
priority = 7, Hit
pausetime = 1, 4
sparkno = S616                      ;Spark anim no (Def: set above)
sparkxy = -20,-75              ;X-offset for the "hit spark" rel. to p2,
;Y-offset for the spark rel. to p1
hitsound = -1;S240,7                  ;Sound to play on hit
guardsound = 6, 0
snap = 0,-15-floor(var(0))
p2facing = cond(var(0)%2,1,-1)
ground.type = High
ground.slidetime = ceil(32+3*(root,var(42)!=0))
ground.hittime = ceil(32+3*(root,var(42)!=0))
air.hittime = ceil(32*1+(root,var(42)!=0))
fall.recovertime = ceil(60*1+(root,var(42)!=0))
fall = 1
kill = 0
guard.kill = 0
guard.hittime = 18
airguard.hittime = 18
ground.velocity = -2.4,-7.5
air.velocity = -2.4,-7.5
ground.cornerpush.veloff = 0
[State 210, 1]
type = HitDef
triggerall = ishelper(87872)
triggerall = var(0) = 9
trigger1 = time %3 = 0
attr = S, HP
damage = ceil((70*fvar(11))*ifelse(root,var(42),1.1,1)),ceil(70*.1)
getpower = 0,0
givepower = ceil((70*fvar(11))*.015),ceil(70*.005)
animtype = Up
guardflag = MA
hitflag = MAFP
priority = 7, Hit
pausetime = 1, 6
sparkno = S23254354325
sparkxy = -28,-40
;Y-offset for the spark rel. to p1
hitsound = S240,8                  ;Sound to play on hit
guardsound = 6, 0
p2facing = 1
yaccel = .5;.9
ground.type = High
ground.slidetime = ceil(32+3*(root,var(42)!=0))
ground.hittime = ceil(32+3*(root,var(42)!=0))
air.hittime = ceil(32*1+(root,var(42)!=0))
fall.recovertime = ceil(60*1+(root,var(42)!=0))
fall = 1
envshake.time = 10
envshake.ampl = -10
envshake.freq = 100
guard.hittime = 18
airguard.hittime = 18
ground.velocity = -1.4,-9.5
air.velocity = -1.4,-9.5
ground.cornerpush.veloff = 0

[State 0, TargetBind]
type = TargetBind
triggerall = numtarget(8787)
triggerall = movehit
trigger1 = ishelper(87871) && var(0) < 12
trigger2 = ishelper(87872) && var(0) < 10
time = 1
id = 8787
pos = 0,-15-floor(var(0))
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
triggerall = numtarget(8787)
trigger1 = ishelper(87871) && var(0) < 12
trigger2 = ishelper(87872) && var(0) < 10
value = 1
movecamera = 0,0
ignorehitpause = 1

[State -2, Give 'em some Movehitoner]
type = VarSet
trigger1 = 1
var(21) = ifelse((movehit=1||projhit=1),var(21)+1,0)
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(21) = 1 && var(0) %2 = 0
trigger1 = ishelper(87871) && var(0) < 11
trigger2 = ishelper(87872) && var(0) < 9
value = S240,7
channel = 2
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(21) = 1 && var(0) %2 = 1
trigger1 = ishelper(87871) && var(0) < 11
trigger2 = ishelper(87872) && var(0) < 9
value = S240,7
channel = 3
ignorehitpause = 1
[State 0, Helper]
type = Helper
trigger1 = var(21) = 1
helpertype = normal ;player
name = "Hit Spark"
ID = 22101
stateno = 22101+random%3
pos = 0,-65
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .70
size.yscale = .70
PauseMoveTime = 9999
SuperMoveTime = 9999
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = movecontact = 1
var(0) = 1

[State 0, MoveHitReset]
type = MoveHitReset
triggerall = var(0) < 10
trigger1 = movecontact

[State 119903, velset]
type = velset
trigger1 = ishelper(87871)
x = .75
[State 119903, velset]
type = velset
trigger1 = ishelper(87872)
x = ifelse(var(0),.75,8)

[State 119903, end]
type = ChangeState
trigger1 = ishelper(87871) && var(0) = 0 && time >= 70
trigger2 = ishelper(87871) && var(0) >= 12 && movecontact
trigger3 = ishelper(87872) && var(0) >= 10 && movecontact
value = 87878

[State 119903, end]
type = DestroySelf
trigger1 = frontedgebodydist <= -80

;---------------------------------------------------------------------------
;Hyper - Gran Tornado! (Tornado - Get Hit 2)
[StateDef 87878]
type = S
movetype= I
physics = S
velset = 0,0
anim = 87874
ctrl = 0
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S24500,8
channel = 1
[State 100, Run Effect 1]
type = Explod
trigger1 = AnimElem = 3 || AnimElem = 12
anim = 32335
scale = 0.3,0.3
postype = p1
pos = 10,5
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
[State 100, Run Effect 1]
type = Explod
trigger1 = AnimElem = 6 || Animelem = 15
anim = 32345
scale = 0.3,0.3
postype = p1
pos = 10,5
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 1
[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 2
length = 5
palinvertall = 0
palbright = 230,30,30
palcontrast = 220,20,20
palpostbright = 220,20,20
paladd = 25,5,5
palmul = .75,.25,.25
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = 1
time = 2
ignorehitpause = 1

[State 119903, end]
type = dESTROYSELF
trigger1 = time = 10

;---------------------------------------------------------------------------
;Hyper - Gran Tornado! (Custom State 1)
[Statedef 87877]
type    = A
movetype= H
physics = N
sprpriority = 3
velset = 0,0
ctrl = 0

[State 1217, No scroll]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 5000, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 87873

;---------------------------------------------------------------------------
;Hyper - All-Out Attack (Intro)
[Statedef 17000]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 13992
facep2=1
poweradd = 0
sprpriority = 2
ctrl = 0

[State 0, VarSet]
type = VarSet
triggerall = animelem = 4
trigger1 = var(8) < 240
var(8) = 240
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S21931,12

[State 19001, 1]
type = Explod
trigger1 = AnimElem = 6
id = 139921
anim = 139921
pos = 0,0
postype = p1
sprpriority = 3
removeongethit = 1
removetime=36
scale = .4,.4
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
trigger1 = Animelem = 6
value = S21939,5

[State 19001, 1]
type = Explod
trigger1 = animelem = 4
id = 3232
anim = 712
pos = 0,0
postype = back
sprpriority = -6
removeongethit = 1
removetime=80
scale = .5,.7
supermovetime=80
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = facing = 1
name = "Hyper Portrait"
ID = 11000
stateno = 11000
pos = -190,-floor(floor(screenpos y))-120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30
;ignorehitpause =
;persistent =

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
name = "Hyper Portrait"
ID = 11002
stateno = 11002
pos = 190,-floor(screenpos y)
postype = right ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = facing = 1
name = "Hyper Portrait"
ID = 11001
stateno = 11001
pos = -190,-floor(floor(screenpos y))-120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30
;ignorehitpause =
;persistent =

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = facing = -1
name = "Hyper Portrait"
ID = 11000
stateno = 11000
pos = 190,-floor(screenpos y)
postype = right ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = facing = -1
name = "Hyper Portrait"
ID = 11001
stateno = 11001
pos = 190,-floor(screenpos y)
postype = right ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30

[State 0, Aura Effect]
type = Explod
trigger1 = time = 17
anim = 11761
ID = 11761
pos = -20,-45
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
pausemovetime = 99999
supermovetime = 99999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = Animelem = 6
value = S4433,0
[State 0, Aura Effect]
type = Explod
trigger1 = time = 30
anim = 11762
ID = 11762
pos = -20,-50
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 1
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
pausemovetime = 99999
supermovetime = 99999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = Animelem = 6
value = S4433,0
[State 3003, SuperPause]
type = SuperPause
trigger1 = animelem = 4
time = 40
movetime = 40
anim = -1
sound = -1
movetime = 0
darken = 0
poweradd = -3000
unhittable = 1
p2defmul = 1

[State 19000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 17001
ctrl = 0

;---------------------------------------------------------------------------
;Hyper - All-Out Attack (Dash)
[StateDef 17001]
type = S
movetype= A
physics = N
velset = 60,0
ctrl = 0
anim = ifelse(var(22)=4,14022,14000)
poweradd = 0
sprpriority = 2
ctrl = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(2) < 0
value = SCA
time = 1
ignorehitpause = 1

[State 0, Null]
type = Null
triggerall = var(12) = 0 && var(21) = 1
trigger1 = (var(11):=(var(11)+2)) || 1
ignorehitpause = 1
persistent = 0
[State 0, Null]
type = Null
triggerall = time
triggerall = var(21) = 1
trigger1 = (var(11):=(var(11)+2)) || 1
trigger1 = (var(12):=1) || 1
ignorehitpause = 1
persistent = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(10) != [1,3]
var(10) = 3
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = animelemtime(5) < 0
value = 0
ignorehitpause = 1

[State 100, Run Effect]
type = Explod
trigger1 = AnimElem = 1
anim = 3233
scale = 0.5,0.5
postype = p1
pos = 10,5
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
[State 100, AOA Dash]
type = Explod
trigger1 = AnimElem = 1
anim = 1400037
scale = 0.8,0.8
postype = p1
pos = -40,-20
sprpriority = 1
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S21931,13
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S21931,13

[State 210, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, HA
id = 17000
damage = ceil(ifelse(fvar(11)<=.45,(120*.45),(120*fvar(11)))*ifelse(var(42),1.1,1)),ceil(120*.1)
getpower = 0,0
givepower = ceil(ifelse(fvar(11)<=.45,(120*.45),(120*fvar(11)))*.015),ceil(120*.005)
animtype = Heavy
fall.animtype = up
guardflag = M
hitflag = MAF
priority = 7, Hit
pausetime = 0, 22
guard.pausetime = 12,12
sparkno = S3000
hitsound = S210, 2
sparkxy = -5, -65
guardsound = 6, 0
ground.type = High
ground.slidetime = 22+(3*var(42))
ground.hittime  = 22+(3*var(42))
air.hittime = 22*(1+var(42))
fall.recovertime = 22*(1+var(42))
guard.slidetime = 16
guard.hittime = 16
ground.velocity = -3,-9.25
air.velocity = -3,-9.25
yaccel = .5
fall = 1;0
fall.recover = 0
;forcenofall = 1
forcestand = 1
snap = 35,0
kill = 0
guard.kill = 0
[State 0, TargetState]
type = TargetState
triggerall = NumTarget(17000) = 1
triggerall = movehit = 1
trigger1 = Target(17000),ishelper=0
trigger1 = Target(17000),stateno != 1700101
value = 1700101
ID = 17000
ignorehitpause = 1
persistent = 0
[State 0, ChangeState]
type = ChangeState
triggerall = NumTarget(17000) = 1
triggerall = movehit = 1
trigger1 = Target(17000),ishelper=0
trigger1 = Target(17000),stateno = 1700101
value = 17002
ctrl = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = NumTarget(17000) = 1
triggerall = animelemtime(2) < 0
trigger1 = Target(17000),ishelper=0
trigger1 = movecontact || movereversed
value = 14000
elem = 2
[State 100, Run Effect 2]
type = Explod
trigger1 = animelem = 2
anim = 3235
scale = 0.4,0.4
postype = p1
pos = 10,5
sprpriority = 3
ownpal = 1
removeongethit = 1
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
persistent = 0

[State 1507, VelSet]
type = velmul
trigger1 = animelem = 2
x = .15

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = moveguarded
movetype = I        ;I,A,H
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 2
movetype = I        ;I,A,H
physics = S
ignorehitpause = 1

[State 9900, end]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Hyper - All-Out Attack (Hit!)
[StateDef 17002]
type = S
movetype= A
physics = N
ctrl = 0
anim = 14001
poweradd = 0
velset = 20,0
sprpriority = 2
ctrl = 0

[State 0, Helper]
type = Helper
triggerall = Enemy, TeamMode = Simul || TeamMode = Simul
trigger1 = time = 0
helpertype = normal ;player
name = "Stop the other players"
ID = 410002
stateno = 410002
pos = 0,0
postype = left
facing = 1
ownpal = 0
size.xscale = 9
size.yscale = 9
PauseMoveTime = 9999
SuperMoveTime = 9999
[State 0, Helper]
type = Helper
triggerall = Enemy, TeamMode = Simul || TeamMode = Simul
trigger1 = time = 1
helpertype = normal ;player
name = "Stop the other players"
ID = 410002
stateno = 410002
pos = 0,0
postype = left
facing = 1
ownpal = 0
size.xscale = 9
size.yscale = 9
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 0, BgPalFx]
type = BgPalFx
trigger1 = time = 0
time = 230
sinadd = -255, -255, -255, 200  

[State 0, Damage Scaling]
type = VarSet
trigger1 = fvar(11) < .35
fvar(11) = .35
ignorehitpause = 1

[State 911, 1]
type = Explod
trigger1 = Time = 0
id = 625
anim = 625
pos = 0,0
postype = back
sprpriority = -1
removeongethit = 1
removetime = 150
pausemovetime = 0
scale = 999,999
OnTop = 0
bindtime = -1
supermove = 1
ownpal = 1
removeongethit = 1

[State 0, VelMul]
type = VelSet
trigger1 = time = 0
x = 30
ignorehitpause = 1
[State 0, VelMul]
type = VelSet
trigger1 = animelem = 2
x = 20
ignorehitpause = 1
[State 0, VelMul]
type = Velset
trigger1 = animelem = 3
x = .5
ignorehitpause = 1

[state 0, Time Freeze]
type = assertspecial
trigger1 = 1
flag = timerfreeze

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S21931,11
persistent = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 5
freq = 50
ampl = -2

[State 119911991, 1]
type = AssertSpecial
trigger1 = time > 51
ignorehitpause=1
flag = noFG

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "Hit Spark"
ID = 1700030
stateno = 1700030
pos = 0,-35
postype = p2
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = .75
size.yscale = .75
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 911, 1]
type = Explod
trigger1 = Time = 49
id = 11700
anim = 11700 
pos = 0,0 
Facing = IfElse(facing = 1, 1, -1)
postype = back
sprpriority = 31
removeongethit = 1
ontop = 1
removetime = 40
scale = .5+(var(17) * .15),.5+ (var(17) * .2)
bindtime = -1
supermove = 1
ownpal = 1
removeongethit = 1

[State 911, 1]
type = Explod
trigger1 = Time = 49
id = 12700
anim = 12700
pos = 0,0 
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 31
removeongethit = 1
removetime = 60
ontop = 1
scale = .5+(var(17) * .15),.5+ (var(17) * .2)
bindtime = -1
supermove = 1
ownpal = 1
removeongethit = 1
[State 0, Helper]
type = Helper
triggerall = Enemy, TeamMode = Simul || TeamMode = Simul
trigger1 = time = 0
helpertype = normal ;player
name = "Stop the other players"
ID = 410002
stateno = 410002
pos = 0,0
postype = left
facing = 1
ownpal = 0
size.xscale = 9
size.yscale = 9
PauseMoveTime = 9999
SuperMoveTime = 9999
[State 0, Helper]
type = Helper
triggerall = Enemy, TeamMode = Simul || TeamMode = Simul
trigger1 = time = 1
helpertype = normal ;player
name = "Stop the other players"
ID = 410002
stateno = 410002
pos = 0,0
postype = left
facing = 1
ownpal = 0
size.xscale = 9
size.yscale = 9
PauseMoveTime = 9999
SuperMoveTime = 9999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 49
value = S21931,0
channel = 16

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 49
value = S21931,0
channel = 15

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 57
value =140002
ctrl = 0

;---------------------------------------------------------------------------
;Hyper - All-Out Attack (Get Hit - Hit Spark)
[StateDef 1700030]
type = S
movetype= A
anim = 30001
poweradd = 0
sprpriority = -1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add ;none, add, addalpha, add1, sub
alpha = 256,256
ignorehitpause = 1
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
value = 120
ignorehitpause = 1

[State 0, ChangeState]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
;Hyper - All-Out Attack (Stop the other players)
[StateDef 410002]
type = S
movetype = A
anim = 140011
poweradd = 0
sprpriority = -1

[State 119911990, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,HT, HA
hitflag = MAFDP
affectteam = B
pausetime = 0, 0
p2stateno = 4100022
sparkno = s616
hitsound = S1274895236443768943798179, 2
sparkxy = -5, -65
p2facing = 1
priority = 1,Miss
numhits = 0

[State 0, ChangeState]
type = DestroySelf
trigger1 = time = 30

;---------------------------------------------------------------------------
;Hyper - All-Out Attack (Stop the other players 2)
[StateDef 4100020]
type = S
movetype = A
anim = 140011
poweradd = 0
sprpriority = -1

[State 119911990, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,HT, HA
hitflag = MAFDP
affectteam = B
pausetime = 0, 0
p2stateno = 4100023
sparkno = s616
hitsound = S1274895236443768943798179, 2
sparkxy = -5, -65
p2facing = 1
priority = 1,Miss
numhits = 0

[State 0, ChangeState]
type = DestroySelf
trigger1 = time = 30

;---------------------------------------------------------------------------
;Hyper - All-Out Attack (Stop the other players - Custom State 1)
[StateDef 4100022]
type = S
sprpriority = 0
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = anim
elem = AnimElemNo(0)

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
ignorehitpause = 1

[State 0, PalFX]
type = PalFX
trigger1 = time < 15
time = 1
mul = ceil(256*(1-time/10.0)),ceil(256*(1-time/10.0)),ceil(256*(1-time/10.0))

[State 0, PalFX]
type = PalFX
trigger1 = time >= 10
time = 1
mul = 0,0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 80
value = 4100023

;---------------------------------------------------------------------------
;Hyper - All-Out Attack (Stop the other players - Custom State 2)
[StateDef 4100023]
type = S
sprpriority = -999
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = anim
elem = AnimElemNo(0)

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, SelfState]
type = SelfState
trigger1 = time = 295
value = 50

;---------------------------------------------------------------------------
;Hyper - All Out Attack (Attack)
[StateDef 140002]
type = S
movetype = A
physics = S
juggle = 0
poweradd = 0
anim = 616
ctrl = 0

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noshadow

[State 0, Damage Scaling]
type = VarSet
trigger1 = fvar(11) < .35
fvar(11) = .35
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = target,life <= ceil(ifelse(fvar(11)<=.45,(480*.35),(480*fvar(11))))
triggerall = life = lifemax
trigger1 = time = 2
value = S21939,6
channel = 2
volumescale = 255

[state 0, Time Freeze]
type = assertspecial
trigger1 = 1
flag = timerfreeze

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = -100
y = 0

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -1

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noFG

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = 0
[State 0, Helper]
type = Helper
triggerall = Enemy, TeamMode = Simul || TeamMode = Simul
trigger1 = time = 0
helpertype = normal ;player
name = "Stop the other players"
ID = 4100020
stateno = 4100020
pos = 0,0
postype = left
facing = 1
ownpal = 0
size.xscale = 9
size.yscale = 9
PauseMoveTime = 9999
SuperMoveTime = 9999
[State 0, Helper]
type = Helper
triggerall = Enemy, TeamMode = Simul || TeamMode = Simul
trigger1 = time = 1
helpertype = normal ;player
name = "Stop the other players"
ID = 4100020
stateno = 4100020
pos = 0,0
postype = left
facing = 1
ownpal = 0
size.xscale = 9
size.yscale = 9
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S21931,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 62
value = S21931,1

[State 0, HitAdd]
type = HitAdd
triggerall = time %6 = 0
trigger1 = time = [150,260]
value = 3; would have been 4 if the other guy stuck around
ignorehitpause = 1
[State 0, HitAdd]
type = HitAdd
trigger1 = time = 262
value = 1
ignorehitpause = 1

[State 911, 1]
type = Explod
trigger1 = Time = 0
id = 11701
anim = 11701
pos = 0,0 
postype = back
sprpriority = 28
removeongethit = 1
removetime = 100
pausemovetime = 0
scale = 100,100
OnTop = 0
bindtime = -1
supermove = 1
ownpal = 1
removeongethit = 1

[State 911, 1]
type = Explod
trigger1 = Time = 0
id = 12701
anim = 12701
pos = 0,0 
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 28
removeongethit = 1
removetime = 25
pausemovetime = 0
scale = 9,9
OnTop = 0
bindtime = -1
supermove = 1
ownpal = 1
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 19
id = 612
anim = 612
pos = 0+ (var(17) * -50),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 29
removeongethit = 1
removetime=160
scale = .5+(var(17) * .15),.5+ (var(17) * .2)
OnTop = 0
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 19
id = 6122
anim = 6122
pos = 0+ (var(17) * -85),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 29
removeongethit = 1
removetime=160
scale = .5+(var(17) * .15),.5+ (var(17) * .2)
OnTop = 0
supermovetime=58
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 613
anim = 613
pos = 0+ (var(17) * -60),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 31
removeongethit = 1
removetime=51
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 24
id = 6131
anim = 6131
pos = 0+ (var(17) * -50),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 30
removeongethit = 1
removetime=23
scale = .5+ (var(17) * .2),.5+ (var(17) * .2)
OnTop = 0
trans = none
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 24
id = 61331
anim = 61331
pos = 0+ (var(17) * -50),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 30
removeongethit = 1
removetime=23
scale = .5+ (var(17) * .2),.5+ (var(17) * .2)
OnTop = 0
trans = none
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 6133
anim = 6133
pos = 0+ (var(17) * -60),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 31
removeongethit = 1
removetime=51
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
supermovetime=28
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 100
id = 619
anim = 619
pos = 0,0
postype = back
sprpriority = 50
removeongethit = 1
removetime=12
scale = 10,10
OnTop = 0
supermovetime=12
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 130
id = 615
anim = 615
pos = 0+ (var(17) * -30),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 30
removeongethit = 1
removetime=168
scale = .5+ (var(17) * .1),.5+ (var(17) * .2)
OnTop = 0
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 130
id = 6151
anim = 6151
pos = 0+ (var(17) * -30),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 32
removeongethit = 1
removetime=168
scale = .5+ (var(17) * .1),.5+ (var(17) * .2)
OnTop = 0
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1
removeongethit = 1

[State 911, 1]
type = Explod
triggerall = target,life <= ceil(ifelse(fvar(11)<=.45,(480*.35),(480*fvar(11))))
trigger1 = Time = 260
id = 11701
anim = 11701
pos = 0,0 
postype = back
sprpriority = 21
removeongethit = 1
removetime = 300
pausemovetime = 0
scale = 100,100
OnTop = 0
bindtime = -1
supermove = 1
ownpal = 1
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 130
id = 61551
anim = 61551
pos = 0+ (var(17) * -30),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 32
removeongethit = 1
removetime=168
scale = .5+ (var(17) * .1),.5+ (var(17) * .2)
OnTop = 0
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 130
id = 6155
anim = 6155
pos = 0+ (var(17) * -30),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 30
removeongethit = 1
removetime=168
scale = .5+ (var(17) * .1),.5+ (var(17) * .2)
OnTop = 0
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 100
id = 614
anim = 614
pos = 0,0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 22
removeongethit = 1
removetime=108
scale = .5,.5
OnTop = 0
supermovetime=108
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 100
id = 6144
anim = 6144
pos = 0,0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 22
removeongethit = 1
removetime=108
scale = .5,.5
OnTop = 0
supermovetime=108
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 627
anim = 627
pos = 0,0
postype = back
sprpriority = 15
removeongethit = 1
removetime=100
scale = 200,200
supermovetime=100
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, Helper]
type = Helper
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
triggerall = target,life > ceil(ifelse(fvar(11)<=.45,(480*.35),(480*fvar(11))))
trigger1 = Time = 110
helpertype = normal
name = "Dialogue Box"
ID = 150000
stateno = 150000+random%5
pos = 0,0
postype = p1   ;p2,front,back,left,right
keyctrl = 0
ownpal = 0
supermovetime = 9999
pausemovetime = 99999
[State 0, Helper]
type = Helper
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
triggerall = target,life <= ceil(ifelse(fvar(11)<=.45,(480*.35),(480*fvar(11))))
trigger1 = Time = 110
helpertype = normal
name = "Dialogue Box"
ID = 150000
stateno = ifelse(random<500,150004+random%2,150000+random%5)
pos = 0,0
postype = p1   ;p2,front,back,left,right
keyctrl = 0
ownpal = 0
supermovetime = 9999
pausemovetime = 99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S21931,6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 62
value = S21931,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S21931,2
channel = 5
loop = 1
volumescale = 255
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S21931,2
channel = 6
loop = 1
volumescale = 100

[State 19001,TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 262
value = -ceil(ifelse(fvar(11)<=.45,(480*.35),(480*fvar(11))))
absolute = 1
kill = 0
[State 0, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = time = 262
value = ceil(ifelse(fvar(11)<=.45,(480*.45),(480*fvar(11)))*.015)
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = enemy,life >= 1
trigger1 = time = 262
value = S21931,10
channel = 5
volumescale = 200
[State 0, PlaySnd]
type = PlaySnd
triggerall = enemy,life <= 1
trigger1 = time = 262
value = S21931,3
channel = 5
volumescale = 200
[State 0, StopSnd]
type = StopSnd
trigger1 = time = 262
channel = 6
ignorehitpause = 1

[State 3300, p2state]
type=targetstate
triggerall = var(17) = 0
trigger1= time = 118
value = 1700102

[State 3300, p2state]
type=targetstate
triggerall = var(17) = 1
trigger1= time = 118
value = 170010243

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 263
value = 140006
ctrl = 1
[State 0, Helper]
type = Helper
triggerall = Enemy, TeamMode = Simul || TeamMode = Simul
trigger1 = time = 0
helpertype = normal ;player
name = "Stop the other players"
ID = 4100020
stateno = 4100020
pos = 0,0
postype = left
facing = 1
ownpal = 0
size.xscale = 9
size.yscale = 9
PauseMoveTime = 9999
SuperMoveTime = 9999
[State 0, Helper]
type = Helper
triggerall = Enemy, TeamMode = Simul || TeamMode = Simul
trigger1 = time = 1
helpertype = normal ;player
name = "Stop the other players"
ID = 4100020
stateno = 4100020
pos = 0,0
postype = left
facing = 1
ownpal = 0
size.xscale = 9
size.yscale = 9
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 0, ChangeState]
type = ChangeState
triggerall = enemy,life <= 1
trigger1 = time = 262
value = 141002


;Hyper - All Out Attack (Win)
[Statedef 141002]
type = S
anim = 616
ctrl = 0

[state 0, Time Freeze]
type = assertspecial
trigger1 = 1
flag = timerfreeze

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG

[State 0, Helper]
type = Helper
trigger1 = Time = 156
helpertype = normal
name = "Final Screen"
ID = 1410025
stateno = 1410025
pos = 0,0
postype = p1   ;p2,front,back,left,right
keyctrl = 0
ownpal = 0
pausemovetime = 99999

[State 0, Helper]
type = Helper
trigger1 = Time = 160
helpertype = normal
name = "Quote"
ID = 14100285
stateno = 14100285
pos = 0,0
postype = p1   ;p2,front,back,left,right
keyctrl = 0
ownpal = 0
supermovetime = 9999
pausemovetime = 99999

[State 911, 1]
type = Explod
trigger1 = Time = 0
id = 11701
anim = 11701
pos = 0,0 
postype = back
sprpriority = 21
removeongethit = 1
removetime = 125
pausemovetime = 0
scale = 100,100
OnTop = 0
bindtime = -1
supermove = 1
ownpal = 0
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 80
id = 674
anim = 674
pos = 0+ (var(17) * -34),0+ (var(17) * 24)
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 26
removeongethit = 1
removetime=98
ownpal = 0
scale = .5+ (var(17) * .1),.5+ (var(17) * .1)
OnTop = 0
supermovetime=98
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 80
id = 6744
anim = 6744
pos = 0+ (var(17) * -34),0+ (var(17) * 24)
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 26
removeongethit = 1
removetime=89
scale = .5+ (var(17) * .1),.5+ (var(17) * .1)
OnTop = 0
supermovetime=89
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
ownpal = 0
removeongethit = 1

[State 0, Helper]
type = Helper
trigger1 = Time = 40
helpertype = normal
name = "Floor"
ID = 1400014
stateno = 1400014
pos = 0,0
ownpal = 0
postype = p1   ;p2,front,back,left,right
size.xscale = .27
size.yscale = .27

[State 0, VarSet]
type = VarSet
trigger1 = win
v = 55
value = 1

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -1

[State 119911991, 1]
type = AssertSpecial
trigger1 = 1
ignorehitpause=1
flag = nokoslow
flag2 = nobardisplay
flag3 = noFG

[State 119911991, 1]
type = AssertSpecial
trigger1 = 1
ignorehitpause=1
flag=nokosnd

[State 0, VarSet]
type = VarSet
trigger1 = win
v = 45
value = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 155
value = S21931,4
channel = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 155
value = S21931,4
channel = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 75
value = S21934,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 75
value = S21934,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 155
value = S21931,4

[State 0, HitAdd]
type = HitAdd
trigger1 = time = 150
value = 1
ignorehitpause = 1

[State 19001,TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 150
value = -9999
kill = 1

[State 3300, p2state]
type=targetstate
trigger1= time = 0
value = 1700103

[State 3300, p2state]
type=targetstate
trigger1= time = 155
value = 5150

[State 3300, p2state]
type=targetstate
trigger1 = enemy,alive = 1
trigger1= time = 155
value = 515044

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 265
value = 0
ctrl = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = parent, stateno = 180140
time = 999
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, Enemy stills alive]
type = ChangeState
trigger1 = enemy,alive = 1
trigger1 = time > 265
value = 140006
ctrl = 1

;Hyper - All Out Attack (Final Art Screen)
[Statedef 1410025]
type = S
anim = 616
ctrl = 0

[state 0, Time Freeze]
type = assertspecial
trigger1 = 1
flag = timerfreeze

[state turn]
type = turn
trigger1 = facing != 1

[State 119911991, 1]
type = AssertSpecial
trigger1 = 1
ignorehitpause=1
flag = nokoslow
flag2 = nobardisplay
flag3 = noFG

[State 119911991, 1]
type = AssertSpecial
trigger1 = 1
ignorehitpause=1
flag=nokosnd

[State 0, Helper]
type = Helper
triggerall = root,var(18) = 1
trigger1 = Time = 1
helpertype = normal
name = "Final Touch"
ID = 14673
stateno = 14673
ownpal = 0
postype = back   ;p2,front,back,left,right
size.xscale = .27+ (root,var(17) * .03)
size.yscale = .27+ (root,var(17) * .03)

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG

[State 0, Helper]
type = Helper
triggerall = root,var(18) = 1
trigger1 = Time = 2
helpertype = normal
name = "Text"
ID = 1400031
stateno = 1400031
pos = 0,0
ownpal = 0
postype = back   ;p2,front,back,left,right
size.xscale = .27
size.yscale = .27

[State 19001, 1]
type = Explod
triggerall = root,var(18) = 0
trigger1 = Time = 0
id = 672
anim = 672
pos = 267,215
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 30
removeongethit = 1
removetime=-1
ownpal = 0
scale = .3,.3
OnTop = 0
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 0
ID = 672
angle = 0.007*time

[State 19001, 1]
type = Explod
triggerall = root,var(18) = 0
trigger1 = Time = 2
id = 675
anim = 675
pos = 255,186+ (root,var(17) * 40)
ownpal = 0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 29
removetime=-1
scale = .27+ (root,var(17) * -.01),.27+ (root,var(17) * -.01)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 2
ID = 675
angle = 0.007*time

[State 0, Helper]
type = Helper
triggerall = root,var(18) = 1
trigger1 = Time = 2
helpertype = normal
name = "Text lines"
ID = 140003
stateno = 140003
pos = 0,0
ownpal = 0
postype = back   ;p2,front,back,left,right
size.xscale = .27
size.yscale = .27

[State 0, Helper]
type = Helper
triggerall = root, var(18) = 1
trigger1 = Time = 9999999
helpertype = normal
name = "Final Touch Shadow"
ID = 146731
stateno = 146731
pos = 0,0
ownpal = 0
postype = back   ;p2,front,back,left,right
size.xscale = .27+ (root,var(17) * .03)
size.yscale = .27+ (root,var(17) * .03)

[State 19001, 1]
type = Explod
triggerall = root,var(18) = 0
trigger1 = Time = 2
id = 676
anim = 676
pos = 265+ (root,var(17) * -24),196+ (root,var(17) * 30)
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 23
removetime=-1
ownpal = 0
scale = .27+ (var(17) * .04),.27+ (var(17) * .04)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
triggerall = root,var(18) = 0
trigger1 = Time = 2
id = 678
anim = 678
pos = 255,186+ (root,var(17) * 50)
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 31
removetime=-1
ownpal = 0
scale = .26+ (root,var(17) * .04),.26+ (root,var(17) * .04)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 2
ID = 678
angle = 0.007*time

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 2
ID = 676
angle = 0.007*time

[State 0, Helper]
type = Helper
trigger1 = Time = 2
helpertype = normal
name = "P2 Blood"
ID = 140004
stateno = 140004
pos = -90,const(size.mid.pos.y) + 13  
postype = p1   ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .15
size.yscale = .2

[State 19001, 1]
type = Explod
triggerall = root,var(18) = 0
trigger1 = Time = 2
id = 673
anim = 673
pos = 277,215
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 24
removetime=-1
ownpal = 0
scale = .3,.3
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 2
ID = 673
angle = 0.007*time

[State 0, Helper]
type = Helper
triggerall = root,var(18) = 1
trigger1 = Time = 0
helpertype = normal
name = "BG"
ID = 140671
stateno = 140671
pos = 30,20
ownpal = 0
postype = back   ;p2,front,back,left,right
size.xscale = .26+ (root,var(17) * .03)
size.yscale = .26+ (root,var(17) * .03)

[State 0, Helper]
type = Helper
triggerall = root,var(18) = 1
trigger1 = Time = 0
helpertype = normal
name = "Splash"
ID = 140603
stateno = 140603
pos = 30,20
ownpal = 0
postype = back   ;p2,front,back,left,right
size.xscale = .26+ (root,var(17) * .03)
size.yscale = .26+ (root,var(17) * .03)

[State 19001, 1]
type = Explod
triggerall = root,var(18) = 0
trigger1 = Time = 0
id = 671
anim = 671
pos = 255,186+ (root,var(17) * 45)
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 29
removetime=-1
ownpal = 0
scale = .26+ (root,var(17) * .04),.26+ (root,var(17) * .04)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 2
ID = 671
angle = 0.007*time

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = time > 4
ID = 671
angle = 0.007*time
sprpriority = 22

[State 0, PalFXWiz]
type = PalFX
trigger1 = parent, stateno = 180140
time = 999
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, Enemy stills alive]
type = ChangeState
trigger1 = enemy,alive = 1
trigger1 = time > 110
value = 1400062
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent, stateno = 180140
value = 14100251
ctrl = 0

[State 140003, end]
type = changestate
triggerall = root,win = 0
trigger1 = time = 200
value = 140006

;Hyper - All Out Attack (Game Set)
[Statedef 14100285]
type = S
anim = 616
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 20
trigger1 = time = 0
value = S4433,1

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 20
trigger1 = time = 0
value = S4433,1

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 0 || root,var(16) = 1 || root,var(16) = 2 || root,var(16) = 3
trigger1 = time = 0
value = S21935,2

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 0 || root,var(16) = 1 || root,var(16) = 2 || root,var(16) = 3
trigger1 = time = 0
value = S21935,2

;Hyper - All Out Attack (Victory Screen)
[Statedef 14100251]
type = S
anim = 616
ctrl = 0

;hypha you're amazing
[State 19001, 1]
type = Explod
triggerall = root,var(52)!=[3,4]
trigger1 = time = 0
id = 6128
anim = 6128
pos = -225+ (root,var(17) * -100),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 52
removeongethit = 1
removetime=-1
scale = .7+ (root,var(17) * .2),.63+ (root,var(17) * .2)
OnTop = 0
supermovetime=-1
ownpal = 1
bindtime=-1
supermovetime = 9999
persistent= 0
pausemovetime = 99999
removeongethit = 1
[State 19001, 1]
type = Explod
triggerall = root,var(52)=3
trigger1 = time = 0
id = 6128
anim = 6126
pos = -225+ (root,var(17) * -100),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 52
removeongethit = 1
removetime=-1
scale = .7+ (root,var(17) * .2),.63+ (root,var(17) * .2)
OnTop = 0
supermovetime=-1
ownpal = 1
bindtime=-1
supermovetime = 9999
persistent= 0
pausemovetime = 99999
removeongethit = 1
[State 19001, 1]
type = Explod
triggerall = root,var(52)=4
trigger1 = time = 0
id = 6128
anim = 6127
pos = -225+ (root,var(17) * -100),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 52
removeongethit = 1
removetime=-1
scale = .7+ (root,var(17) * .2),.63+ (root,var(17) * .2)
OnTop = 0
supermovetime=-1
ownpal = 1
bindtime=-1
supermovetime = 9999
persistent= 0
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = time = 0
id = 6128
anim = 6128
pos = -225+ (root,var(17) * -100),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 52
removeongethit = 1
removetime=-1
scale = .7+ (root,var(17) * .2),.63+ (root,var(17) * .2)
OnTop = 0
supermovetime=-1
ownpal = 1
bindtime=-1
supermovetime = 9999
persistent= 0
pausemovetime = 99999
removeongethit = 1

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG

[State 19001, 1]
type = Explod
trigger1 = time = 0
id = 7565
anim = 7565
pos = 0,0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 49
removeongethit = 1
removetime=-1
scale = 99,99
OnTop = 0
supermovetime=-1
ownpal = 1
bindtime=-1
supermovetime = 9999
persistent= 0
pausemovetime = 99999
removeongethit = 1
removeongethit = 1

[State 0, Null]
type = Null
trigger1 = 1

;Hyper - All Out Attack (The thing that spins)
[StateDef 140003]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 676
sprpriority = 24

[State 0, PalFXWiz]
type = PalFX
trigger1 = parent, stateno = 180140
time = 999
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub
ignorehitpause = 1
persistent = 1

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG

[state turn]
type = turn
trigger1 = facing != 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 105+ (root,var(17) * -20)
y = 32+ (root,var(17) * -15)

[State 0, AngleAdd]
type = AngleDraw
trigger1 = 1
value = .007*time

[State 140003, end]
type = DestroySelf
triggerall = root,win = 0
trigger1 = time =145

;Hyper - All Out Attack (Splash)
[StateDef 140603]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 678
sprpriority = 30

[State 0, PalFXWiz]
type = PalFX
trigger1 = parent, stateno = 180140
time = 999
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub
ignorehitpause = 1
persistent = 1

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG

[state turn]
type = turn
trigger1 = facing != 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 95
y = 16+ (root,var(17) * 24)

[State 0, AngleAdd]
type = AngleDraw
trigger1 = 1
value = .007*time

[State 140003, end]
type = DestroySelf
triggerall = root,win = 0
trigger1 = time =145

;Hyper - All Out Attack (Final Touch)
[StateDef 14673]
type = S
movetype= A
physics = S
ctrl = 0
anim = 672
sprpriority = 30

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = .007

[State 0, PosSet]
type = PosSet
trigger1 = var(17) = 1
x = 105
y = 16

[State 0, PosSet]
type = PosSet
trigger1 = var(17) = 0
x = 105
y = 22

[state turn]
type = turn
trigger1 = facing != 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .95,.95

[State 0, PalFXWiz]
type = PalFX
trigger1 = parent, stateno = 180140
time = 999
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 140003, end]
type = DestroySelf
triggerall = root,win = 0
trigger1 = time =145

;Hyper - All Out Attack (Final Touch Shadow)
[StateDef 146731]
type = S
movetype= A
physics = S
anim = 673
sprpriority = 29

[State 0, PalFXWiz]
type = PalFX
trigger1 = time > 0
time = 145
add = 0,0,0
mul = 0,0,0
sinadd = 0,0,0,10
invertall = 0
color = 0

[state turn]
type = turn
trigger1 = facing != 1

[State 0, VelSet]
type = Veladd
trigger1 = 1
x = 1.3

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = .007

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 105
y = 18

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .95,.95

[State 140003, end]
type = DestroySelf
triggerall = root,win = 0
trigger1 = time =145

;Hyper - All Out Attack (Hora del Show)
[StateDef 1400031]
type = S
movetype= A
physics = S
anim = 675
sprpriority = 28

[State 0, AngleAdd]
type = AngleDraw
trigger1 = 1
value = .007*time

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 105
y = 30

[state turn]
type = turn
trigger1 = facing != 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = parent, stateno = 180140
time = 999
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 140003, end]
type = DestroySelf
triggerall = root,win = 0
trigger1 = time =145

;Hyper - All Out Attack (Pointy Dialogue: A bailar)
[StateDef 150000]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =616
sprpriority = 100

[state turn]
type = turn
trigger1 = facing != 1

[State 19001, 1]
type = Explod
trigger1 = Time = 3
id = 6914
anim = 6914 + (root,var(20) * 10000)
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 41
removeongethit = 1
removetime=127
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 6912
anim = 6912
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=130
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 6913
anim = 6913
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 38
removeongethit = 1
removetime=130
scale = .17,.19
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 3
id = 6916
anim = 6916
pos = 328 ,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 39
removeongethit = 1
removetime=127
scale = .19,.2
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,0 + (root,var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,0 + (root,var(16) * 10000)

[State 140003, end]
type = DestroySelf
trigger1 = time =125

;Hyper - All Out Attack (Pointy Dialogue: Se murio)
[StateDef 150001]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =616
sprpriority = 100

[state turn]
type = turn
trigger1 = facing != 1

[State 19001, 1]
type = Explod
trigger1 = Time = 3
id = 6915
anim = 6915 + (root,var(20) * 10000)
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 41
removeongethit = 1
removetime=127
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 6912
anim = 6912
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=130
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 6913
anim = 6913
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 38
removeongethit = 1
removetime=130
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 3
id = 6916
anim = 6916
pos = 328 ,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 39
removeongethit = 1
removetime=127
scale = .19,.2
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,2 + (root,var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,2 + (root,var(16) * 10000)


[State 140003, end]
type = DestroySelf
trigger1 = time =125

;Hyper - All Out Attack (Maritza Dialogue: Esto te va a doler!)
[StateDef 150002]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =616
sprpriority = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,7 + (root,var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,7 + (root,var(16) * 10000)

[state turn]
type = turn
trigger1 = facing != 1

[State 19001, 1]
type = Explod
trigger1 = Time = 3
id = 6923
anim = 6923 + (root,var(20) * 10000)
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 41
removeongethit = 1
removetime=127
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 6912
anim = 6912
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=130
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 6913
anim = 6913
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 38
removeongethit = 1
removetime=130
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 3
id = 6922
anim = 6922
pos = 327 ,19
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 39
removeongethit = 1
removetime=127
scale = .19,.2
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 140003, end]
type = DestroySelf
trigger1 = time =125

;Hyper - All Out Attack (Maritza Dialogue: Aqui vamos!)
[StateDef 150003]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =616
sprpriority = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,6 + (root,var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 0
trigger1 = time = 4
value = S21932,6

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 1
trigger1 = time = 4
value = S21932,10006

[State 0, PlaySnd]
type = PlaySnd
triggerall = root,var(16) = 1
trigger1 = time = 4
value = S21932,10006

[state turn]
type = turn
trigger1 = facing != 1

[State 19001, 1]
type = Explod
trigger1 = Time = 4
id = 6927
anim = 6927 + (root,var(20) * 10000)
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 41
removeongethit = 1
removetime=127
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 1
id = 6912
anim = 6912
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=130
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 1
id = 6913
anim = 6913
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 38
removeongethit = 1
removetime=130
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 4
id = 6922
anim = 6922
pos = 327 ,19
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 39
removeongethit = 1
removetime=127
scale = .19,.2
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 140003, end]
type = DestroySelf
trigger1 = time =125

[State 0, ChangeState]
type = ChangeState
triggerall = random <=500
trigger1 = enemy,life <= 1 && time < 2
value = 150004+random%2
ignorehitpause = 1

;Hyper - All Out Attack (Sebi: No se porque chucha estoy aqui)
[StateDef 150006]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =616
sprpriority = 100

[state turn]
type = turn
trigger1 = facing != 1

[State 19001, 1]
type = Explod
trigger1 = Time = 3
id = 6931
anim = 6931 + (root,var(20) * 10000)
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=127
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 6912
anim = 6912
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=130
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 6913
anim = 6913
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 38
removeongethit = 1
removetime=130
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 3
id = 6930
anim = 6930
pos = 327 ,19
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 39
removeongethit = 1
removetime=127
scale = .19,.2
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,10 + (root,var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,10 + (root,var(16) * 10000)

[State 140003, end]
type = DestroySelf
trigger1 = time =125

;Hyper - All Out Attack (Ivette Dialogue: Acabemos con esto)
[StateDef 150004]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =616
sprpriority = 100

[state turn]
type = turn
trigger1 = facing != 1

[State 19001, 1]
type = Explod
trigger1 = Time = 3
id = 6926
anim = 6926 + (root,var(20) * 10000)
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=127
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 6912
anim = 6912
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=130
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 6913
anim = 6913
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 38
removeongethit = 1
removetime=130
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 3
id = 6928
anim = 6928
pos = 327 ,19
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 39
removeongethit = 1
removetime=127
scale = .19,.2
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,8 + (root,var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,8 + (root,var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,8 + (root,var(16) * 10000)

[State 140003, end]
type = DestroySelf
trigger1 = time =125

;Hyper - All Out Attack (Ivette Dialogue: Ya terminamos)
[StateDef 150005]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim =616
sprpriority = 100

[state turn]
type = turn
trigger1 = facing != 1

[State 19001, 1]
type = Explod
trigger1 = Time = 3
id = 6929
anim = 6929 + (root,var(20) * 10000)
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=127
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 6912
anim = 6912
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=130
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 6913
anim = 6913
pos = 325,20
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 38
removeongethit = 1
removetime=130
scale = .17,.19
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 3
id = 6928
anim = 6928
pos = 327 ,19
postype = back
facing = IfElse(facing = 1, 1, -1)
sprpriority = 39
removeongethit = 1
removetime=127
scale = .19,.2
supermovetime=-1
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,9 + (root,var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,9 + (root,var(16) * 10000)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S21932,9 + (root,var(16) * 10000)

[State 140003, end]
type = DestroySelf
trigger1 = time =125

;Hyper - All Out Attack (P2 Blood)
[StateDef 140004]
type = S
movetype= A
physics = S
juggle  = 1
velset = .035,0
ctrl = 0
anim = 677
sprpriority = 28

[State 0, Offset]
type = Offset
trigger1 = time > 0
y =(-screenpos y) + floor(gameheight*.700 + 1*time/80)
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub
ignorehitpause = 1

[State 1100, 3]
type = AngleDraw
Trigger1 = 1
value = .007*time

[State 1100, 3]
type = AngleDraw
Trigger1 = 1
value = -20

[State 140003, end]
type = DestroySelf
triggerall = root,win = 0
trigger1 = time =145

;Hyper - All Out Attack (Floor)
[StateDef 1400014]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 6706
sprpriority = 25

[State 0, Offset]
type = Offset
trigger1 = 1
y = (-screenpos y) + floor(gameheight*.822)
ignorehitpause = 1

[state turn]
type = turn
trigger1 = facing != 1

[State 1100, 3]
type = AngleDraw
Trigger1 = time < 111
value = -3.75

[State 1100, 3]
type = AngleDraw
Trigger1 = time > 113
value = 6.5

[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = .007*time

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 85
y = -23

[State 140003, end]
type = DestroySelf
triggerall = root,win = 0
trigger1 = time =245

;Hyper - All Out Attack (BG)
[StateDef 140671]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 671
sprpriority = 29

[State 0, PalFXWiz]
type = PalFX
trigger1 = parent, stateno = 180140
time = 999
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 3
value = 22

[state turn]
type = turn
trigger1 = facing != 1

[State 0, AngleAdd]
type = AngleDraw
trigger1 = 1
value = .007*time

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 95
y = 20

[State 140003, end]
type = DestroySelf
triggerall = root,win = 0
trigger1 = time =145

;Hyper - All Out Attack (Not win)
[StateDef 140006]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 0
sprpriority = 28

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 11700

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 12700

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 11701

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 612

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6122

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 613

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6133

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 615

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6155

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 614

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6144

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 670

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6700

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 672

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6722

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 671

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6711

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 673

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6733

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 675

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6755

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 676

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6766

[State 0, ChangeState]
type = changestate
trigger1 = 1
value = 0
ctrl = 1

;Hyper - All Out Attack (Not win 2)
[StateDef 1400062]
type = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 0
sprpriority = 28

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 11700

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 12700

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 11701

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 612

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6122

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 613

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6133

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 615

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6155

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 614

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6144

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 670

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6700

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 672

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6722

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 671

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6711

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 673

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6733

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 675

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6755

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 676

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6766

[State 0, ChangeState]
type = destroyself
trigger1 = 1

;---------------------------------------------------------------------------
;Hyper - All Out Attack (Custom State 1)
[Statedef 1700101]
type = S
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time > 20
time = 145
add = 0,0,0
mul = 0,0,0
sinadd = 0,0,0,10
invertall = 0
color = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 66363636, ChangeAnim2]
type = ChangeAnim2
trigger1 = time = 0
value = 13993

;Hyper - All Out Attack (Custom State 2)
[Statedef 1700102]
type = S
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 31

[State 0, Offset]
type = Offset
trigger1 = time<2
x = 7
y = -2
[State 0, Offset]
type = Offset
trigger1 = time>2&&time<4
x = -7
y = 2
[State 0, Offset]
type = Offset
trigger1 = time>4&&time<8
x = 4
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>10&&time<12
x = -2
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>12&&time<14
x = 4
y = -2
[State 0, Offset]
type = Offset
trigger1 = time>14&&time<16
x = -7
y = 2
[State 0, Offset]
type = Offset
trigger1 = time>16&&time<18
x = 4
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>20&&time<22
x = -2
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>22&&time<24
x = 4
y = -2
[State 0, Offset]
type = Offset
trigger1 = time>24&&time<26
x = -7
y = 2
[State 0, Offset]
type = Offset
trigger1 = time>26&&time<28
x = 4
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>30&&time<32
x = -2
y = 4

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = 0

[State 0, Offset]
type = Offset
trigger1 = 1
y = (-screenpos y) + floor(gameheight*.470)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.3,1.3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = (5 - 0.8*time/6.6),(5 - 0.8*time/6.6)

[State 5201, 1]
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0
time = 145
add = 0,0,0
mul = 0,0,0
sinadd = 0,0,0,10
invertall = 0
color = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(13984)
value = 13984

[State 0, 1]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = !SelfAnimExist(13984)
value = 13994

[State 66363636, State]
type = ChangeState
trigger1 = Time = 32
value = 17001021

;Hyper - All Out Attack (Custom State 2 - 2)
[Statedef 17001021]
type = S
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 31

[State 0, Offset]
type = Offset
trigger1 = time<2
x = 3
y = -7
[State 0, Offset]
type = Offset
trigger1 = time>2&&time<4
x = -3
y = 7
[State 0, Offset]
type = Offset
trigger1 = time>4&&time<8
x = 3
y = -6
[State 0, Offset]
type = Offset
trigger1 = time>10&&time<12
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>12&&time<14
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>14&&time<16
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>16&&time<18
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>20&&time<22
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>22&&time<24
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>24&&time<26
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>26&&time<28
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>30&&time<32
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>32&&time<34
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>32&&time<34
x = 3
y = -4
[State 0, Offset]
type = Offset
trigger1 = time>34&&time<38
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>40&&time<42
x = -3
y = 5
[State 0, Offset]
type = Offset
trigger1 = time>42&&time<44
x = 3
y = -4
[State 0, Offset]
type = Offset
trigger1 = time>44&&time<46
x = -3
y = 5
[State 0, Offset]
type = Offset
trigger1 = time>46&&time<48
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>50&&time<52
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>52&&time<54
x = 3
y = -4
[State 0, Offset]
type = Offset
trigger1 = time>54&&time<56
x = -3
y = 5
[State 0, Offset]
type = Offset
trigger1 = time>56&&time<58
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>60&&time<62
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>62&&time<64
x = 3
y = -4
[State 0, Offset]
type = Offset
trigger1 = time>64&&time<68
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>70&&time<72
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>72&&time<74
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>74&&time<76
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>76&&time<78
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>80&&time<82
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>82&&time<84
x = 3
y = -2
[State 0, Offset]
type = Offset
trigger1 = time>84&&time<86
x = -3
y = 2
[State 0, Offset]
type = Offset
trigger1 = time>86&&time<88
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>90&&time<92
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>92&&time<94
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>94&&time<96
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>96&&time<98
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>100&&time<102
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>102&&time<104
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>104&&time<106
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>106&&time<108
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>110&&time<112
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>112&&time<114
x = 3
y = -4

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = 0

[State 0, Offset]
type = Offset
trigger1 = 1
y = (-screenpos y) + floor(gameheight*.470)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.3,1.3

[State 5201, 1]
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = Time = 115
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 66363636, State]
type = selfstate
trigger1 = Time = 115
value = 5050

;Hyper - All Out Attack (Custom State 2 [4:3])
[Statedef 170010243]
type = S
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 31

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = 0

[State 0, Offset]
type = Offset
trigger1 = time<2
x = 7
y = -2
[State 0, Offset]
type = Offset
trigger1 = time>2&&time<4
x = -7
y = 2
[State 0, Offset]
type = Offset
trigger1 = time>4&&time<8
x = 4
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>10&&time<12
x = -2
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>12&&time<14
x = 4
y = -2
[State 0, Offset]
type = Offset
trigger1 = time>14&&time<16
x = -7
y = 2
[State 0, Offset]
type = Offset
trigger1 = time>16&&time<18
x = 4
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>20&&time<22
x = -2
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>22&&time<24
x = 4
y = -2
[State 0, Offset]
type = Offset
trigger1 = time>24&&time<26
x = -7
y = 2
[State 0, Offset]
type = Offset
trigger1 = time>26&&time<28
x = 4
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>30&&time<32
x = -2
y = 4

[State 0, Offset]
type = Offset
trigger1 = 1
y = (-screenpos y) + floor(gameheight*.625)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.3,1.3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = (5 - 0.8*time/6.6),(5 - 0.8*time/6.6)

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0
time = 145
add = 0,0,0
mul = 0,0,0
sinadd = 0,0,0,10
invertall = 0
color = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = SelfAnimExist(13984)
value = 13984

[State 0, 1]
type = ChangeAnim2
trigger1 = time = 0
trigger1 = !SelfAnimExist(13984)
value = 13994

[State 66363636, State]
type = ChangeState
trigger1 = Time = 32
value = 1700102143

;Hyper - All Out Attack (Custom State 2 - 2 [4:3])
[Statedef 1700102143]
type = S
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = 31

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = 0

[State 0, Offset]
type = Offset
trigger1 = time<2
x = 3
y = -7
[State 0, Offset]
type = Offset
trigger1 = time>2&&time<4
x = -3
y = 7
[State 0, Offset]
type = Offset
trigger1 = time>4&&time<8
x = 3
y = -6
[State 0, Offset]
type = Offset
trigger1 = time>10&&time<12
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>12&&time<14
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>14&&time<16
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>16&&time<18
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>20&&time<22
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>22&&time<24
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>24&&time<26
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>26&&time<28
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>30&&time<32
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>32&&time<34
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>32&&time<34
x = 3
y = -4
[State 0, Offset]
type = Offset
trigger1 = time>34&&time<38
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>40&&time<42
x = -3
y = 5
[State 0, Offset]
type = Offset
trigger1 = time>42&&time<44
x = 3
y = -4
[State 0, Offset]
type = Offset
trigger1 = time>44&&time<46
x = -3
y = 5
[State 0, Offset]
type = Offset
trigger1 = time>46&&time<48
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>50&&time<52
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>52&&time<54
x = 3
y = -4
[State 0, Offset]
type = Offset
trigger1 = time>54&&time<56
x = -3
y = 5
[State 0, Offset]
type = Offset
trigger1 = time>56&&time<58
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>60&&time<62
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>62&&time<64
x = 3
y = -4
[State 0, Offset]
type = Offset
trigger1 = time>64&&time<68
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>70&&time<72
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>72&&time<74
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>74&&time<76
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>76&&time<78
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>80&&time<82
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>82&&time<84
x = 3
y = -2
[State 0, Offset]
type = Offset
trigger1 = time>84&&time<86
x = -3
y = 2
[State 0, Offset]
type = Offset
trigger1 = time>86&&time<88
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>90&&time<92
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>92&&time<94
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>94&&time<96
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>96&&time<98
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>100&&time<102
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>102&&time<104
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>104&&time<106
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>106&&time<108
x = 3
y = -5
[State 0, Offset]
type = Offset
trigger1 = time>110&&time<112
x = -3
y = 4
[State 0, Offset]
type = Offset
trigger1 = time>112&&time<114
x = 3
y = -4

[State 0, Offset]
type = Offset
trigger1 = 1
y = (-screenpos y) + floor(gameheight*.625)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.3,1.3

[State 5201, 1] ;Turn if not facing opponent
type = Turn
trigger1 = Time = 0
trigger1 = p2dist X < -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = Time = 115
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 66363636, State]
type = selfstate
trigger1 = Time = 115
value = 5050

;Hyper - All Out Attack (Custom State 3)
[Statedef 1700103]
type = S
movetype = H
physics = N
ctrl = 0
velset = 0,.02
sprpriority = 23

[state turn]
type = turn
trigger1 = facing != 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .6,.6

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, Offset]
type = Offset
trigger1 = time < 85
x = -90
y =(-screenpos y) + floor(gameheight* 1.740)
ignorehitpause = 1

[State 0, Offset]
type = Offset
trigger1 = time > 84 && time < 91
x = -90
y =(-screenpos y) + floor(gameheight*5.790 + -1*time/.1)
ignorehitpause = 1

;4:3
;[State 0, Offset]
;type = Offset
;trigger1 = time > 84 && time < 91
;x = -90
;y =(-screenpos y) + floor(gameheight*4.534 + -1*time/.1)
;ignorehitpause = 1

[State 0, Offset]
type = Offset
trigger1 = time > 90 && time < 149
x = -90
y =(-screenpos y) + floor(gameheight*.634 + 1*time/33)
ignorehitpause = 1

[State 0, Offset]
type = Offset
trigger1 = time > 148 
x = -90
y =(-screenpos y) + floor(gameheight*.750)
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 0
time = 200
add = 0,0,0
mul = 0,0,0
sinadd = 0,0,0,10
invertall = 0
color = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = SelfAnimExist(13996)
trigger1 = time = 150
value = 13996

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = !SelfAnimExist(13996)
trigger1 = time = 150
value = 13995

[State 1100, 3]
type = AngleDraw
Trigger1 = 1
value = .007*time

[State 66363636, ChangeAnim2]
type = ChangeAnim
trigger1 = time = 0
value = 5300

;Hyper - All Out Attack (Dead)
[Statedef 5150]
type = S
movetype = H
physics = N
ctrl = 0
velset = 0,0
sprpriority = -3

[state turn]
type = turn
trigger1 = prevstateno = 1700103 || prevstateno = 515044
trigger1 = facing != 1

[State 5150, 1] ;Normal anim
type = ChangeAnim
triggerall = prevstateno != 1700103 && prevstateno != 515044
triggerall = Time = 0
triggerall = SelfAnimExist(5140)
trigger1 = (anim != [5111,5119]) && (anim != [5171,5179])
trigger2 = !SelfAnimExist(5140 + (anim % 10))
value = 5140

[State 5150, 3] ;Hit up type anim
type = ChangeAnim
triggerall = prevstateno != 1700103 && prevstateno != 515044
trigger1 = Time = 0
trigger1 = (anim = [5111,5119]) || (anim = [5171,5179])
trigger1 = SelfAnimExist(5140 + (anim % 10))
value = 5140 + (anim % 10)

[State 5150, 4] ;Match over anim
type = ChangeAnim
persistent = 0
triggerall = prevstateno != 1700103 && prevstateno != 515044
;trigger1 = Time = 0
trigger1 = MatchOver = 1
trigger1 = Anim = [5140,5149]
trigger1 = SelfAnimExist(anim+10)
value = anim+10

[State 5150, 5] ;Switch to 5110 if liedead anim does not exist
type = ChangeAnim
triggerall = prevstateno != 1700103 && prevstateno != 515044
trigger1 = Time = 0
trigger1 = Anim != [5140,5159]
trigger1 = Anim != [5110,5119]
value = 5110

[State 0, PlayerPush]
type = PlayerPush
trigger1 = prevstateno = 1700103 || prevstateno = 515044
value = 1
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 1700103 || prevstateno = 515044
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
triggerall = prevstateno = 1700103 || prevstateno = 515044
trigger1 = 1
time = 2
add = 0,0,0
mul = 0,0,0
sinadd = 0,0,0,10
invertall = 0
color = 0

[State 0, SprPriority]
type = SprPriority
trigger1 = prevstateno = 1700103 || prevstateno = 515044
value = 25

[State 1100, 3]
type = AngleDraw
triggerall = prevstateno = 1700103 || prevstateno = 515044
Trigger1 = 1
value = .007*time

[State 0, AngleDraw]
type = AngleDraw
triggerall = prevstateno = 1700103 || prevstateno = 515044
trigger1 = 1
scale = .6,.6

[State 0, ScreenBound]
type = ScreenBound
triggerall = prevstateno = 1700103 || prevstateno = 515044
trigger1 = 1
value = 0

[State 0, Offset]
type = Offset
triggerall = prevstateno = 1700103
trigger1 = time > 0
x = -90
y =(-screenpos y) + floor(gameheight*.870 + 1*time/80)
ignorehitpause = 1

;Hyper - All Out Attack (Custom State NOT dead)
[Statedef 515044]
type = S
movetype = H
physics = N
ctrl = 0
velset = 0,.02
sprpriority = 23

[state turn]
type = turn
trigger1 = facing != 1

[State 0, VelSet]
type = VelSet
trigger1 = time > 0
y = .02

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 150
add = 0,0,0
mul = 0,0,0
sinadd = 0,0,0,10
invertall = 0
color = 0

[State 0, SprPriority]
type = SprPriority
Trigger1 = 1
value = 25

[State 1100, 3]
type = AngleDraw
Trigger1 = 1
value = .010*time

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .6,.6

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, Offset]
type = Offset
trigger1 = time > 0
x = -90
y =(-screenpos y) + floor(gameheight*.870 + 1*time/80)
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 145
time = 40
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 66363636, State]
type = selfstate
trigger1 = Time = 146
value = 5050

;---------------------------------------------------------------------------
;Hyper - Obra Maestra (Intro)
[Statedef 1210]
type = S
movetype = A
physics = S
ctrl = 0
velset = 0,0
anim = 13992
facep2=1
poweradd = 0
sprpriority = 2
ctrl = 0

[State 0, VarSet]
type = VarSet
triggerall = animelem = 4
trigger1 = var(8) < 240
var(8) = 240
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 0
trigger1 = time = 5
value = S12022,0

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 1
trigger1 = time = 5
value = S12022,10000

[State 0]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 5
value = S519, 5

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 19001, 1]
type = Explod
trigger1 = animelem = 4
id = 3232
anim = 712
pos = 0,0
postype = back
sprpriority = -6
removeongethit = 1
removetime=80
scale = .5,.7
supermovetime=80
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = facing = 1
name = "Hyper Portrait"
ID = 11000
stateno = 11000
pos = -190,-floor(floor(screenpos y))-120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30
;ignorehitpause =
;persistent =

[State 0, Helper]
type = Helper
trigger1 = animelem = 1
name = "Hyper Portrait"
ID = 11002
stateno = 11002
pos = 190,-floor(screenpos y)
postype = right ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = facing = 1
name = "Hyper Portrait"
ID = 11001
stateno = 11001
pos = -190,-floor(floor(screenpos y))-120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30
;ignorehitpause =
;persistent =

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = facing = -1
name = "Hyper Portrait"
ID = 11000
stateno = 11000
pos = 190,-floor(screenpos y)
postype = right ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30

[State 0, Helper]
type = Helper
trigger1 = animelem = 4
trigger1 = facing = -1
name = "Hyper Portrait"
ID = 11001
stateno = 11001
pos = 190,-floor(screenpos y)
postype = right ;p2,front,back,left,right
facing = -1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = .30
size.yscale = .30
[State 3003, SuperPause]
type = SuperPause
trigger1 = animelem = 4
time = 40
movetime = 40
anim = -1
sound = -1
movetime = 0
darken = 0
poweradd = -3000
unhittable = 1
p2defmul = 1
[State 19000, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 1211
ctrl = 0

;---------------------------------------------------------------------------
;Hyper - Obra Maestra (Starter)
[StateDef 1211]
type = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 1211
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(4) < 0
value = SCA
time = 1
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0
x = 15
y = 0

[State 210, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
attr = S, HA
id = 1210
damage = ceil(ifelse(fvar(11)<=.45,(60*.45),(60*fvar(11)))*ifelse(var(42),1.1,1)),ceil(60*.1)
getpower = 0,0
givepower = ceil(ifelse(fvar(11)<=.45,(60*.45),(60*fvar(11)))*.015),ceil(60*.005)
animtype = Heavy
fall.animtype = up
guardflag = M
hitflag = MAF
priority = 7, Hit
pausetime = 16, 16
guard.pausetime = 12,12
sparkno = s616
hitsound = S240, 15
sparkxy = -5, -65
guardsound = 6, 0
ground.type = High
ground.slidetime = ceil(18+3*(var(42)!=0))
ground.hittime = ceil(18+3*(var(42)!=0))
air.hittime = ceil(18*1+(var(42)!=0))
fall.recovertime = ceil(18*1+(var(42)!=0))
guard.hittime = 12
airguard.hittime = 12
ground.velocity = -3,-9.25
air.velocity = -3,-9.25
yaccel = .5
fall = 1;0
fall.recover = 0
;forcenofall = 1
forcestand = 1
kill = 0
guard.kill = 0
envshake.time = 15
envshake.ampl = -4
envshake.freq = 100

[State 0, Hit Spark]
type = Explod
trigger1 = MoveHit
anim = 3000
ID = 3000
pos = 40,-70
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
removetime = 16
scale = .9,.9
persistent = 0
sprpriority = -2
ontop = 1
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999

[State 0, TargetState]
type = TargetState
triggerall = NumTarget(1210) = 1
triggerall = movehit = 1
trigger1 = Target(1210),ishelper=0
trigger1 = Target(1210),stateno != 1310
value = 1310
ID = 1210
ignorehitpause = 1
persistent = 0
[State 0, ChangeState]
type = ChangeState
triggerall = NumTarget(1210) = 1
triggerall = movehit = 1
trigger1 = Target(1210),ishelper=0
trigger1 = Target(1210),stateno = 1310
value = 1212
ctrl = 0
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = moveguarded
trigger2 = animelem = 6
movetype = I        ;I,A,H
ignorehitpause = 1

[State 220, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Hyper - Obra Maestra (Hit)
[Statedef 1212]
type = S
ctrl = 0
velset = 0,0
movetype = I
poweradd = 0
physics = S
sprpriority = 2

[State 0, TargetState]
type = TargetState
triggerall = NumTarget(1210)
trigger1 = target(1210), stateno != 1310
value = 1310
ID = 1210
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 1211
elem = animelemno(0)
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
triggerall = NumTarget(1210)
triggerall = time
trigger1 = target(1210), stateno != 1311
value = 1311
ID = 1210
ignorehitpause = 1
persistent = 0
[State 195, 2]
type = ChangeState
trigger1 = time
value = 1213

;---------------------------------------------------------------------------
;Hyper - Obra Maestra (Cinematic)
[Statedef 1213]
type = S
ctrl = 0
anim = 616
velset = 0,0
movetype = I
poweradd = 0
physics = S
sprpriority = 2

[State 0, TargetState]
type = TargetState
triggerall = time < 10
triggerall = NumTarget(1210)
trigger1 = target(1210), stateno != 1311
value = 1311
ID = 1210
ignorehitpause = 1
persistent = 0

[state turn]
type = turn
trigger1 = facing != 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 112014
ignorehitpause = 1 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 41
value = S12020,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 42
value = S12020,3

[State 19001, 1]
type = Explod
trigger1 = Time = 130
id = 112028
anim = 112028
pos = 0+ (var(17) * -60),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 50
removeongethit = 1
removetime=80
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 20
id = 11201
anim = 11201
pos = 0+ (var(17) * -60),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=-1
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 76
value = S12021,2

[State 19001, 1]
type = Explod
trigger1 = Time = 76
id = 112021
anim = 112021
pos = 170,70
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=55
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 76
value = S12021,0+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 76
value = S1400,0+random%4

[State 19001, 1]
type = Explod
trigger1 = Time = 83
id = 112022
anim = 112022
pos = 5,0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=48
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 83
value = S12021,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 83
value = S1400,0+random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 90
value = S12021,2+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 90
value = S1400,0+random%4

[State 19001, 1]
type = Explod
trigger1 = Time = 90
id = 112023
anim = 112023
pos = 125,0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=40
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 97
value = S12021,0+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 97
value = S1400,0+random%4

[State 19001, 1]
type = Explod
trigger1 = Time = 97
id = 112024
anim = 112024
pos = 125,0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 43
removeongethit = 1
removetime=34
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 104
value = S12021,2+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 104
value = S1400,0+random%4

[State 19001, 1]
type = Explod
trigger1 = Time = 104
id = 112029
anim = 112025
pos = 270,0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=27
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 111
value = S12021,0+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 111
value = S1400,0+random%4

[State 19001, 1]
type = Explod
trigger1 = Time = 111
id = 112026
anim = 112026
pos = 190,-50
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=19
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 118
value = S12021,2+random%2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 118
value = S1400,0+random%4

[State 19001, 1]
type = Explod
trigger1 = Time = 118
id = 112022
anim = 112022
pos = 140,10
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=11
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 125
value = S12021,0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 125
value = S1400,0+random%4
[State 19001, 1]
type = Explod
trigger1 = Time = 125
id = 112027
anim = 112027
pos = 110,-20
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 40
removeongethit = 1
removetime=6
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 112019
anim = 112019
pos = 0+ (var(17) * -60),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 27
removeongethit = 1
removetime=76
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1

[State 19001, 1]
type = Explod
trigger1 = Time = 0
id = 112020
anim = 112020
pos = 0+ (var(17) * -60),0
postype = back
Facing = IfElse(facing = 1, 1, -1)
sprpriority = 25
removeongethit = 1
removetime=-1
scale = .25+ (var(17) * .1),.25+ (var(17) * .1)
bindtime=-1
supermovetime = 9999
pausemovetime = 99999
sprpriority=-7
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 133
value = S12021,2+random%2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 133
value = S1400,0+random%4
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 142
value = S12021,0+random%2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 142
value = S1400,0+random%4
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 151
value = S12021,2+random%2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 151
value = S1400,0+random%4
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 160
value = S12021,0+random%2
volumescale = 110
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 160
value = S1400,0+random%4
volumescale = 110
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 168
value = S12021,2+random%2
volumescale = 120
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 168
value = S1400,0+random%4
volumescale = 120
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 172
value = S12021,0+random%2
volumescale = 30
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 172
value = S1400,0+random%4
volumescale = 130
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 176
value = S12021,0
volumescale = 140
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 176
value = S1400,0+random%4
volumescale = 140
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 181
value = S12021,0
volumescale = 150
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 181
value = S1400,0+random%4
volumescale = 150

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 20 || time = 76 || time = 83 || time = 90 || time = 97 || time = 104 || time = 111 || time = 118 || time = 125
time = 2
freq = 100
ampl = -4

[State 0, HitAdd]
type = HitAdd
trigger1 = time = 42
trigger2 = time = 76
trigger3 = time = 83
trigger4 = time = 90
trigger5 = time = 97
trigger6 = time = 104
trigger7 = time = 111
trigger8 = time = 118
trigger9 = time = 125
trigger10 = time = 133
trigger11 = time = 142
trigger12 = time = 151
trigger13 = time = 160
trigger14 = time = 168
trigger15 = time = 172
trigger16 = time = 176
trigger17 = time = 181
value = 1
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall = Enemy, TeamMode = Simul || TeamMode = Simul
trigger1 = time = 0
helpertype = normal ;player
name = "Stop the other players"
ID = 12205
stateno = 12205
pos = 0,0
postype = left
facing = 1
ownpal = 0
size.xscale = 9
size.yscale = 9
PauseMoveTime = 9999
SuperMoveTime = 9999
[State 0, Helper]
type = Helper
triggerall = Enemy, TeamMode = Simul || TeamMode = Simul
trigger1 = time = 1
helpertype = normal ;player
name = "Stop the other players"
ID = 12205
stateno = 12205
pos = 0,0
postype = left
facing = 1
ownpal = 0
size.xscale = 9
size.yscale = 9
PauseMoveTime = 9999
SuperMoveTime = 9999

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 0
trigger1 = time = 200
value = S12022,1
volumescale = 150

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 1
trigger1 = time = 200
value = S12022,10001
volumescale = 150

[State 0]
type = PlaySnd
triggerall = var(16) = 20
trigger1 = time = 200
value = S519, 4
volumescale = 150

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S12020,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 160
value = S1400,4
loop = 1
channel = 3
volumescale = 150

[State 19001,TargetLifeAdd]
type = TargetLifeAdd
trigger1 = time = 268
value = -ceil(ifelse(fvar(11)<=.45,(500*.45),(500*fvar(11))))
absolute = 1
kill = 1
[State 0, TargetPowerAdd]
type = TargetPowerAdd
trigger1 = time = 268
value = ceil(ifelse(fvar(11)<=.45,(500*.45),(500*fvar(11)))*.015)
ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 205
channel = 3
ignorehitpause = 1

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noKOslow
flag3 = nokosnd

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = noFG
flag3 = timerfreeze

[State 195, 2]
type = ChangeState
trigger1 = roundstate <= 2 || roundstate > 2 && !winko
trigger1 = time = 350
trigger2 = time = 450
value = 1214

;---------------------------------------------------------------------------
;Hyper - Obra Maestra (Ending)
[Statedef 1214]
type = S
anim = 2000
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, TargetBind]
type = TargetBind
trigger1 = p2life <= 1
time = 1
pos = 50,0

[State 3300, p2state]
type=targetstate
trigger1 = p2life <= 1
value = 5150
persistent = 0
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = p2life >= 1
value = 1313
persistent = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 112020
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 112019
ignorehitpause = 1
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 11201
ignorehitpause = 1

[State 195, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Hyper - Obra Maestra (Custom State 1)
[Statedef 1310]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = 1
value = 112013

[State 195, 2]
type = SelfState
trigger1 = time >= 40
value = 5050

;---------------------------------------------------------------------------
;Hyper - Obra Maestra (Custom State 2)
[Statedef 1311]
type     = A
movetype = H
physics  = S
velset = 0,0
sprpriority = 30

[State 0, Turn]
type = Turn
trigger1 = facing != -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 7
scale = 1.1,1.1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 112015

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
x = 0
y = -80

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 185

[State 0, VelAdd]
type = VelAdd
trigger1 = time = 0
x = -60

[State 0, VelAdd]
type = VelSet
trigger1 = time = 6
x = 0

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 6
value = 112016

[State 0, Offset]
type = Offset
triggerall = Anim = 112016
trigger1 = Time >= 0 && Time <= 18
x = ceil(sin(time*pi/2))

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 42
value = 112017

[State 0, Offset]
type = Offset
triggerall = Anim = 112017
trigger1 = AnimElemTime (1) >= 0 && AnimElemTime (1) <= 20
y = ceil(sin(time*pi/2))

[State 195, 2]
type = ChangeState
trigger1 = time = 76
value = 1312

;---------------------------------------------------------------------------
;Hyper - Obra Maestra (Custom State 3)
[Statedef 1312]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 30

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = -43

[state turn]
type = turn
trigger1 = facing != -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 2.4,2.4
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 112018

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 55
value = 616

[State 0, SprPriority]
type = SprPriority
trigger1 = time > 56
value = -4

;---------------------------------------------------------------------------
;Hyper - Obra Maestra (Custom State 4)
[Statedef 1313]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 112018

[State 0, VelSet]
type = VelSet
trigger1 = !Time
x = -43
y = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = .49

[State 1026, No scroll]
type = ScreenBound
triggerall = vel y <= 0 || Vel y > 0 && Pos y < -15
trigger1 = BackEdgeBodyDist < 65
trigger2 = FrontEdgeBodyDist < 65
value = 1
movecamera = 0,1

[State 1026, Hit wall]
type = ChangeState
triggerall = vel y <= 0 || Vel y > 0 && Pos y < -15
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 527

[State 1026, Hit ground]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100

;---------------------------------------------------------------------------
;Hyper - Obra Maestra (Stop the other players)
[StateDef 12205]
type = S
movetype = A
anim = 140011
poweradd = 0
sprpriority = -1

[State 119911990, HitDef]
type = HitDef
trigger1 = time = 0
attr = S,HT, HA
hitflag = MAFDP
affectteam = B
pausetime = 0, 0
p2stateno = 12206
sparkno = s616
hitsound = S1274895236443768943798179, 2
sparkxy = -5, -65
p2facing = 1
priority = 1,Miss
numhits = 0

[State 0, ChangeState]
type = DestroySelf
trigger1 = time = 30

;---------------------------------------------------------------------------
;Hyper - Obra Maestra (Stop the other players - Custom State)
[StateDef 12206]
type = S
sprpriority = -999
velset = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
value2 = S,NA
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, SelfState]
type = SelfState
trigger1 = time = 455
value = 50

;---------------------------------------------------------------------------
;Hyper Portait - Fondo
[Statedef 11000]
type = S
movetype = I
physics = S
sprpriority = -2
anim = 11000

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
y = -floor(screenpos y)+-10

[State 11000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,5]
x = 18
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = [5,15)
x = 18-(time-4)*1.775
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 15
x = .25
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = [30,46]
x = -28
y = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 46

;---------------------------------------------------------------------------
;Hyper Portait - Maavo
[Statedef 11001]
type = S
movetype = I
physics = S
sprpriority = -1
anim = 11001

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
y = -floor(screenpos y)+-10

[State 11000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,5]
x = 18
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = [5,15)
x = 18-(time-4)*1.775
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 15
x = .25
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = [30,46]
x = -28
y = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 46

;---------------------------------------------------------------------------
;Hyper Portait - Sonido
[Statedef 11002]
type = S
movetype = I
physics = S
anim = 616

[State 0, PosAdd]
type = PosSet
trigger1 = 1
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S979,0

[State 11000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 5

;---------------------------------------------------------------------------
;Slow Down
[Statedef 2444]
physics=N
velset=0,0
anim=616
ctrl = 0
 
[State S l o w]
type = Pause
trigger1 = Time%3=0
time = 4
pausebg = 1
     
[State DestroySelf]
type = DestroySelf
trigger1 = Time >= 25

;---------------------------------------------------------------------------
;No Music
[StateDef 1995]
Type    = A
movetype= I
physics = N
anim= 616

[State 181, AssertSpecial]
type = AssertSpecial
trigger1 = root,var(14)
flag = NoMusic

;---------------------------------------------------------------------------
[Statedef -2]

[State 0, VarSet]
type = VarSet
trigger1 = stateno != 2002
trigger1 = stateno != 19000
trigger1 = stateno != [190001,190002]
trigger1 = stateno != 87871
trigger1 = stateno != [17000,17002]
trigger1 = stateno != 1210
trigger2 = movecontact || movereversed
var(22) = 0
ignorehitpause = 1

[State -2]
type = VelAdd
triggerall = vel y >= 1 && pos Y <= -20
trigger1 = command = "holddown"
y = .5

[State 0, No Astral Bullshit]
type = VarSet
trigger1 = 1
var(40) = 0
ignorehitpause = 1
[State 0, Astral Bullshit]
type = VarSet
trigger1 = ((stateno = 180140 || stateno = 181) || stateno = 140002 || (stateno = 141002 || roundstate>2 && prevstateno = 141002) || stateno = 1410025 || numhelper(911)) && movetype != H
trigger2 = enemy, name = "Dilly" || enemy, name = "Parallel Dilly" || enemy, name = "Unlimited Dilly" || enemy, name = "Hypha the Chespin"
trigger2 = enemy, stateno = [4010,4099]
trigger3 = enemy, name = "Oliver Andersen"
trigger3 = enemy, stateno = [4301,4399]
trigger4 = enemy, name = "Nick (Mega Man)"
trigger4 = enemy, stateno = [4002,4099]
trigger5 = enemy, name = "Greninja_GBVS" || enemy, name = "NoNerfs_GBVS"
trigger5 = (enemy, stateno = [3010,3019]) && enemy,movetype != H || (matchover && enemy,teammode != simul && (enemy,fvar(2)||enemy,stateno=[180,189])); I know it's called a Super Skybound Art and not an Astral Heat, but shut up
trigger6 = enemy, name = "Maavo"
trigger6 = ((enemy,stateno = 180140 || enemy,stateno = 181) || enemy,stateno = 140002 || (enemy,stateno = 141002 || roundstate>2 && enemy, prevstateno = 141002) || enemy,stateno = 1410025 || enemy,numhelper(911)) && enemy,movetype != H
var(40) = 1
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = numhelper(3684) = 0
helpertype = normal ;player
name = "Helper Bar"
ID = 3684
stateno = 3684
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999999999999999
pausemovetime = 999999999999999999
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != [19000,199999]
trigger1 = stateno != [17000,17002]
trigger1 = stateno != [1210,1212]
id = 3232
;ignorehitpause = 
;persistent = 

[State -2, Give 'em some Movehitoner]
type = VarSet
trigger1 = 1
var(21) = ifelse((movehit=1||projhit=1),var(21)+1,0)
ignorehitpause = 1

;-----------------------------------------------------------------------------------------------
; Counterhit detection
;-----------------------------------------------------------------------------------------------
[State -2, VarSet];Checks if opponent is in attack state
type = VarSet
triggerall = numenemy
triggerall = !enemynear,movereversed
trigger1 = enemy, movetype = A
var(42) = 1
ignorehitpause = 1

[State -2, VarSet];This resets the condition if counter not succesful and succesful
type = VarSet
triggerall = numenemy
trigger1 = enemy, movetype = I || var(43) >= 1  ;Enemy is Idle | Counter was Succesful
trigger2 = var(43) > 10 && enemy, movetype = H  ;10 ticks passed & enemy is on gethit state
trigger3 = (time<=1) && (stateno!=[5000,5199]) && (movetype!=H)
var(42) = 0
ignorehitpause = 1

[State -2, VarSet];Checks if opponent is in attack state
type = VarSet
triggerall = numenemy
trigger1 = var(22)
var(42) = 1
ignorehitpause = 1

[State -2, VarSet];Counter Hit Succesful
type = VarSet
triggerall = !enemynear,movereversed
trigger1 = var(42) = 1 && movehit ;Counter Check Ok, Move Hit Succesfully.
trigger1 = stateno != [190,199] ;Does not activate during intros.
trigger1 = stateno != [800,899] ;Does not activate during throws.
var(43) = 1
ignorehitpause = 1

[State 0, Explod]
type = PlaySnd
triggerall = numenemy
triggerall = roundstate = 2
triggerall = stateno != [800,899] ;Does not activate during throws.
triggerall = !enemynear,movereversed
triggerall = var(42) = 1
trigger1 = var(21) = 1
trigger2 = numhelper
trigger2 = helper,var(21) = 1
value = s42,1
channel = 12
ignorehitpause = 1
persistent = 0

[State -2, VarAdd];Counter Hit Timer
type = VarAdd
trigger1 = var(43) >= 1 ;Counter was succesful
var(43) = 1
ignorehitpause = 1

[State -2, VarSet];Counter Hit Reset
type = VarSet
trigger1 = var(43) >= 22 && movehit ;Reset if 22 ticks passed and move hit
trigger2 = p2movetype != H ;Reset if P2 is no longer in gethit state
trigger3 = movetype = H ;Reset if P1 is getting hit
var(43) = 0
ignorehitpause = 1
;-----------------------------------------------------------------------------------------------

;-----------------------------------------------------------------------------------------------

[State 0, Hitcount Reset]
type = VarSet
trigger1 = numenemy
trigger1 = enemy, movetype != H
trigger2 = numenemy
trigger2 = enemy, stateno = [5120,5150]
trigger3 = !numenemy
var(10) = 0
ignorehitpause = 1
[State 0, Scaling Table Reset]
type = VarSet
trigger1 = numenemy
trigger1 = enemy, movetype != H
trigger2 = numenemy
trigger2 = enemy, stateno = [5120,5150]
trigger3 = !numenemy
var(11) = 0
ignorehitpause = 1
[State 0, Initial Proration Reset]
type = VarSet
trigger1 = numenemy
trigger1 = enemy, movetype != H
trigger2 = numenemy
trigger2 = enemy, stateno = [5120,5150]
trigger3 = !numenemy
var(12) = 0
ignorehitpause = 1
[State 0, Proration]
type = VarSet
trigger1 = var(11) < 1
fvar(11) = 1*fvar(12)
ignorehitpause = 1
[State 0, Proration]
type = VarSet
trigger1 = var(11) = 1
fvar(11) = .9*fvar(12)
ignorehitpause = 1
[State 0, Proration]
type = VarSet
trigger1 = var(11) = 2
fvar(11) = .8*fvar(12)
ignorehitpause = 1
[State 0, Proration]
type = VarSet
trigger1 = var(11) = 3
fvar(11) = .7*fvar(12)
ignorehitpause = 1
[State 0, Proration]
type = VarSet
trigger1 = var(11) = 4
fvar(11) = .6*fvar(12)
ignorehitpause = 1
[State 0, Proration]
type = VarSet
trigger1 = var(11) = 5
fvar(11) = .5*fvar(12)
ignorehitpause = 1
[State 0, Proration]
type = VarSet
trigger1 = var(11) = 6
fvar(11) = .4*fvar(12)
ignorehitpause = 1
[State 0, Proration]
type = VarSet
trigger1 = var(10) = 1 && var(11) = [7,10]
trigger2 = var(10) = 2 && var(11) = 7
trigger3 = var(10) = 3 && var(11) = 7
fvar(11) = .3*fvar(12)
ignorehitpause = 1
[State 0, Proration]
type = VarSet
trigger1 = var(10) = 1 && var(11) = [11,13]
fvar(11) = .25*fvar(12)
ignorehitpause = 1
[State 0, Proration]
type = VarSet
trigger1 = var(10) = 1 && var(11) = [14,16]
trigger2 = var(10) = 2 && var(11) = [8,11]
trigger3 = var(10) = 3 && var(11) = 8
fvar(11) = .2*fvar(12)
ignorehitpause = 1
[State 0, Proration]
type = VarSet
trigger1 = var(10) = 1 && var(11) > 16
trigger2 = var(10) = 2 && var(11) = [12,15]
trigger3 = var(10) = 3 && var(11) = 8
fvar(11) = .15*fvar(12)
ignorehitpause = 1
[State 0, Damage Scaling]
type = VarSet
trigger1 = var(10) = 2 && var(11) > 15
trigger2 = var(10) = 3 && var(11) > 8
fvar(11) = .1*fvar(12)
ignorehitpause = 1
[State 0, Damage Scaling]
type = VarSet
triggerall = fvar(11) < .25
trigger1 = stateno = 19001
trigger2 = stateno = 190001
trigger3 = stateno = 87871
fvar(11) = .20
ignorehitpause = 1
;[State 0, Damage Scaling]
;type = VarSet
;triggerall = fvar(11) < .35
;trigger1 = stateno = [17000,17002]
;trigger2 = stateno = 140002
;fvar(11) = .35
;ignorehitpause = 1
																																																		value = 19
[State 0, Rage]
type = VarSet
trigger1 = life > (lifemax*.77)
fvar(12) = 1
ignorehitpause = 1
[State 0, Rage]
type = VarSet
trigger1 = life <= (lifemax*.77)
trigger1 = life > (lifemax*.6504)
fvar(12) = 1.025
ignorehitpause = 1
[State 0, Rage]
type = VarSet
trigger1 = life <= (lifemax*.6504)
trigger1 = life > (lifemax*.5308)
fvar(12) = 1.05
ignorehitpause = 1
[State 0, Rage]
type = VarSet
trigger1 = life <= (lifemax*.5308)
trigger1 = life > (lifemax*.4112)
fvar(12) = 1.075
ignorehitpause = 1
[State 0, Rage]
type = VarSet
trigger1 = life <= (lifemax*.4112)
trigger1 = life > (lifemax*.2916)
fvar(12) = 1.01
ignorehitpause = 1
[State 0, Rage]
type = VarSet
trigger1 = life <= (lifemax*.2916)
trigger1 = life > (lifemax*.25)
fvar(12) = 1.0125
ignorehitpause = 1
[State 0, Rage]
type = VarSet
trigger1 = life <= (lifemax*.25)
fvar(12) = 1.15
ignorehitpause = 1

[State 0, AppendToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "scaling table = %d numhits = %d cooldown = %d\nproration = %f rage = %f gain = %f"
params = var(10),var(11), var(8), fvar(11), fvar(12), fvar(8)
ignorehitpause = 1

[State 0, Cooldown]
type = VarSet
triggerall = var(5) = 120
triggerall = stateno != 1301 && stateno != 1321
triggerall = numhelper(9902) = 0
trigger1 = numenemy
trigger1 = enemy, movetype != H
trigger2 = numenemy
trigger2 = enemy, stateno = [5120,5150]
trigger3 = !numenemy
var(5) = 119
ignorehitpause = 1
[State 0, Cooldown]
type = VarSet
triggerall = var(6) = 120
triggerall = stateno != 8805 && stateno != 8825
triggerall = numhelper(84803) = 0
trigger1 = numenemy
trigger1 = enemy, movetype != H
trigger2 = numenemy
trigger2 = enemy, stateno = [5120,5150]
trigger3 = !numenemy
var(6) = 119
ignorehitpause = 1

[State 0, VarSet]
type = VarAdd
triggerall = var(5) > 0 && var(5) < 120
trigger1 = stateno != 1301 && stateno != 1321
trigger1 = numhelper(9902) = 0
var(5) = -1
[State 0, VarSet]
type = VarAdd
triggerall = var(6) > 0 && var(6) < 120
trigger1 = stateno != 8805 && stateno != 8825
trigger1 = numhelper(84803) = 0
var(6) = -1

[State 0, Metergain]
type = VarAdd
triggerall = var(8) > 1 || var(8) = 1 && (!numenemy || numenemy && (enemy, movetype != H || enemy, stateno = [5120,5150]))
trigger1 = (stateno != 19000 && stateno != 190000) || ((stateno = 19000 || stateno = 190000) && (animelemtime(3) < 0 || animelemtime(3) > 26))
trigger1 = (stateno != 87871) || ((stateno = 87871) && (animelemtime(3) < 0 || animelemtime(9) >= 0))
trigger1 = (stateno != 17000) || (stateno = 17000 && (animelemtime(3) < 0 || animelemtime(3) > 26))
trigger1 = (stateno != 17002 && stateno != 140002 && stateno != 141002)
var(8) = -1
[State 0, Metergain]
type = VarSet
trigger1 = var(8) <= 0
fvar(8) = 1
[State 0, Metergain]
type = VarSet
trigger1 = var(8) > 0
fvar(8) = .15

[State Reset Ground Bounces]
type = removeexplod
triggerall = numexplod(190625)
trigger1 = !numenemy
trigger2 = numenemy
trigger2 = enemynear,movetype != H && (enemynear,statetype != L)
id = 190625
ignorehitpause = 1 
[State Reset Ground Bounces]
type = removeexplod
triggerall = numexplod(620625)
trigger1 = !numenemy
trigger2 = numenemy
trigger2 = enemynear,movetype != H && (enemynear,statetype != L)
id = 620625
ignorehitpause = 1 
[State Reset Ground Bounces]
type = removeexplod
triggerall = numexplod(650625)
trigger1 = !numenemy
trigger2 = numenemy
trigger2 = enemynear,movetype != H && (enemynear,statetype != L)
id = 650625
ignorehitpause = 1 
[State Reset Wall Bounces]
type = removeexplod
triggerall = numexplod(520525)
trigger1 = !numenemy
trigger2 = numenemy
trigger2 = enemynear,movetype != H && (enemynear,statetype != L)
id = 520525
ignorehitpause = 1 

;[State Reset Hitstun Decay Timer]
;type = varset
;triggerall = var(47)
;trigger1 = !numenemy
;trigger2 = numenemy
;trigger2 = enemynear,movetype != H && (enemynear,statetype != L)
;var(47) = 0
;ignorehitpause = 1 
;[State Set Hitstun Decay Values]
;type = varset
;trigger1 = 1
;var(48) = cond(var(47)<150,0,cond(var(47)<270,-5,cond(var(47)<390,-10,cond(var(47)<510,-15,-999))))
;ignorehitpause = 1
;[State Set Hitstun Decay Values]
;type = varset
;trigger1 = 1
;var(49) = cond(var(47)<420,0,cond(var(47)<560,-5,cond(var(47)<660,-10,cond(var(47)<780,-15,-999))))
;ignorehitpause = 1
;[State Reset Hitstun Decay Timer]
;type = varadd
;triggerall = numenemy
;triggerall = !((enemynear,movetype != H) && (enemynear,statetype != L))
;trigger1 = (stateno != 19000 && stateno != 190000) || ((stateno = 19000 || stateno = 190000) && (animelemtime(3) < 0 && animelemtime(3) > 26))
;trigger1 = (stateno != 17000) || (stateno = 17000 && (animelemtime(3) < 0 && animelemtime(3) > 26))
;trigger1 = (stateno != 17002 && stateno != 140002 && stateno != 141002)
;var(47) = 1
;ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 15
value = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) != 20
triggerall = numexplod(110) = 0
trigger1 = time > 1 && !alive
value = S2,0
channel = 0
ignorehitpause = 1
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(16) = 20
triggerall = numexplod(110) = 0
trigger1 = time > 1 && !alive
value = S222,0
channel = 0
ignorehitpause = 1
persistent = 0
[State 0, Explod]
type = Explod
triggerall = numexplod(110) = 0
trigger1 = time > 1 && !alive
anim = 616
ID = 110
pos = 0,0
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -1
removeongethit = 0
ignorehitpause = 1
persistent = 0
[State 0, RemoveExplod]
type = RemoveExplod
triggerall = numexplod(110)
trigger1 = alive && movetype != H
id = 110
ignorehitpause = 1
persistent = 0

;Clap Animation [1280x720]
[State 0, ChangeState]
type = ChangeState
triggerall = teammode != simul && enemy, teammode != simul
trigger1 = enemy, stateno = 180180
trigger1 = Enemy, AuthorName = "MaavoTheHuman"
value = 1701801
ctrl = 0

;Clap Animation [640x480]
[State 0, ChangeState]
type = ChangeState
triggerall = teammode != simul && enemy, teammode != simul
trigger1 = enemy, stateno = 180181
trigger1 = Enemy, AuthorName = "MaavoTheHuman"
value = 1701802
ctrl = 0

;Game Freeze
[State -2, Game Freeze]
type = LifeSet
trigger1 = enemy, name = "Developer Fags You Imbecile"
trigger2 = enemy, name = "Omega Tiger Woods"
trigger3 = enemy, name = "TEH ICON"
trigger4 = enemy, name = "Super Mario 64"
trigger5 = enemy, name = "Dark Donald"
trigger6 = enemy, name = "Vore"
trigger7 = enemy, name = "Abby Deel"
trigger8 = enemy, name = "Bondage"
trigger9 = enemy, name = "Tick L."
trigger10 = enemy, name = "X-Pansion"
trigger11 = enemy, name = "A joke char, built off my Candyman char"
trigger12 = enemy, name = "Balfrog"
trigger13 = enemy, name = "Y20k buggeroid"
trigger14 = enemy, name = "Gogeta"
trigger15 = enemy, name = "F1"
trigger16 = enemy, name = "Kadelioscope"
trigger17 = enemy, name = "Ayu Tukimiya"
trigger18 = EnemyNear,Name = "Donald" && EnemyNear,AuthorName = "kishio&&Donalddesu"
trigger19 = enemy, name = "Omega Donald"
trigger20 = enemy, name = "Gloria"
trigger21 = enemy, name = "Death Star"
trigger22 = enemy, name = "DORAemon"
trigger23 = enemy, name = "M-izer MK.III"
trigger24 = enemy, name = "Pacifier"
trigger25 = enemy, name = "Omega Flowey"
trigger26 = enemy, name = "YOU WANNA HAVE A BAD TOM?"
trigger27 = enemy, name = "Chuck_Norris"
trigger28 = enemy, name = "Kuromaru"
trigger29 = enemy, name = "Futamaru"
trigger30 = enemy, name = "Rare Akuma"
trigger31 = enemy, name = "Donald" && enemy, authorname = "kishio and PineappleProducer"
trigger32 = enemy, name = "Slime"
trigger33 = enemy, name = "Kuromaru/Strike"
trigger34 = enemy, name = "roper"
trigger35 = enemy, name = "Tendril"
trigger36 = enemy, name = "Minotaur"
trigger37 = Name != "Maavo"
trigger38 = Authorname != "MaavoTheHuman"
value = lifemax
ignorehitpause = 1
persistent = 1

[State -2, Game Freeze]
type = SuperPause
trigger1 = enemy, name = "Developer Fags You Imbecile"
trigger2 = enemy, name = "Omega Tiger Woods"
trigger3 = enemy, name = "TEH ICON"
trigger4 = enemy, name = "Super Mario 64"
trigger5 = enemy, name = "Dark Donald"
trigger6 = enemy, name = "Vore"
trigger7 = enemy, name = "Abby Deel"
trigger8 = enemy, name = "Bondage"
trigger9 = enemy, name = "Tick L."
trigger10 = enemy, name = "X-Pansion"
trigger11 = enemy, name = "A joke char, built off my Candyman char"
trigger12 = enemy, name = "Balfrog"
trigger13 = enemy, name = "Y20k buggeroid"
trigger14 = enemy, name = "Gogeta"
trigger15 = enemy, name = "F1"
trigger16 = enemy, name = "Kadelioscope"
trigger17 = enemy, name = "Ayu Tukimiya"
trigger18 = EnemyNear,Name = "Donald" && EnemyNear,AuthorName = "kishio&&Donalddesu"
trigger19 = enemy, name = "Omega Donald"
trigger20 = enemy, name = "Gloria"
trigger21 = enemy, name = "Death Star"
trigger22 = enemy, name = "DORAemon"
trigger23 = enemy, name = "M-izer MK.III"
trigger24 = enemy, name = "Pacifier"
trigger25 = enemy, name = "Omega Flowey"
trigger26 = enemy, name = "YOU WANNA HAVE A BAD TOM?"
trigger27 = enemy, name = "Chuck_Norris"
trigger28 = enemy, name = "Kuromaru"
trigger29 = enemy, name = "Futamaru"
trigger30 = enemy, name = "Rare Akuma"
trigger31 = enemy, name = "Donald" && enemy, authorname = "kishio and PineappleProducer"
trigger32 = enemy, name = "Slime"
trigger33 = enemy, name = "Kuromaru/Strike"
trigger34 = enemy, name = "roper"
trigger35 = enemy, name = "Tendril"
trigger36 = enemy, name = "Minotaur"
trigger37 = Name != "Maavo"
trigger38 = Authorname != "MaavoTheHuman"
time = 999
anim = 616
pos = 999, -999
movetime = 999
darken = 0
p2defmul = 0
poweradd = 0
unhittable = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = stateno != 37001
channel = 11

[State -2 , Game Freeze]
type = PlaySnd
trigger1 = enemy, name = "Developer Fags You Imbecile"
trigger2 = enemy, name = "Omega Tiger Woods"
trigger3 = enemy, name = "TEH ICON"
trigger4 = enemy, name = "Super Mario 64"
trigger5 = enemy, name = "Dark Donald"
trigger6 = enemy, name = "Vore"
trigger7 = enemy, name = "Abby Deel"
trigger8 = enemy, name = "Bondage"
trigger9 = enemy, name = "Tick L."
trigger10 = enemy, name = "X-Pansion"
trigger11 = enemy, name = "A joke char, built off my Candyman char"
trigger12 = enemy, name = "Balfrog"
trigger13 = enemy, name = "Y20k buggeroid"
trigger14 = enemy, name = "Gogeta"
trigger15 = enemy, name = "F1"
trigger16 = enemy, name = "Kadelioscope"
trigger17 = enemy, name = "Ayu Tukimiya"
trigger18 = EnemyNear,Name = "Donald" && EnemyNear,AuthorName = "kishio&&Donalddesu"
trigger19 = enemy, name = "Omega Donald"
trigger20 = enemy, name = "Gloria"
trigger21 = enemy, name = "Death Star"
trigger22 = enemy, name = "DORAemon"
trigger23 = enemy, name = "M-izer MK.III"
trigger24 = enemy, name = "Pacifier"
trigger25 = enemy, name = "Omega Flowey"
trigger26 = enemy, name = "YOU WANNA HAVE A BAD TOM?"
trigger27 = enemy, name = "Chuck_Norris"
trigger28 = enemy, name = "Kuromaru"
trigger29 = enemy, name = "Futamaru"
trigger30 = enemy, name = "Rare Akuma"
trigger31 = enemy, name = "Donald" && enemy, authorname = "kishio and PineappleProducer"
trigger32 = enemy, name = "Slime"
trigger33 = enemy, name = "Kuromaru/Strike"
trigger34 = enemy, name = "roper"
trigger35 = enemy, name = "Tendril"
trigger36 = enemy, name = "Minotaur"
trigger37 = Name != "Maavo"
trigger38 = Authorname != "MaavoTheHuman"
value = S1,0
loop = 1

[State -2, Game Freeze]
type = AssertSpecial
trigger1 = enemy, name = "Developer Fags You Imbecile"
trigger2 = enemy, name = "Omega Tiger Woods"
trigger3 = enemy, name = "TEH ICON"
trigger4 = enemy, name = "Super Mario 64"
trigger5 = enemy, name = "Dark Donald"
trigger6 = enemy, name = "Vore"
trigger7 = enemy, name = "Abby Deel"
trigger8 = enemy, name = "Bondage"
trigger9 = enemy, name = "Tick L."
trigger10 = enemy, name = "X-Pansion"
trigger11 = enemy, name = "A joke char, built off my Candyman char"
trigger12 = enemy, name = "Balfrog"
trigger13 = enemy, name = "Y20k buggeroid"
trigger14 = enemy, name = "Gogeta"
trigger15 = enemy, name = "F1"
trigger16 = enemy, name = "Kadelioscope"
trigger17 = enemy, name = "Ayu Tukimiya"
trigger18 = EnemyNear,Name = "Donald" && EnemyNear,AuthorName = "kishio&&Donalddesu"
trigger19 = enemy, name = "Omega Donald"
trigger20 = enemy, name = "Gloria"
trigger21 = enemy, name = "Death Star"
trigger22 = enemy, name = "DORAemon"
trigger23 = enemy, name = "M-izer MK.III"
trigger24 = enemy, name = "Pacifier"
trigger25 = enemy, name = "Omega Flowey"
trigger26 = enemy, name = "YOU WANNA HAVE A BAD TOM?"
trigger27 = enemy, name = "Chuck_Norris"
trigger28 = enemy, name = "Kuromaru"
trigger29 = enemy, name = "Futamaru"
trigger30 = enemy, name = "Rare Akuma"
trigger31 = enemy, name = "Donald" && enemy, authorname = "kishio and PineappleProducer"
trigger32 = enemy, name = "Slime"
trigger33 = enemy, name = "Kuromaru/Strike"
trigger34 = enemy, name = "roper"
trigger35 = enemy, name = "Tendril"
trigger36 = enemy, name = "Minotaur"
trigger37 = Name != "Maavo"
trigger38 = Authorname != "MaavoTheHuman"
flag = NoMusic
ignorehitpause=1

[State 0, Helper]
type = Helper
trigger1 = enemy, name = "Developer Fags You Imbecile"
trigger2 = enemy, name = "Omega Tiger Woods"
trigger3 = enemy, name = "TEH ICON"
trigger4 = enemy, name = "Super Mario 64"
trigger5 = enemy, name = "Dark Donald"
trigger6 = enemy, name = "Vore"
trigger7 = enemy, name = "Abby Deel"
trigger8 = enemy, name = "Bondage"
trigger9 = enemy, name = "Tick L."
trigger10 = enemy, name = "X-Pansion"
trigger11 = enemy, name = "A joke char, built off my Candyman char"
trigger12 = enemy, name = "Balfrog"
trigger13 = enemy, name = "Y20k buggeroid"
trigger14 = enemy, name = "Gogeta"
trigger15 = enemy, name = "F1"
trigger16 = enemy, name = "Kadelioscope"
trigger17 = enemy, name = "Ayu Tukimiya"
trigger18 = EnemyNear,Name = "Donald" && EnemyNear,AuthorName = "kishio&&Donalddesu"
trigger19 = enemy, name = "Omega Donald"
trigger20 = enemy, name = "Gloria"
trigger21 = enemy, name = "Death Star"
trigger22 = enemy, name = "DORAemon"
trigger23 = enemy, name = "M-izer MK.III"
trigger24 = enemy, name = "Pacifier"
trigger25 = enemy, name = "Omega Flowey"
trigger26 = enemy, name = "YOU WANNA HAVE A BAD TOM?"
trigger27 = enemy, name = "Chuck_Norris"
trigger28 = enemy, name = "Kuromaru"
trigger29 = enemy, name = "Futamaru"
trigger30 = enemy, name = "Rare Akuma"
trigger31 = enemy, name = "Donald" && enemy, authorname = "kishio and PineappleProducer"
trigger32 = enemy, name = "Slime"
trigger33 = enemy, name = "Kuromaru/Strike"
trigger34 = enemy, name = "roper"
trigger35 = enemy, name = "Tendril"
trigger36 = enemy, name = "Minotaur"
trigger37 = Name != "Maavo"
trigger38 = Authorname != "MaavoTheHuman"
helpertype = normal ;player
ID = 84803
stateno = 3741
pos = -455,-5
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .44
size.yscale = .44
pausemovetime = 0
supermovetime = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy, name = "Developer Fags You Imbecile"
trigger2 = enemy, name = "Omega Tiger Woods"
trigger3 = enemy, name = "TEH ICON"
trigger4 = enemy, name = "Super Mario 64"
trigger5 = enemy, name = "Dark Donald"
trigger6 = enemy, name = "Vore"
trigger7 = enemy, name = "Abby Deel"
trigger8 = enemy, name = "Bondage"
trigger9 = enemy, name = "Tick L."
trigger10 = enemy, name = "X-Pansion"
trigger11 = enemy, name = "A joke char, built off my Candyman char"
trigger12 = enemy, name = "Balfrog"
trigger13 = enemy, name = "Y20k buggeroid"
trigger14 = enemy, name = "Gogeta"
trigger15 = enemy, name = "F1"
trigger16 = enemy, name = "Kadelioscope"
trigger17 = enemy, name = "Ayu Tukimiya"
trigger18 = EnemyNear,Name = "Donald" && EnemyNear,AuthorName = "kishio&&Donalddesu"
trigger19 = enemy, name = "Omega Donald"
trigger20 = enemy, name = "Gloria"
trigger21 = enemy, name = "Death Star"
trigger22 = enemy, name = "DORAemon"
trigger23 = enemy, name = "M-izer MK.III"
trigger24 = enemy, name = "Pacifier"
trigger25 = enemy, name = "Omega Flowey"
trigger26 = enemy, name = "YOU WANNA HAVE A BAD TOM?"
trigger27 = enemy, name = "Chuck_Norris"
trigger28 = enemy, name = "Kuromaru"
trigger29 = enemy, name = "Futamaru"
trigger30 = enemy, name = "Rare Akuma"
trigger31 = enemy, name = "Donald" && enemy, authorname = "kishio and PineappleProducer"
trigger32 = enemy, name = "Slime"
trigger33 = enemy, name = "Kuromaru/Strike"
trigger34 = enemy, name = "roper"
trigger35 = enemy, name = "Tendril"
trigger36 = enemy, name = "Minotaur"
trigger37 = Name != "Maavo"
trigger38 = Authorname != "MaavoTheHuman"
value = 190190
ctrl = 0
ignorehitpause = 1

[State -2 , 1]
type = PlaySnd
triggerall = anim = 5300
trigger1 = time = 1
value = 5300,0

[State -2 , 1]
type = PlaySnd
triggerall = anim = 5300
trigger1 = time = 1
value = 5300,1
channel = 6

[State 0, StopSnd]
type = StopSnd
trigger1 = StateNo = 0
trigger2 = anim = 5200
channel = 9

[State -2, No Bar Display when you win using All-Out Attack]
type = AssertSpecial
trigger1 = var(55) = 1
flag = Nobardisplay
flag2 = noFG
flag3 = nobg
ignorehitpause=1

;This codes were maded by Hypha, thanks bro
[State 0, Victory Music Override: P3 Edition]
type = VarSet
triggerall = var(52) != 0
trigger1 = enemy, name = "p3hero" || enemy, name = "Christian / Taydo"; "i've found out that the animations were mostly traced from the P3 Hero char" ~MaavoTheHuman
trigger2 = enemy, name = "Junpei" || enemy, name = "Junpei Iori"
trigger3 = enemy, name = "Yukari Takeba"
trigger4 = enemy, name = "Akihiko Sanada"
trigger5 = enemy, name = "Mitsuru Kirijo"
trigger6 = enemy, name = "Aigis" || enemy, name = "Aegis" || enemy, name = "Metis"
trigger7 = enemy, name = "Ken Amada" || enemy, name = "Koromaru"; if anyone makes a kuromaru joke I swear
trigger8 = enemy, name = "Shinjiro Aragaki"; mister "not going to be made a mugen character 'cause I'm dead"
trigger9 = enemy, name = "Elizabeth" || enemy, name = "Theodore"
var(52) = 3
ignorehitpause = 1

[State 0, Victory Music Override: P4 Edition]
type = VarSet
triggerall = var(52) != 0
trigger1 = enemy, name = "Yu Narukami" || enemy, name = "Nyarukami Nyuu" || enemy, name = "P4hero"
trigger2 = enemy, name = "Yosuke Hanamura"
trigger3 = enemy, name = "Chie Satonaka"
trigger4 = enemy, name = "Yukiko Amagi"
trigger5 = enemy, name = "Kanji Tatsumi"
trigger6 = enemy, name = "Teddie" || enemy, name = "Kuma"
trigger7 = enemy, name = "Rise Kujikawa"; don't ask why she's on here but fuuka and futaba aren't
trigger8 = enemy, name = "Naoto Shirogane"
trigger9 = enemy, name = "Margaret" || enemy, name = "Marie"
trigger10 = enemy, name = "Adachi" || enemy, name = "Tohru Adachi"
var(52) = 4
ignorehitpause = 1

[State 0, Victory Music Override: P5 Edition]; watch as literally nobody else besides joker gets made for mugen
type = VarSet
triggerall = var(52) != 0
trigger1 = enemy, name = "Ren Amamiya" || enemy, name = "Akira Kurusu" || enemy, name = "Joker" || enemy, name = "p5hero" || enemy, name = "Trickster" || enemy, name = "trickster"
trigger2 = enemy, name = "Morgana" || enemy, name = "Mona"
trigger3 = enemy, name = "Ryuji Sakamoto"
trigger4 = enemy, name = "Ann Takamaki" || enemy, name = "Anne Takamaki"
trigger5 = enemy, name = "Yusuke Kitagawa"
trigger6 = enemy, name = "Makoto Nijima"
trigger7 = enemy, name = "Haru Okumura"
trigger8 = enemy, name = "Goro Akechi"
trigger9 = enemy, name = "Caroline" || enemy, name = "Justine"
var(52) = 5
ignorehitpause = 1

[State 0, Victory Music Override: P5 Bonus Pack]; aka the "literally never going to get made for mugen" squad, alongside shinji up there
type = VarSet
triggerall = var(52) != 0
trigger1 = enemy, name = "Lavenza"
trigger2 = enemy, name = "Black Mask"
trigger3 = enemy, name = "Kasumi Yoshizawa" || enemy, name = "Sumire Yoshizawa"
trigger4 = enemy, name = "Sophia"
trigger5 = enemy, name = "Zenkichi Hasegawa"
var(52) = 5
ignorehitpause = 1

[State 0, Victory Music Override: MAAVO JOKER]; MAAVO JOKER
type = VarSet
triggerall = var(52) != 0
trigger1 = palno = 6
var(52) = 5
ignorehitpause = 1
[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = movetype != H
flag = nokoslow
ignorehitpause = 1
[State 0, Helper]
type = Helper
triggerall = numhelper(911) = 0
triggerall = teammode != simul
triggerall = stateno != 141002 && prevstateno != 141002
trigger1 = var(34) = 0 && var(55) = 0
Trigger1 = WinKO
Trigger1 = RoundState=3
Name = "K.O. Screen"
StateNo = 911
ID = 911
Pos = 0,0
PosType = Back
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
PauseMoveTime = 9999
SuperMoveTime = 9999
[State 0, AssertSpecial]
type = AssertSpecial
triggerall = teammode != simul
trigger1 = movetype != H
flag = nokoslow
ignorehitpause = 1
[State 0, Helper]
type = Helper
triggerall = var(52) != 0
trigger1 = numhelper(911) = 1
Trigger1 = WinKO
Trigger1 = RoundState>=3
trigger1 = movehit
Name = "No Music"
StateNo = 1995
ID = 1995
Pos = 0,0
PosType = Back
OwnPal = 1
IgnoreHitPause = 1
Persistent = 0
PauseMoveTime = 9999
SuperMoveTime = 9999

;Victory Quotes [Spanish]
[State -2, Normal]
Type = VictoryQuote
trigger1 = var(16) = 0
Value = 1 + random%8

;Victory Quotes [English]
[State -2, Normal]
Type = VictoryQuote
trigger1 = var(16) = 1
Value = 8 + random%8

[State -2, Oliver]
type = VictoryQuote
triggerall = var(16) = 0
trigger1 = Enemy, Name = "Oliver Andersen" || Enemy, AuthorName = "Oliver As Latias"
value = 16

[State -2, Oliver]
type = VictoryQuote
triggerall = var(16) = 1
trigger1 = Enemy, Name = "Oliver Andersen" || Enemy, AuthorName = "Oliver As Latias"
value = 21

[State -2, Peketo]
type = VictoryQuote
triggerall = var(16) = 0
trigger1 = Enemy, Name = "Peketo"
value = 17

[State -2, Peketo]
type = VictoryQuote
triggerall = var(16) = 1
trigger1 = Enemy, Name = "Peketo"
value = 22

[State -2, Joker]
type = VictoryQuote
triggerall = var(16) = 0
trigger1 = enemy, name = "Ren Amamiya" || enemy, name = "Akira Kurusu" || enemy, name = "Joker" || enemy, name = "p5hero" || enemy, name = "Trickster" || enemy, name = "trickster"
value = 18

[State -2, Joker]
type = VictoryQuote
triggerall = var(16) = 1
trigger1 = enemy, name = "Ren Amamiya" || enemy, name = "Akira Kurusu" || enemy, name = "Joker" || enemy, name = "p5hero" || enemy, name = "Trickster" || enemy, name = "trickster"
value = 23

[State -2, Martin]
type = VictoryQuote
triggerall = var(16) = 0
trigger1 = enemy, name = "Martin" && enemy, authorname = "Jeff Swag"
trigger2 = enemy, name ="NewMartin" && enemy, authorname = "Jeff Swag"
trigger3 = enemy, name = "Martin Bravo" && enemy, authorname = "Maavo!, AustinAnims" 
value = 19

[State -2, Martin]
type = VictoryQuote
triggerall = var(16) = 0
trigger1 = enemy, name = "Martin" && enemy, authorname = "Jeff Swag"
trigger2 = enemy, name ="NewMartin" && enemy, authorname = "Jeff Swag"
trigger3 = enemy, name = "Martin Bravo" && enemy, authorname = "Maavo!, AustinAnims" 
value = 24

[State -2, Thieves]
type = VictoryQuote
triggerall = var(16) = 0
trigger1 = Enemy, Name = "Christian / Taydo"
trigger2 = Enemy, Name = "Ayrton da Silva Leal Jensen" || Enemy, AuthorName = "AJ1AyrtonClimax" || Enemy, AuthorName = "AJ1Ayrton|AJ1Ayrton(Ninja)" || Enemy, AuthorName = "AJ1Ayrton(Ninja)" || Enemy, AuthorName = "AJ1Ayrton"
value = 20

[State -2, Thieves]
type = VictoryQuote
triggerall = var(16) = 1
trigger1 = Enemy, Name = "Christian / Taydo"
trigger2 = Enemy, Name = "Ayrton da Silva Leal Jensen" || Enemy, AuthorName = "AJ1AyrtonClimax" || Enemy, AuthorName = "AJ1Ayrton|AJ1Ayrton(Ninja)" || Enemy, AuthorName = "AJ1Ayrton(Ninja)" || Enemy, AuthorName = "AJ1Ayrton"
value = 25
;_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-_-
[Statedef -3]

;This controller plays a sound everytime the player lands from a jump, or
;from a back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = S51, 0

[State -3]
type = ChangeState
trigger1 = Stateno = 0
trigger1 = Pos y != 0
value = 50
ctrl = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = StateNo = 0
trigger2 = StateNo = 5000 || StateNo = 5001 || StateNo = 5010 ||  StateNo = 5011 || StateNo = 5070 || StateNo = 5100 || StateNo = 5050 || StateNo = 1900101
channel = 6

[State 0, StopSnd]
type = StopSnd
trigger1 = roundstate = 2
channel = 18

[State 0, StopSnd]
type = StopSnd
trigger1 = alive = 0
channel = 1

[State -3, Pain Sound]
type = playsnd
triggerall = var(16) = 0 || var(16) = 1 || var(16) = 2 || var(16) = 3
triggerall = movetype = H && random < 500
trigger1 = alive = 1 && time = 0
trigger1 = StateNo = 5000 || StateNo = 5010 || StateNo = 5020 || StateNo = 5070
channel = 1
value = S5000, 1+random%4

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno != 620
id = 622

[State -3]
type = playsnd
triggerall = var(16) = 20
triggerall = movetype = H && random < 500
trigger1 = alive = 1 && time = 0
trigger1 = StateNo = 5000 || StateNo = 5010 || StateNo = 5020 || StateNo = 5070
value = S5302, 0+random%4

;test state
[Statedef 888]
type = S
ctrl = 0
anim = 8883
velset = 0,0

[State 0, AngleAdd]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1.3,1.3
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = S999,0

[State 181, 2]
type = PlaySnd
trigger1 = time = 0
value = 888,0+random%2
loop = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = 0

[state 182, No Life Bar]
type = assertspecial
trigger1 = 1
flag = NoMusic

[State 0, PalFX]
type = PalFX
trigger1 = time = [0,16]
time = 1
add = time*16,time*16,time*16
mul = 256,256,256

[State 0, PalFX]
type = PalFX
trigger1 = time = [16,32]
time = 1
add = 256-(time-16)*16,256-(time-16)*16,256-(time-16)*16
mul = 256,256,256

[State 181, 0]
type = AssertSpecial
trigger1 = Time < 190
flag = RoundNotOver

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 5


[State 119904 , 1]
type = Explod
trigger1 = enemy, stateno = 1701801
anim = 17424342
pos = 0, 177
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 36
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
trigger1 = enemy, stateno = 1701802
anim = 17424342
pos = 0, 234
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 36
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
trigger1 = enemy, stateno = 1701801
anim = ifelse(teamside=1,17323234,1732323)
pos = 0, 177
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 34
scale = .5,.5
persistent = 0

[State 119904 , 1]
type = Explod
trigger1 = enemy, stateno = 1701802
anim = ifelse(teamside=1,17323234,1732323)
pos = 0, 234
postype = left
removetime=-1
facing = 0
bindtime = -1
vel = 0, 0
sprpriority = 34
scale = .5,.5
persistent = 0

[State 181, Round Not Over Yet]
type = AssertSpecial
trigger1 = time < 3496
flag = RoundNotOver

;---------------------------------------------------------------------------